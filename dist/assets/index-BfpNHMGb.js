var j5=Object.defineProperty;var q5=(r,e,t)=>e in r?j5(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var $=(r,e,t)=>(q5(r,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var Ms,Ce,t3,Ki,bm,n3,ah,r3,ys={},i3=[],K5=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ud=Array.isArray;function $r(r,e){for(var t in e)r[t]=e[t];return r}function o3(r){var e=r.parentNode;e&&e.removeChild(r)}function Re(r,e,t){var n,i,a,s={};for(a in e)a=="key"?n=e[a]:a=="ref"?i=e[a]:s[a]=e[a];if(arguments.length>2&&(s.children=arguments.length>3?Ms.call(arguments,2):t),typeof r=="function"&&r.defaultProps!=null)for(a in r.defaultProps)s[a]===void 0&&(s[a]=r.defaultProps[a]);return os(r,s,n,i,null)}function os(r,e,t,n,i){var a={type:r,props:e,key:t,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++t3,__i:-1,__u:0};return i==null&&Ce.vnode!=null&&Ce.vnode(a),a}function wr(){return{current:null}}function P(r){return r.children}function Le(r,e){this.props=r,this.context=e}function co(r,e){if(e==null)return r.__?co(r.__,r.__i+1):null;for(var t;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null)return t.__e;return typeof r.type=="function"?co(r):null}function a3(r){var e,t;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,e=0;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null){r.__e=r.__c.base=t.__e;break}return a3(r)}}function sh(r){(!r.__d&&(r.__d=!0)&&Ki.push(r)&&!Cl.__r++||bm!==Ce.debounceRendering)&&((bm=Ce.debounceRendering)||n3)(Cl)}function Cl(){var r,e,t,n,i,a,s,c,l;for(Ki.sort(ah);r=Ki.shift();)r.__d&&(e=Ki.length,n=void 0,a=(i=(t=r).__v).__e,c=[],l=[],(s=t.__P)&&((n=$r({},i)).__v=i.__v+1,Ce.vnode&&Ce.vnode(n),_p(s,n,i,t.__n,s.ownerSVGElement!==void 0,32&i.__u?[a]:null,c,a??co(i),!!(32&i.__u),l),n.__v=i.__v,n.__.__k[n.__i]=n,l3(c,n,l),n.__e!=a&&a3(n)),Ki.length>e&&Ki.sort(ah));Cl.__r=0}function s3(r,e,t,n,i,a,s,c,l,d,u){var h,p,f,g,m,v=n&&n.__k||i3,_=e.length;for(t.__d=l,G5(t,e,v),l=t.__d,h=0;h<_;h++)(f=t.__k[h])!=null&&typeof f!="boolean"&&typeof f!="function"&&(p=f.__i===-1?ys:v[f.__i]||ys,f.__i=h,_p(r,f,p,i,a,s,c,l,d,u),g=f.__e,f.ref&&p.ref!=f.ref&&(p.ref&&yp(p.ref,null,f),u.push(f.ref,f.__c||g,f)),m==null&&g!=null&&(m=g),65536&f.__u||p.__k===f.__k?(g||p.__e!=l||(l=co(p)),l=c3(f,l,r)):typeof f.type=="function"&&f.__d!==void 0?l=f.__d:g&&(l=g.nextSibling),f.__d=void 0,f.__u&=-196609);t.__d=l,t.__e=m}function G5(r,e,t){var n,i,a,s,c,l=e.length,d=t.length,u=d,h=0;for(r.__k=[],n=0;n<l;n++)s=n+h,(i=r.__k[n]=(i=e[n])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?os(null,i,null,null,null):ud(i)?os(P,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?os(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=r,i.__b=r.__b+1,c=Q5(i,t,s,u),i.__i=c,a=null,c!==-1&&(u--,(a=t[c])&&(a.__u|=131072)),a==null||a.__v===null?(c==-1&&h--,typeof i.type!="function"&&(i.__u|=65536)):c!==s&&(c===s+1?h++:c>s?u>l-s?h+=c-s:h--:c<s?c==s-1&&(h=c-s):h=0,c!==n+h&&(i.__u|=65536))):(a=t[s])&&a.key==null&&a.__e&&!(131072&a.__u)&&(a.__e==r.__d&&(r.__d=co(a)),ch(a,a,!1),t[s]=null,u--);if(u)for(n=0;n<d;n++)(a=t[n])!=null&&!(131072&a.__u)&&(a.__e==r.__d&&(r.__d=co(a)),ch(a,a))}function c3(r,e,t){var n,i;if(typeof r.type=="function"){for(n=r.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=r,e=c3(n[i],e,t));return e}r.__e!=e&&(t.insertBefore(r.__e,e||null),e=r.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function qn(r,e){return e=e||[],r==null||typeof r=="boolean"||(ud(r)?r.some(function(t){qn(t,e)}):e.push(r)),e}function Q5(r,e,t,n){var i=r.key,a=r.type,s=t-1,c=t+1,l=e[t];if(l===null||l&&i==l.key&&a===l.type&&!(131072&l.__u))return t;if(n>(l!=null&&!(131072&l.__u)?1:0))for(;s>=0||c<e.length;){if(s>=0){if((l=e[s])&&!(131072&l.__u)&&i==l.key&&a===l.type)return s;s--}if(c<e.length){if((l=e[c])&&!(131072&l.__u)&&i==l.key&&a===l.type)return c;c++}}return-1}function wm(r,e,t){e[0]==="-"?r.setProperty(e,t??""):r[e]=t==null?"":typeof t!="number"||K5.test(e)?t:t+"px"}function nc(r,e,t,n,i){var a;e:if(e==="style")if(typeof t=="string")r.style.cssText=t;else{if(typeof n=="string"&&(r.style.cssText=n=""),n)for(e in n)t&&e in t||wm(r.style,e,"");if(t)for(e in t)n&&t[e]===n[e]||wm(r.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in r||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),r.l||(r.l={}),r.l[e+a]=t,t?n?t.u=n.u:(t.u=Date.now(),r.addEventListener(e,a?Am:Sm,a)):r.removeEventListener(e,a?Am:Sm,a);else{if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in r)try{r[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e[4]!=="-"?r.removeAttribute(e):r.setAttribute(e,t))}}function Sm(r){if(this.l){var e=this.l[r.type+!1];if(r.t){if(r.t<=e.u)return}else r.t=Date.now();return e(Ce.event?Ce.event(r):r)}}function Am(r){if(this.l)return this.l[r.type+!0](Ce.event?Ce.event(r):r)}function _p(r,e,t,n,i,a,s,c,l,d){var u,h,p,f,g,m,v,_,y,w,b,C,N,S,k,T=e.type;if(e.constructor!==void 0)return null;128&t.__u&&(l=!!(32&t.__u),a=[c=e.__e=t.__e]),(u=Ce.__b)&&u(e);e:if(typeof T=="function")try{if(_=e.props,y=(u=T.contextType)&&n[u.__c],w=u?y?y.props.value:u.__:n,t.__c?v=(h=e.__c=t.__c).__=h.__E:("prototype"in T&&T.prototype.render?e.__c=h=new T(_,w):(e.__c=h=new Le(_,w),h.constructor=T,h.render=X5),y&&y.sub(h),h.props=_,h.state||(h.state={}),h.context=w,h.__n=n,p=h.__d=!0,h.__h=[],h._sb=[]),h.__s==null&&(h.__s=h.state),T.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=$r({},h.__s)),$r(h.__s,T.getDerivedStateFromProps(_,h.__s))),f=h.props,g=h.state,h.__v=e,p)T.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(T.getDerivedStateFromProps==null&&_!==f&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(_,w),!h.__e&&(h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(_,h.__s,w)===!1||e.__v===t.__v)){for(e.__v!==t.__v&&(h.props=_,h.state=h.__s,h.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(A){A&&(A.__=e)}),b=0;b<h._sb.length;b++)h.__h.push(h._sb[b]);h._sb=[],h.__h.length&&s.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(_,h.__s,w),h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(f,g,m)})}if(h.context=w,h.props=_,h.__P=r,h.__e=!1,C=Ce.__r,N=0,"prototype"in T&&T.prototype.render){for(h.state=h.__s,h.__d=!1,C&&C(e),u=h.render(h.props,h.state,h.context),S=0;S<h._sb.length;S++)h.__h.push(h._sb[S]);h._sb=[]}else do h.__d=!1,C&&C(e),u=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++N<25);h.state=h.__s,h.getChildContext!=null&&(n=$r($r({},n),h.getChildContext())),p||h.getSnapshotBeforeUpdate==null||(m=h.getSnapshotBeforeUpdate(f,g)),s3(r,ud(k=u!=null&&u.type===P&&u.key==null?u.props.children:u)?k:[k],e,t,n,i,a,s,c,l,d),h.base=e.__e,e.__u&=-161,h.__h.length&&s.push(h),v&&(h.__E=h.__=null)}catch(A){e.__v=null,l||a!=null?(e.__e=c,e.__u|=l?160:32,a[a.indexOf(c)]=null):(e.__e=t.__e,e.__k=t.__k),Ce.__e(A,e,t)}else a==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=Z5(t.__e,e,t,n,i,a,s,l,d);(u=Ce.diffed)&&u(e)}function l3(r,e,t){e.__d=void 0;for(var n=0;n<t.length;n++)yp(t[n],t[++n],t[++n]);Ce.__c&&Ce.__c(e,r),r.some(function(i){try{r=i.__h,i.__h=[],r.some(function(a){a.call(i)})}catch(a){Ce.__e(a,i.__v)}})}function Z5(r,e,t,n,i,a,s,c,l){var d,u,h,p,f,g,m,v=t.props,_=e.props,y=e.type;if(y==="svg"&&(i=!0),a!=null){for(d=0;d<a.length;d++)if((f=a[d])&&"setAttribute"in f==!!y&&(y?f.localName===y:f.nodeType===3)){r=f,a[d]=null;break}}if(r==null){if(y===null)return document.createTextNode(_);r=i?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,_.is&&_),a=null,c=!1}if(y===null)v===_||c&&r.data===_||(r.data=_);else{if(a=a&&Ms.call(r.childNodes),v=t.props||ys,!c&&a!=null)for(v={},d=0;d<r.attributes.length;d++)v[(f=r.attributes[d]).name]=f.value;for(d in v)f=v[d],d=="children"||(d=="dangerouslySetInnerHTML"?h=f:d==="key"||d in _||nc(r,d,null,f,i));for(d in _)f=_[d],d=="children"?p=f:d=="dangerouslySetInnerHTML"?u=f:d=="value"?g=f:d=="checked"?m=f:d==="key"||c&&typeof f!="function"||v[d]===f||nc(r,d,f,v[d],i);if(u)c||h&&(u.__html===h.__html||u.__html===r.innerHTML)||(r.innerHTML=u.__html),e.__k=[];else if(h&&(r.innerHTML=""),s3(r,ud(p)?p:[p],e,t,n,i&&y!=="foreignObject",a,s,a?a[0]:t.__k&&co(t,0),c,l),a!=null)for(d=a.length;d--;)a[d]!=null&&o3(a[d]);c||(d="value",g!==void 0&&(g!==r[d]||y==="progress"&&!g||y==="option"&&g!==v[d])&&nc(r,d,g,v[d],!1),d="checked",m!==void 0&&m!==r[d]&&nc(r,d,m,v[d],!1))}return r}function yp(r,e,t){try{typeof r=="function"?r(e):r.current=e}catch(n){Ce.__e(n,t)}}function ch(r,e,t){var n,i;if(Ce.unmount&&Ce.unmount(r),(n=r.ref)&&(n.current&&n.current!==r.__e||yp(n,null,e)),(n=r.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){Ce.__e(a,e)}n.base=n.__P=null,r.__c=void 0}if(n=r.__k)for(i=0;i<n.length;i++)n[i]&&ch(n[i],e,t||typeof r.type!="function");t||r.__e==null||o3(r.__e),r.__=r.__e=r.__d=void 0}function X5(r,e,t){return this.constructor(r,t)}function na(r,e,t){var n,i,a,s;Ce.__&&Ce.__(r,e),i=(n=typeof t=="function")?null:t&&t.__k||e.__k,a=[],s=[],_p(e,r=(!n&&t||e).__k=Re(P,null,[r]),i||ys,ys,e.ownerSVGElement!==void 0,!n&&t?[t]:i?null:e.firstChild?Ms.call(e.childNodes):null,a,!n&&t?t:i?i.__e:e.firstChild,n,s),l3(a,r,s)}function d3(r,e){na(r,e,d3)}function u3(r,e,t){var n,i,a,s,c=$r({},r.props);for(a in r.type&&r.type.defaultProps&&(s=r.type.defaultProps),e)a=="key"?n=e[a]:a=="ref"?i=e[a]:c[a]=e[a]===void 0&&s!==void 0?s[a]:e[a];return arguments.length>2&&(c.children=arguments.length>3?Ms.call(arguments,2):t),os(r.type,c,n||r.key,i||r.ref,null)}function Ft(r,e){var t={__c:e="__cC"+r3++,__:r,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,a;return this.getChildContext||(i=[],(a={})[e]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.some(function(c){c.__e=!0,sh(c)})},this.sub=function(s){i.push(s);var c=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),c&&c.call(s)}}),n.children}};return t.Provider.__=t.Consumer.contextType=t}Ms=i3.slice,Ce={__e:function(r,e,t,n){for(var i,a,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(r)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(r,n||{}),s=i.__d),s)return i.__E=i}catch(c){r=c}throw r}},t3=0,Le.prototype.setState=function(r,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=$r({},this.state),typeof r=="function"&&(r=r($r({},t),this.props)),r&&$r(t,r),r!=null&&this.__v&&(e&&this._sb.push(e),sh(this))},Le.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),sh(this))},Le.prototype.render=P,Ki=[],n3=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ah=function(r,e){return r.__v.__b-e.__v.__b},Cl.__r=0,r3=0;var ei,Je,uu,Nm,ra=0,h3=[],Kc=[],mt=Ce,Em=mt.__b,Tm=mt.__r,km=mt.diffed,Im=mt.__c,xm=mt.unmount,Pm=mt.__;function bo(r,e){mt.__h&&mt.__h(Je,r,ra||e),ra=0;var t=Je.__H||(Je.__H={__:[],__h:[]});return r>=t.__.length&&t.__.push({__V:Kc}),t.__[r]}function O(r){return ra=1,hd(g3,r)}function hd(r,e,t){var n=bo(ei++,2);if(n.t=r,!n.__c&&(n.__=[t?t(e):g3(void 0,e),function(c){var l=n.__N?n.__N[0]:n.__[0],d=n.t(l,c);l!==d&&(n.__N=[d,n.__[1]],n.__c.setState({}))}],n.__c=Je,!Je.u)){var i=function(c,l,d){if(!n.__c.__H)return!0;var u=n.__c.__H.__.filter(function(p){return!!p.__c});if(u.every(function(p){return!p.__N}))return!a||a.call(this,c,l,d);var h=!1;return u.forEach(function(p){if(p.__N){var f=p.__[0];p.__=p.__N,p.__N=void 0,f!==p.__[0]&&(h=!0)}}),!(!h&&n.__c.props===c)&&(!a||a.call(this,c,l,d))};Je.u=!0;var a=Je.shouldComponentUpdate,s=Je.componentWillUpdate;Je.componentWillUpdate=function(c,l,d){if(this.__e){var u=a;a=void 0,i(c,l,d),a=u}s&&s.call(this,c,l,d)},Je.shouldComponentUpdate=i}return n.__N||n.__}function Z(r,e){var t=bo(ei++,3);!mt.__s&&Cp(t.__H,e)&&(t.__=r,t.i=e,Je.__H.__h.push(t))}function xi(r,e){var t=bo(ei++,4);!mt.__s&&Cp(t.__H,e)&&(t.__=r,t.i=e,Je.__h.push(t))}function Ot(r){return ra=5,Me(function(){return{current:r}},[])}function p3(r,e,t){ra=6,xi(function(){return typeof r=="function"?(r(e()),function(){return r(null)}):r?(r.current=e(),function(){return r.current=null}):void 0},t==null?t:t.concat(r))}function Me(r,e){var t=bo(ei++,7);return Cp(t.__H,e)?(t.__V=r(),t.i=e,t.__h=r,t.__V):t.__}function nn(r,e){return ra=8,Me(function(){return r},e)}function Yt(r){var e=Je.context[r.__c],t=bo(ei++,9);return t.c=r,e?(t.__==null&&(t.__=!0,e.sub(Je)),e.props.value):r.__}function f3(r,e){mt.useDebugValue&&mt.useDebugValue(e?e(r):r)}function J5(r){var e=bo(ei++,10),t=O();return e.__=r,Je.componentDidCatch||(Je.componentDidCatch=function(n,i){e.__&&e.__(n,i),t[1](n)}),[t[0],function(){t[1](void 0)}]}function m3(){var r=bo(ei++,11);if(!r.__){for(var e=Je.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var t=e.__m||(e.__m=[0,0]);r.__="P"+t[0]+"-"+t[1]++}return r.__}function ey(){for(var r;r=h3.shift();)if(r.__P&&r.__H)try{r.__H.__h.forEach(Gc),r.__H.__h.forEach(lh),r.__H.__h=[]}catch(e){r.__H.__h=[],mt.__e(e,r.__v)}}mt.__b=function(r){Je=null,Em&&Em(r)},mt.__=function(r,e){r&&e.__k&&e.__k.__m&&(r.__m=e.__k.__m),Pm&&Pm(r,e)},mt.__r=function(r){Tm&&Tm(r),ei=0;var e=(Je=r.__c).__H;e&&(uu===Je?(e.__h=[],Je.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=Kc,t.__N=t.i=void 0})):(e.__h.forEach(Gc),e.__h.forEach(lh),e.__h=[],ei=0)),uu=Je},mt.diffed=function(r){km&&km(r);var e=r.__c;e&&e.__H&&(e.__H.__h.length&&(h3.push(e)!==1&&Nm===mt.requestAnimationFrame||((Nm=mt.requestAnimationFrame)||ty)(ey)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==Kc&&(t.__=t.__V),t.i=void 0,t.__V=Kc})),uu=Je=null},mt.__c=function(r,e){e.some(function(t){try{t.__h.forEach(Gc),t.__h=t.__h.filter(function(n){return!n.__||lh(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],mt.__e(n,t.__v)}}),Im&&Im(r,e)},mt.unmount=function(r){xm&&xm(r);var e,t=r.__c;t&&t.__H&&(t.__H.__.forEach(function(n){try{Gc(n)}catch(i){e=i}}),t.__H=void 0,e&&mt.__e(e,t.__v))};var Dm=typeof requestAnimationFrame=="function";function ty(r){var e,t=function(){clearTimeout(n),Dm&&cancelAnimationFrame(e),setTimeout(r)},n=setTimeout(t,100);Dm&&(e=requestAnimationFrame(t))}function Gc(r){var e=Je,t=r.__c;typeof t=="function"&&(r.__c=void 0,t()),Je=e}function lh(r){var e=Je;r.__c=r.__(),Je=e}function Cp(r,e){return!r||r.length!==e.length||e.some(function(t,n){return t!==r[n]})}function g3(r,e){return typeof e=="function"?e(r):e}var ny={};function Wa(r,e){for(var t in e)r[t]=e[t];return r}function v3(r,e,t){var n,i=/(?:\?([^#]*))?(#.*)?$/,a=r.match(i),s={};if(a&&a[1])for(var c=a[1].split("&"),l=0;l<c.length;l++){var d=c[l].split("=");s[decodeURIComponent(d[0])]=decodeURIComponent(d.slice(1).join("="))}r=dh(r.replace(i,"")),e=dh(e||"");for(var u=Math.max(r.length,e.length),h=0;h<u;h++)if(e[h]&&e[h].charAt(0)===":"){var p=e[h].replace(/(^:|[+*?]+$)/g,""),f=(e[h].match(/[+*?]+$/)||ny)[0]||"",g=~f.indexOf("+"),m=~f.indexOf("*"),v=r[h]||"";if(!v&&!m&&(f.indexOf("?")<0||g)){n=!1;break}if(s[p]=decodeURIComponent(v),g||m){s[p]=r.slice(h).map(decodeURIComponent).join("/");break}}else if(e[h]!==r[h]){n=!1;break}return(t.default===!0||n!==!1)&&s}function ry(r,e){return r.rank<e.rank?1:r.rank>e.rank?-1:r.index-e.index}function iy(r,e){return r.index=e,r.rank=function(t){return t.props.default?0:dh(t.props.path).map(oy).join("")}(r),r.props}function dh(r){return r.replace(/(^\/+|\/+$)/g,"").split("/")}function oy(r){return r.charAt(0)==":"?1+"*+?".indexOf(r.charAt(r.length-1))||4:5}var ay={},Ji=[],as=[],En=null,bp={url:wp()},_3=Ft(bp);function er(){var r=Yt(_3);if(r===bp){var e=O()[1];Z(function(){return as.push(e),function(){return as.splice(as.indexOf(e),1)}},[])}return[r,V]}function wp(){var r;return""+((r=En&&En.location?En.location:En&&En.getCurrentLocation?En.getCurrentLocation():typeof location<"u"?location:ay).pathname||"")+(r.search||"")}function V(r,e){return e===void 0&&(e=!1),typeof r!="string"&&r.url&&(e=r.replace,r=r.url),function(t){for(var n=Ji.length;n--;)if(Ji[n].canRoute(t))return!0;return!1}(r)&&function(t,n){n===void 0&&(n="push"),En&&En[n]?En[n](t):typeof history<"u"&&history[n+"State"]&&history[n+"State"](null,null,t)}(r,e?"replace":"push"),y3(r)}function y3(r){for(var e=!1,t=0;t<Ji.length;t++)Ji[t].routeTo(r)&&(e=!0);return e}function sy(r){if(r&&r.getAttribute){var e=r.getAttribute("href"),t=r.getAttribute("target");if(e&&e.match(/^\//g)&&(!t||t.match(/^_?self$/i)))return V(e)}}function cy(r){return r.stopImmediatePropagation&&r.stopImmediatePropagation(),r.stopPropagation&&r.stopPropagation(),r.preventDefault(),!1}function C3(r){if(!(r.ctrlKey||r.metaKey||r.altKey||r.shiftKey||r.button)){var e=r.target;do if(e.localName==="a"&&e.getAttribute("href")){if(e.hasAttribute("data-native")||e.hasAttribute("native"))return;if(sy(e))return cy(r)}while(e=e.parentNode)}}var Om=!1;function Qc(r){r.history&&(En=r.history),this.state={url:r.url||wp()}}Wa(Qc.prototype=new Le,{shouldComponentUpdate:function(r){return r.static!==!0||r.url!==this.props.url||r.onChange!==this.props.onChange},canRoute:function(r){var e=qn(this.props.children);return this.g(e,r)!==void 0},routeTo:function(r){this.setState({url:r});var e=this.canRoute(r);return this.p||this.forceUpdate(),e},componentWillMount:function(){this.p=!0},componentDidMount:function(){var r=this;Om||(Om=!0,En||addEventListener("popstate",function(){y3(wp())}),addEventListener("click",C3)),Ji.push(this),En&&(this.u=En.listen(function(e){var t=e.location||e;r.routeTo(""+(t.pathname||"")+(t.search||""))})),this.p=!1},componentWillUnmount:function(){typeof this.u=="function"&&this.u(),Ji.splice(Ji.indexOf(this),1)},componentWillUpdate:function(){this.p=!0},componentDidUpdate:function(){this.p=!1},g:function(r,e){r=r.filter(iy).sort(ry);for(var t=0;t<r.length;t++){var n=r[t],i=v3(e,n.props.path,n.props);if(i)return[n,i]}},render:function(r,e){var t,n,i=r.onChange,a=e.url,s=this.c,c=this.g(qn(r.children),a);if(c&&(n=u3(c[0],Wa(Wa({url:a,matches:t=c[1]},t),{key:void 0,ref:void 0}))),a!==(s&&s.url)){Wa(bp,s=this.c={url:a,previous:s&&s.url,current:n,path:n?n.props.path:null,matches:t}),s.router=this,s.active=n?[n]:[];for(var l=as.length;l--;)as[l]({});typeof i=="function"&&i(s)}return Re(_3.Provider,{value:s},n)}});var Tt=function(r){return Re("a",Wa({onClick:C3},r))};/*! @azure/msal-common v14.16.0 2024-11-05 */const Y={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},rc={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},ba=[Y.OPENID_SCOPE,Y.PROFILE_SCOPE,Y.OFFLINE_ACCESS_SCOPE],Rm=[...ba,Y.EMAIL_SCOPE],on={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},Ht={ID_TOKEN:"idtoken",CLIENT_INFO:"client.info",ADAL_ID_TOKEN:"adal.idtoken",ERROR:"error",ERROR_DESC:"error.description",ACTIVE_ACCOUNT:"active-account",ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},wi={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},ic={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},Bt={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},Mm={PLAIN:"plain",S256:"S256"},Ls={QUERY:"query",FRAGMENT:"fragment"},ly={...Ls,FORM_POST:"form_post"},b3={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},oc={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},en={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},fe={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},Sp="appmetadata",dy="client_info",ss="1",bl={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},bn={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},jt={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Ke={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},cs={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},Lm={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},Fm={username:"username",password:"password"},ac={httpSuccess:200,httpBadRequest:400},Do={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},hu={CONFIGURED_MATCHES_DETECTED:"1",CONFIGURED_NO_AUTO_DETECTION:"2",CONFIGURED_NOT_DETECTED:"3",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},hi={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},uy={Jwt:"JWT",Jwk:"JWK",Pop:"pop"},hy=300;/*! @azure/msal-common v14.16.0 2024-11-05 */const Ap="unexpected_error",py="post_request_failed";/*! @azure/msal-common v14.16.0 2024-11-05 */const Hm={[Ap]:"Unexpected error in authentication.",[py]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class pt extends Error{constructor(e,t,n){const i=t?`${e}: ${t}`:e;super(i),Object.setPrototypeOf(this,pt.prototype),this.errorCode=e||Y.EMPTY_STRING,this.errorMessage=t||Y.EMPTY_STRING,this.subError=n||Y.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function w3(r,e){return new pt(r,e?`${Hm[r]} ${e}`:Hm[r])}/*! @azure/msal-common v14.16.0 2024-11-05 */const Np="client_info_decoding_error",S3="client_info_empty_error",Ep="token_parsing_error",A3="null_or_empty_token",Fr="endpoints_resolution_error",N3="network_error",E3="openid_config_error",T3="hash_not_deserialized",ia="invalid_state",k3="state_mismatch",wl="state_not_found",I3="nonce_mismatch",Tp="auth_time_not_found",x3="max_age_transpired",fy="multiple_matching_tokens",my="multiple_matching_accounts",P3="multiple_matching_appMetadata",D3="request_cannot_be_made",O3="cannot_remove_empty_scope",R3="cannot_append_scopeset",uh="empty_input_scopeset",gy="device_code_polling_cancelled",vy="device_code_expired",_y="device_code_unknown_error",kp="no_account_in_silent_request",M3="invalid_cache_record",Ip="invalid_cache_environment",hh="no_account_found",ph="no_crypto_object",fh="unexpected_credential_type",yy="invalid_assertion",Cy="invalid_client_credential",Br="token_refresh_required",by="user_timeout_reached",L3="token_claims_cnf_required_for_signedjwt",F3="authorization_code_missing_from_server_response",H3="binding_key_not_removed",U3="end_session_endpoint_not_supported",xp="key_id_missing",wy="no_network_connectivity",Sy="user_canceled",Ay="missing_tenant_id_error",be="method_not_implemented",Ny="nested_app_auth_bridge_disabled";/*! @azure/msal-common v14.16.0 2024-11-05 */const Um={[Np]:"The client info could not be parsed/decoded correctly",[S3]:"The client info was empty",[Ep]:"Token cannot be parsed",[A3]:"The token is null or empty",[Fr]:"Endpoints cannot be resolved",[N3]:"Network request failed",[E3]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[T3]:"The hash parameters could not be deserialized",[ia]:"State was not the expected format",[k3]:"State mismatch error",[wl]:"State not found",[I3]:"Nonce mismatch error",[Tp]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[x3]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[fy]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[my]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[P3]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[D3]:"Token request cannot be made without authorization code or refresh token.",[O3]:"Cannot remove null or empty scope from ScopeSet",[R3]:"Cannot append ScopeSet",[uh]:"Empty input ScopeSet cannot be processed",[gy]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[vy]:"Device code is expired.",[_y]:"Device code stopped polling for unknown reasons.",[kp]:"Please pass an account object, silent flow is not supported without account information",[M3]:"Cache record object was null or undefined.",[Ip]:"Invalid environment when attempting to create cache entry",[hh]:"No account found in cache for given key.",[ph]:"No crypto object detected.",[fh]:"Unexpected credential type.",[yy]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[Cy]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[Br]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[by]:"User defined timeout for device code polling reached",[L3]:"Cannot generate a POP jwt if the token_claims are not populated",[F3]:"Server response does not contain an authorization code to proceed",[H3]:"Could not remove the credential's binding key from storage.",[U3]:"The provided authority does not support logout",[xp]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[wy]:"No network connectivity. Check your internet connection.",[Sy]:"User cancelled the flow.",[Ay]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[be]:"This method has not been implemented",[Ny]:"The nested app auth bridge is disabled"};class pd extends pt{constructor(e,t){super(e,t?`${Um[e]}: ${t}`:Um[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,pd.prototype)}}function G(r,e){return new pd(r,e)}/*! @azure/msal-common v14.16.0 2024-11-05 */const Sl={createNewGuid:()=>{throw G(be)},base64Decode:()=>{throw G(be)},base64Encode:()=>{throw G(be)},base64UrlEncode:()=>{throw G(be)},encodeKid:()=>{throw G(be)},async getPublicKeyThumbprint(){throw G(be)},async removeTokenBindingKey(){throw G(be)},async clearKeystore(){throw G(be)},async signJwt(){throw G(be)},async hashString(){throw G(be)}};/*! @azure/msal-common v14.16.0 2024-11-05 */var ht;(function(r){r[r.Error=0]="Error",r[r.Warning=1]="Warning",r[r.Info=2]="Info",r[r.Verbose=3]="Verbose",r[r.Trace=4]="Trace"})(ht||(ht={}));class ti{constructor(e,t,n){this.level=ht.Info;const i=()=>{},a=e||ti.createDefaultLoggerOptions();this.localCallback=a.loggerCallback||i,this.piiLoggingEnabled=a.piiLoggingEnabled||!1,this.level=typeof a.logLevel=="number"?a.logLevel:ht.Info,this.correlationId=a.correlationId||Y.EMPTY_STRING,this.packageName=t||Y.EMPTY_STRING,this.packageVersion=n||Y.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ht.Info}}clone(e,t,n){return new ti({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const a=`${`[${new Date().toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${ht[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,a,t.containsPii||!1)}executeCallback(e,t,n){this.localCallback&&this.localCallback(e,t,n)}error(e,t){this.logMessage(e,{logLevel:ht.Error,containsPii:!1,correlationId:t||Y.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:ht.Error,containsPii:!0,correlationId:t||Y.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:ht.Warning,containsPii:!1,correlationId:t||Y.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:ht.Warning,containsPii:!0,correlationId:t||Y.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:ht.Info,containsPii:!1,correlationId:t||Y.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:ht.Info,containsPii:!0,correlationId:t||Y.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:ht.Verbose,containsPii:!1,correlationId:t||Y.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:ht.Verbose,containsPii:!0,correlationId:t||Y.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:ht.Trace,containsPii:!1,correlationId:t||Y.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:ht.Trace,containsPii:!0,correlationId:t||Y.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}/*! @azure/msal-common v14.16.0 2024-11-05 */const $3="@azure/msal-common",Pp="14.16.0";/*! @azure/msal-common v14.16.0 2024-11-05 */const Dp={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"};/*! @azure/msal-common v14.16.0 2024-11-05 */function wo(r,e){const t=Ey(r);try{const n=e(t);return JSON.parse(n)}catch{throw G(Ep)}}function Ey(r){if(!r)throw G(A3);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(r);if(!t||t.length<4)throw G(Ep);return t[2]}function B3(r,e){if(e===0||Date.now()-3e5>r+e)throw G(x3)}/*! @azure/msal-common v14.16.0 2024-11-05 */function Sr(){return Math.round(new Date().getTime()/1e3)}function mh(r,e){const t=Number(r)||0;return Sr()+e>t}function Ty(r){return Number(r)>Sr()}/*! @azure/msal-common v14.16.0 2024-11-05 */function zo(r){return[ky(r),Iy(r),xy(r),Py(r),Dy(r)].join(en.CACHE_KEY_SEPARATOR).toLowerCase()}function fd(r,e,t,n,i){return{credentialType:fe.ID_TOKEN,homeAccountId:r,environment:e,clientId:n,secret:t,realm:i}}function md(r,e,t,n,i,a,s,c,l,d,u,h,p,f,g){var v,_;const m={homeAccountId:r,credentialType:fe.ACCESS_TOKEN,secret:t,cachedAt:Sr().toString(),expiresOn:s.toString(),extendedExpiresOn:c.toString(),environment:e,clientId:n,realm:i,target:a,tokenType:u||Ke.BEARER};if(h&&(m.userAssertionHash=h),d&&(m.refreshOn=d.toString()),f&&(m.requestedClaims=f,m.requestedClaimsHash=g),((v=m.tokenType)==null?void 0:v.toLowerCase())!==Ke.BEARER.toLowerCase())switch(m.credentialType=fe.ACCESS_TOKEN_WITH_AUTH_SCHEME,m.tokenType){case Ke.POP:const y=wo(t,l);if(!((_=y==null?void 0:y.cnf)!=null&&_.kid))throw G(L3);m.keyId=y.cnf.kid;break;case Ke.SSH:m.keyId=p}return m}function V3(r,e,t,n,i,a,s){const c={credentialType:fe.REFRESH_TOKEN,homeAccountId:r,environment:e,clientId:n,secret:t};return a&&(c.userAssertionHash=a),i&&(c.familyId=i),s&&(c.expiresOn=s.toString()),c}function Op(r){return r.hasOwnProperty("homeAccountId")&&r.hasOwnProperty("environment")&&r.hasOwnProperty("credentialType")&&r.hasOwnProperty("clientId")&&r.hasOwnProperty("secret")}function $m(r){return r?Op(r)&&r.hasOwnProperty("realm")&&r.hasOwnProperty("target")&&(r.credentialType===fe.ACCESS_TOKEN||r.credentialType===fe.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function Bm(r){return r?Op(r)&&r.hasOwnProperty("realm")&&r.credentialType===fe.ID_TOKEN:!1}function Vm(r){return r?Op(r)&&r.credentialType===fe.REFRESH_TOKEN:!1}function ky(r){return[r.homeAccountId,r.environment].join(en.CACHE_KEY_SEPARATOR).toLowerCase()}function Iy(r){const e=r.credentialType===fe.REFRESH_TOKEN&&r.familyId||r.clientId;return[r.credentialType,e,r.realm||""].join(en.CACHE_KEY_SEPARATOR).toLowerCase()}function xy(r){return(r.target||"").toLowerCase()}function Py(r){return(r.requestedClaimsHash||"").toLowerCase()}function Dy(r){return r.tokenType&&r.tokenType.toLowerCase()!==Ke.BEARER.toLowerCase()?r.tokenType.toLowerCase():""}function Oy(r,e){const t=r.indexOf(jt.CACHE_KEY)===0;let n=!0;return e&&(n=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),t&&n}function Ry(r,e){let t=!1;r&&(t=r.indexOf(cs.THROTTLING_PREFIX)===0);let n=!0;return e&&(n=e.hasOwnProperty("throttleTime")),t&&n}function My({environment:r,clientId:e}){return[Sp,r,e].join(en.CACHE_KEY_SEPARATOR).toLowerCase()}function Ly(r,e){return e?r.indexOf(Sp)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function Fy(r,e){return e?r.indexOf(bl.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function Ym(){return Sr()+bl.REFRESH_TIME_SECONDS}function sc(r,e,t){r.authorization_endpoint=e.authorization_endpoint,r.token_endpoint=e.token_endpoint,r.end_session_endpoint=e.end_session_endpoint,r.issuer=e.issuer,r.endpointsFromNetwork=t,r.jwks_uri=e.jwks_uri}function pu(r,e,t){r.aliases=e.aliases,r.preferred_cache=e.preferred_cache,r.preferred_network=e.preferred_network,r.aliasesFromNetwork=t}function Wm(r){return r.expiresAt<=Sr()}/*! @azure/msal-common v14.16.0 2024-11-05 */const Y3="redirect_uri_empty",Hy="claims_request_parsing_error",W3="authority_uri_insecure",za="url_parse_error",z3="empty_url_error",j3="empty_input_scopes_error",q3="invalid_prompt_value",Rp="invalid_claims",K3="token_request_empty",G3="logout_request_empty",Q3="invalid_code_challenge_method",Mp="pkce_params_missing",Lp="invalid_cloud_discovery_metadata",Z3="invalid_authority_metadata",X3="untrusted_authority",gd="missing_ssh_jwk",J3="missing_ssh_kid",Uy="missing_nonce_authentication_header",$y="invalid_authentication_header",ev="cannot_set_OIDCOptions",tv="cannot_allow_native_broker",nv="authority_mismatch";/*! @azure/msal-common v14.16.0 2024-11-05 */const By={[Y3]:"A redirect URI is required for all calls, and none has been set.",[Hy]:"Could not parse the given claims request object.",[W3]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[za]:"URL could not be parsed into appropriate segments.",[z3]:"URL was empty or null.",[j3]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[q3]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[Rp]:"Given claims parameter must be a stringified JSON object.",[K3]:"Token request was empty and not found in cache.",[G3]:"The logout request was null or undefined.",[Q3]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Mp]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[Lp]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[Z3]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[X3]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[gd]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[J3]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[Uy]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[$y]:"Invalid authentication header provided",[ev]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[tv]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[nv]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class Fp extends pt{constructor(e){super(e,By[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,Fp.prototype)}}function et(r){return new Fp(r)}/*! @azure/msal-common v14.16.0 2024-11-05 */class Kn{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return Object.keys(t).length===0}catch{}return!0}static startsWith(e,t){return e.indexOf(t)===0}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},n=e.split("&"),i=a=>decodeURIComponent(a.replace(/\+/g," "));return n.forEach(a=>{if(a.trim()){const[s,c]=a.split(/=(.+)/g,2);s&&c&&(t[i(s)]=i(c))}}),t}static trimArrayEntries(e){return e.map(t=>t.trim())}static removeEmptyStringsFromArray(e){return e.filter(t=>!!t)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}/*! @azure/msal-common v14.16.0 2024-11-05 */class St{constructor(e){const t=e?Kn.trimArrayEntries([...e]):[],n=t?Kn.removeEmptyStringsFromArray(t):[];this.validateInputScopes(n),this.scopes=new Set,n.forEach(i=>this.scopes.add(i))}static fromString(e){const n=(e||Y.EMPTY_STRING).split(" ");return new St(n)}static createSearchScopes(e){const t=new St(e);return t.containsOnlyOIDCScopes()?t.removeScope(Y.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}validateInputScopes(e){if(!e||e.length<1)throw et(j3)}containsScope(e){const t=this.printScopesLowerCase().split(" "),n=new St(t);return e?n.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(t=>this.containsScope(t))}containsOnlyOIDCScopes(){let e=0;return Rm.forEach(t=>{this.containsScope(t)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(t=>this.appendScope(t))}catch{throw G(R3)}}removeScope(e){if(!e)throw G(O3);this.scopes.delete(e.trim())}removeOIDCScopes(){Rm.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw G(uh);const t=new Set;return e.scopes.forEach(n=>t.add(n.toLowerCase())),this.scopes.forEach(n=>t.add(n.toLowerCase())),t}intersectingScopeSets(e){if(!e)throw G(uh);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),n=e.getScopeCount(),i=this.getScopeCount();return t.size<i+n}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(t=>e.push(t)),e}printScopes(){return this.scopes?this.asArray().join(" "):Y.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v14.16.0 2024-11-05 */function Al(r,e){if(!r)throw G(S3);try{const t=e(r);return JSON.parse(t)}catch{throw G(Np)}}function jo(r){if(!r)throw G(Np);const e=r.split(en.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?Y.EMPTY_STRING:e[1]}}/*! @azure/msal-common v14.16.0 2024-11-05 */function Nl(r,e){return!!r&&!!e&&r===e.split(".")[1]}function Hp(r,e,t,n){if(n){const{oid:i,sub:a,tid:s,name:c,tfp:l,acr:d}=n,u=s||l||d||"";return{tenantId:u,localAccountId:i||a||"",name:c,isHomeTenant:Nl(u,r)}}else return{tenantId:t,localAccountId:e,isHomeTenant:Nl(t,r)}}function Up(r,e,t,n){let i=r;if(e){const{isHomeTenant:a,...s}=e;i={...r,...s}}if(t){const{isHomeTenant:a,...s}=Hp(r.homeAccountId,r.localAccountId,r.tenantId,t);return i={...i,...s,idTokenClaims:t,idToken:n},i}return i}/*! @azure/msal-common v14.16.0 2024-11-05 */const zn={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v14.16.0 2024-11-05 */function rv(r){return r&&(r.tid||r.tfp||r.acr)||null}/*! @azure/msal-common v14.16.0 2024-11-05 */const qr={AAD:"AAD",OIDC:"OIDC"};/*! @azure/msal-common v14.16.0 2024-11-05 */class Lt{generateAccountId(){return[this.homeAccountId,this.environment].join(en.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return Lt.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(en.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,t,n){var d,u,h,p,f,g;const i=new Lt;t.authorityType===zn.Adfs?i.authorityType=oc.ADFS_ACCOUNT_TYPE:t.protocolMode===qr.AAD?i.authorityType=oc.MSSTS_ACCOUNT_TYPE:i.authorityType=oc.GENERIC_ACCOUNT_TYPE;let a;e.clientInfo&&n&&(a=Al(e.clientInfo,n)),i.clientInfo=e.clientInfo,i.homeAccountId=e.homeAccountId,i.nativeAccountId=e.nativeAccountId;const s=e.environment||t&&t.getPreferredCache();if(!s)throw G(Ip);i.environment=s,i.realm=(a==null?void 0:a.utid)||rv(e.idTokenClaims)||"",i.localAccountId=(a==null?void 0:a.uid)||((d=e.idTokenClaims)==null?void 0:d.oid)||((u=e.idTokenClaims)==null?void 0:u.sub)||"";const c=((h=e.idTokenClaims)==null?void 0:h.preferred_username)||((p=e.idTokenClaims)==null?void 0:p.upn),l=(f=e.idTokenClaims)!=null&&f.emails?e.idTokenClaims.emails[0]:null;if(i.username=c||l||"",i.name=((g=e.idTokenClaims)==null?void 0:g.name)||"",i.cloudGraphHostName=e.cloudGraphHostName,i.msGraphHost=e.msGraphHost,e.tenantProfiles)i.tenantProfiles=e.tenantProfiles;else{const m=Hp(e.homeAccountId,i.localAccountId,i.realm,e.idTokenClaims);i.tenantProfiles=[m]}return i}static createFromAccountInfo(e,t,n){var a;const i=new Lt;return i.authorityType=e.authorityType||oc.GENERIC_ACCOUNT_TYPE,i.homeAccountId=e.homeAccountId,i.localAccountId=e.localAccountId,i.nativeAccountId=e.nativeAccountId,i.realm=e.tenantId,i.environment=e.environment,i.username=e.username,i.name=e.name,i.cloudGraphHostName=t,i.msGraphHost=n,i.tenantProfiles=Array.from(((a=e.tenantProfiles)==null?void 0:a.values())||[]),i}static generateHomeAccountId(e,t,n,i,a){if(!(t===zn.Adfs||t===zn.Dsts)){if(e)try{const s=Al(e,i.base64Decode);if(s.uid&&s.utid)return`${s.uid}.${s.utid}`}catch{}n.warning("No client info in response")}return(a==null?void 0:a.sub)||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,t,n){if(!e||!t)return!1;let i=!0;if(n){const a=e.idTokenClaims||{},s=t.idTokenClaims||{};i=a.iat===s.iat&&a.nonce===s.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&i}}/*! @azure/msal-common v14.16.0 2024-11-05 */function iv(r){return r.startsWith("#/")?r.substring(2):r.startsWith("#")||r.startsWith("?")?r.substring(1):r}function El(r){if(!r||r.indexOf("=")<0)return null;try{const e=iv(r),t=Object.fromEntries(new URLSearchParams(e));if(t.code||t.error||t.error_description||t.state)return t}catch{throw G(T3)}return null}/*! @azure/msal-common v14.16.0 2024-11-05 */class Ie{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw et(z3);e.includes("#")||(this._urlString=Ie.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return Kn.endsWith(t,"?")?t=t.slice(0,-1):Kn.endsWith(t,"?/")&&(t=t.slice(0,-2)),Kn.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw et(za)}if(!e.HostNameAndPort||!e.PathSegments)throw et(za);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw et(W3)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return Ie.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),n=t.PathSegments;return e&&n.length!==0&&(n[0]===wi.COMMON||n[0]===wi.ORGANIZATIONS)&&(n[0]=e),Ie.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw et(za);const n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let i=n.AbsolutePath.split("/");return i=i.filter(a=>a&&a.length>0),n.PathSegments=i,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw et(za);return n[2]}static getAbsoluteUrl(e,t){if(e[0]===Y.FORWARD_SLASH){const i=new Ie(t).getUrlComponents();return i.Protocol+"//"+i.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new Ie(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!El(e)}}/*! @azure/msal-common v14.16.0 2024-11-05 */const ov={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},zm=ov.endpointMetadata,$p=ov.instanceDiscoveryMetadata,av=new Set;$p.metadata.forEach(r=>{r.aliases.forEach(e=>{av.add(e)})});function Vy(r,e){var i;let t;const n=r.canonicalAuthority;if(n){const a=new Ie(n).getUrlComponents().HostNameAndPort;t=jm(a,(i=r.cloudDiscoveryMetadata)==null?void 0:i.metadata,bn.CONFIG,e)||jm(a,$p.metadata,bn.HARDCODED_VALUES,e)||r.knownAuthorities}return t||[]}function jm(r,e,t,n){if(n==null||n.trace(`getAliasesFromMetadata called with source: ${t}`),r&&e){const i=Tl(e,r);if(i)return n==null||n.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${t}, returning aliases`),i.aliases;n==null||n.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${t}`)}return null}function Yy(r){return Tl($p.metadata,r)}function Tl(r,e){for(let t=0;t<r.length;t++){const n=r[t];if(n.aliases.includes(e))return n}return null}/*! @azure/msal-common v14.16.0 2024-11-05 */const sv="cache_quota_exceeded",Bp="cache_error_unknown";/*! @azure/msal-common v14.16.0 2024-11-05 */const fu={[sv]:"Exceeded cache storage capacity.",[Bp]:"Unexpected error occurred when using cache storage."};class Qo extends Error{constructor(e,t){const n=t||(fu[e]?fu[e]:fu[Bp]);super(`${e}: ${n}`),Object.setPrototypeOf(this,Qo.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}}/*! @azure/msal-common v14.16.0 2024-11-05 */class oa{constructor(e,t,n,i){this.clientId=e,this.cryptoImpl=t,this.commonLogger=n.clone($3,Pp),this.staticAuthorityOptions=i}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const t=this.getAllAccounts(e);return t.length>1?t.sort(i=>i.idTokenClaims?-1:1)[0]:t.length===1?t[0]:null}getBaseAccountInfo(e){const t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap(n=>this.getTenantProfilesFromAccountEntity(n,t==null?void 0:t.tenantId,t))}getTenantedAccountInfoByFilter(e,t,n,i){let a=null,s;if(i&&!this.tenantProfileMatchesFilter(n,i))return null;const c=this.getIdToken(e,t,n.tenantId);return c&&(s=wo(c.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(s,i))?null:(a=Up(e,n,s,c==null?void 0:c.secret),a)}getTenantProfilesFromAccountEntity(e,t,n){const i=e.getAccountInfo();let a=i.tenantProfiles||new Map;const s=this.getTokenKeys();if(t){const l=a.get(t);if(l)a=new Map([[t,l]]);else return[]}const c=[];return a.forEach(l=>{const d=this.getTenantedAccountInfoByFilter(i,s,l,n);d&&c.push(d)}),c}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId)||t.name&&e.name!==t.name||t.isHomeTenant!==void 0&&e.isHomeTenant!==t.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,t){return!(t&&(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId)||t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint)||t.username&&!this.matchUsername(e.preferred_username,t.username)||t.name&&!this.matchName(e,t.name)||t.sid&&!this.matchSid(e,t.sid)))}async saveCacheRecord(e,t,n){var i,a,s,c;if(!e)throw G(M3);try{e.account&&this.setAccount(e.account),e.idToken&&(t==null?void 0:t.idToken)!==!1&&this.setIdTokenCredential(e.idToken),e.accessToken&&(t==null?void 0:t.accessToken)!==!1&&await this.saveAccessToken(e.accessToken),e.refreshToken&&(t==null?void 0:t.refreshToken)!==!1&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(l){throw(i=this.commonLogger)==null||i.error("CacheManager.saveCacheRecord: failed"),l instanceof Error?((a=this.commonLogger)==null||a.errorPii(`CacheManager.saveCacheRecord: ${l.message}`,n),l.name==="QuotaExceededError"||l.name==="NS_ERROR_DOM_QUOTA_REACHED"||l.message.includes("exceeded the quota")?((s=this.commonLogger)==null||s.error("CacheManager.saveCacheRecord: exceeded storage quota",n),new Qo(sv)):new Qo(l.name,l.message)):((c=this.commonLogger)==null||c.errorPii(`CacheManager.saveCacheRecord: ${l}`,n),new Qo(Bp))}}async saveAccessToken(e){const t={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},n=this.getTokenKeys(),i=St.fromString(e.target),a=[];n.accessToken.forEach(s=>{if(!this.accessTokenKeyMatchesFilter(s,t,!1))return;const c=this.getAccessTokenCredential(s);c&&this.credentialMatchesFilter(c,t)&&St.fromString(c.target).intersectingScopeSets(i)&&a.push(this.removeAccessToken(s))}),await Promise.all(a),this.setAccessTokenCredential(e)}getAccountsFilteredBy(e){const t=this.getAccountKeys(),n=[];return t.forEach(i=>{var l;if(!this.isAccountKey(i,e.homeAccountId))return;const a=this.getAccount(i,this.commonLogger);if(!a||e.homeAccountId&&!this.matchHomeAccountId(a,e.homeAccountId)||e.username&&!this.matchUsername(a.username,e.username)||e.environment&&!this.matchEnvironment(a,e.environment)||e.realm&&!this.matchRealm(a,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(a,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(a,e.authorityType))return;const s={localAccountId:e==null?void 0:e.localAccountId,name:e==null?void 0:e.name},c=(l=a.tenantProfiles)==null?void 0:l.filter(d=>this.tenantProfileMatchesFilter(d,s));c&&c.length===0||n.push(a)}),n}isAccountKey(e,t,n){return!(e.split(en.CACHE_KEY_SEPARATOR).length<3||t&&!e.toLowerCase().includes(t.toLowerCase())||n&&!e.toLowerCase().includes(n.toLowerCase()))}isCredentialKey(e){if(e.split(en.CACHE_KEY_SEPARATOR).length<6)return!1;const t=e.toLowerCase();if(t.indexOf(fe.ID_TOKEN.toLowerCase())===-1&&t.indexOf(fe.ACCESS_TOKEN.toLowerCase())===-1&&t.indexOf(fe.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&t.indexOf(fe.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(t.indexOf(fe.REFRESH_TOKEN.toLowerCase())>-1){const n=`${fe.REFRESH_TOKEN}${en.CACHE_KEY_SEPARATOR}${this.clientId}${en.CACHE_KEY_SEPARATOR}`,i=`${fe.REFRESH_TOKEN}${en.CACHE_KEY_SEPARATOR}${ss}${en.CACHE_KEY_SEPARATOR}`;if(t.indexOf(n.toLowerCase())===-1&&t.indexOf(i.toLowerCase())===-1)return!1}else if(t.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(e,t){return!(t.clientId&&!this.matchClientId(e,t.clientId)||t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash)||typeof t.homeAccountId=="string"&&!this.matchHomeAccountId(e,t.homeAccountId)||t.environment&&!this.matchEnvironment(e,t.environment)||t.realm&&!this.matchRealm(e,t.realm)||t.credentialType&&!this.matchCredentialType(e,t.credentialType)||t.familyId&&!this.matchFamilyId(e,t.familyId)||t.target&&!this.matchTarget(e,t.target)||(t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash||e.credentialType===fe.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(t.tokenType&&!this.matchTokenType(e,t.tokenType)||t.tokenType===Ke.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId)))}getAppMetadataFilteredBy(e){const t=this.getKeys(),n={};return t.forEach(i=>{if(!this.isAppMetadata(i))return;const a=this.getAppMetadata(i);a&&(e.environment&&!this.matchEnvironment(a,e.environment)||e.clientId&&!this.matchClientId(a,e.clientId)||(n[i]=a))}),n}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let n=null;return t.forEach(i=>{if(!this.isAuthorityMetadata(i)||i.indexOf(this.clientId)===-1)return;const a=this.getAuthorityMetadata(i);a&&a.aliases.indexOf(e)!==-1&&(n=a)}),n}async removeAllAccounts(){const e=this.getAccountKeys(),t=[];e.forEach(n=>{t.push(this.removeAccount(n))}),await Promise.all(t)}async removeAccount(e){const t=this.getAccount(e,this.commonLogger);t&&(await this.removeAccountContext(t),this.removeItem(e))}async removeAccountContext(e){const t=this.getTokenKeys(),n=e.generateAccountId(),i=[];t.idToken.forEach(a=>{a.indexOf(n)===0&&this.removeIdToken(a)}),t.accessToken.forEach(a=>{a.indexOf(n)===0&&i.push(this.removeAccessToken(a))}),t.refreshToken.forEach(a=>{a.indexOf(n)===0&&this.removeRefreshToken(a)}),await Promise.all(i)}updateOutdatedCachedAccount(e,t,n){var i;if(t&&t.isSingleTenant()){(i=this.commonLogger)==null||i.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");const a=this.getAccountKeys().filter(u=>u.startsWith(t.homeAccountId)),s=[];a.forEach(u=>{const h=this.getCachedAccountEntity(u);h&&s.push(h)});const c=s.find(u=>Nl(u.realm,u.homeAccountId))||s[0];c.tenantProfiles=s.map(u=>({tenantId:u.realm,localAccountId:u.localAccountId,name:u.name,isHomeTenant:Nl(u.realm,u.homeAccountId)}));const l=oa.toObject(new Lt,{...c}),d=l.generateAccountKey();return a.forEach(u=>{u!==d&&this.removeOutdatedAccount(e)}),this.setAccount(l),n==null||n.verbose("Updated an outdated account entity in the cache"),l}return t}async removeAccessToken(e){const t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===fe.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===Ke.POP){const i=t.keyId;if(i)try{await this.cryptoImpl.removeTokenBindingKey(i)}catch{throw G(H3)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach(t=>{this.isAppMetadata(t)&&this.removeItem(t)}),!0}readAccountFromCache(e){const t=Lt.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,n,i,a){this.commonLogger.trace("CacheManager - getIdToken called");const s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:fe.ID_TOKEN,clientId:this.clientId,realm:n},c=this.getIdTokensByFilter(s,t),l=c.size;if(l<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(l>1){let d=c;if(!n){const u=new Map;c.forEach((p,f)=>{p.realm===e.tenantId&&u.set(f,p)});const h=u.size;if(h<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),c.values().next().value;if(h===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),u.values().next().value;d=u}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),d.forEach((u,h)=>{this.removeIdToken(h)}),i&&a&&i.addFields({multiMatchedID:c.size},a),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),c.values().next().value}getIdTokensByFilter(e,t){const n=t&&t.idToken||this.getTokenKeys().idToken,i=new Map;return n.forEach(a=>{if(!this.idTokenKeyMatchesFilter(a,{clientId:this.clientId,...e}))return;const s=this.getIdTokenCredential(a);s&&this.credentialMatchesFilter(s,e)&&i.set(a,s)}),i}idTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return!(t.clientId&&n.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&n.indexOf(t.homeAccountId.toLowerCase())===-1)}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,n,i,a,s){this.commonLogger.trace("CacheManager - getAccessToken called");const c=St.createSearchScopes(t.scopes),l=t.authenticationScheme||Ke.BEARER,d=l&&l.toLowerCase()!==Ke.BEARER.toLowerCase()?fe.ACCESS_TOKEN_WITH_AUTH_SCHEME:fe.ACCESS_TOKEN,u={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:d,clientId:this.clientId,realm:i||e.tenantId,target:c,tokenType:l,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},h=n&&n.accessToken||this.getTokenKeys().accessToken,p=[];h.forEach(g=>{if(this.accessTokenKeyMatchesFilter(g,u,!0)){const m=this.getAccessTokenCredential(g);m&&this.credentialMatchesFilter(m,u)&&p.push(m)}});const f=p.length;return f<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):f>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),p.forEach(g=>{this.removeAccessToken(zo(g))}),a&&s&&a.addFields({multiMatchedAT:p.length},s),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),p[0])}accessTokenKeyMatchesFilter(e,t,n){const i=e.toLowerCase();if(t.clientId&&i.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&i.indexOf(t.homeAccountId.toLowerCase())===-1||t.realm&&i.indexOf(t.realm.toLowerCase())===-1||t.requestedClaimsHash&&i.indexOf(t.requestedClaimsHash.toLowerCase())===-1)return!1;if(t.target){const a=t.target.asArray();for(let s=0;s<a.length;s++){if(n&&!i.includes(a[s].toLowerCase()))return!1;if(!n&&i.includes(a[s].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const t=this.getTokenKeys(),n=[];return t.accessToken.forEach(i=>{if(!this.accessTokenKeyMatchesFilter(i,e,!0))return;const a=this.getAccessTokenCredential(i);a&&this.credentialMatchesFilter(a,e)&&n.push(a)}),n}getRefreshToken(e,t,n,i,a){this.commonLogger.trace("CacheManager - getRefreshToken called");const s=t?ss:void 0,c={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:fe.REFRESH_TOKEN,clientId:this.clientId,familyId:s},l=n&&n.refreshToken||this.getTokenKeys().refreshToken,d=[];l.forEach(h=>{if(this.refreshTokenKeyMatchesFilter(h,c)){const p=this.getRefreshTokenCredential(h);p&&this.credentialMatchesFilter(p,c)&&d.push(p)}});const u=d.length;return u<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(u>1&&i&&a&&i.addFields({multiMatchedRT:u},a),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),d[0])}refreshTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return!(t.familyId&&n.indexOf(t.familyId.toLowerCase())===-1||!t.familyId&&t.clientId&&n.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&n.indexOf(t.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(t),i=Object.keys(n).map(s=>n[s]),a=i.length;if(a<1)return null;if(a>1)throw G(P3);return i[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!!(t&&t.familyId===ss)}matchHomeAccountId(e,t){return typeof e.homeAccountId=="string"&&t===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,t){const n=e.oid||e.sub;return t===n}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){var n;return t.toLowerCase()===((n=e.name)==null?void 0:n.toLowerCase())}matchUsername(e,t){return!!(e&&typeof e=="string"&&(t==null?void 0:t.toLowerCase())===e.toLowerCase())}matchUserAssertionHash(e,t){return!!(e.userAssertionHash&&t===e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const i=Vy(this.staticAuthorityOptions,this.commonLogger);if(i.includes(t)&&i.includes(e.environment))return!0}const n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!!(e.clientId&&t===e.clientId)}matchFamilyId(e,t){return!!(e.familyId&&t===e.familyId)}matchRealm(e,t){var n;return((n=e.realm)==null?void 0:n.toLowerCase())===t.toLowerCase()}matchNativeAccountId(e,t){return!!(e.nativeAccountId&&t===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||e.preferred_username===t||e.upn===t}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!!(e.authorityType&&t.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,t){return e.credentialType!==fe.ACCESS_TOKEN&&e.credentialType!==fe.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:St.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!!(e.tokenType&&e.tokenType===t)}matchKeyId(e,t){return!!(e.keyId&&e.keyId===t)}isAppMetadata(e){return e.indexOf(Sp)!==-1}isAuthorityMetadata(e){return e.indexOf(bl.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${bl.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,t){for(const n in t)e[n]=t[n];return e}}class Wy extends oa{setAccount(){throw G(be)}getAccount(){throw G(be)}getCachedAccountEntity(){throw G(be)}setIdTokenCredential(){throw G(be)}getIdTokenCredential(){throw G(be)}setAccessTokenCredential(){throw G(be)}getAccessTokenCredential(){throw G(be)}setRefreshTokenCredential(){throw G(be)}getRefreshTokenCredential(){throw G(be)}setAppMetadata(){throw G(be)}getAppMetadata(){throw G(be)}setServerTelemetry(){throw G(be)}getServerTelemetry(){throw G(be)}setAuthorityMetadata(){throw G(be)}getAuthorityMetadata(){throw G(be)}getAuthorityMetadataKeys(){throw G(be)}setThrottlingCache(){throw G(be)}getThrottlingCache(){throw G(be)}removeItem(){throw G(be)}getKeys(){throw G(be)}getAccountKeys(){throw G(be)}getTokenKeys(){throw G(be)}updateCredentialCacheKey(){throw G(be)}removeOutdatedAccount(){throw G(be)}}/*! @azure/msal-common v14.16.0 2024-11-05 */const cv={tokenRenewalOffsetSeconds:hy,preventCorsPreflight:!1},zy={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ht.Info,correlationId:Y.EMPTY_STRING},jy={claimsBasedCachingEnabled:!1},qy={async sendGetRequestAsync(){throw G(be)},async sendPostRequestAsync(){throw G(be)}},Ky={sku:Y.SKU,version:Pp,cpu:Y.EMPTY_STRING,os:Y.EMPTY_STRING},Gy={clientSecret:Y.EMPTY_STRING,clientAssertion:void 0},Qy={azureCloudInstance:Dp.None,tenant:`${Y.DEFAULT_COMMON_TENANT}`},Zy={application:{appName:"",appVersion:""}};function Xy({authOptions:r,systemOptions:e,loggerOptions:t,cacheOptions:n,storageInterface:i,networkInterface:a,cryptoInterface:s,clientCredentials:c,libraryInfo:l,telemetry:d,serverTelemetryManager:u,persistencePlugin:h,serializableCache:p}){const f={...zy,...t};return{authOptions:Jy(r),systemOptions:{...cv,...e},loggerOptions:f,cacheOptions:{...jy,...n},storageInterface:i||new Wy(r.clientId,Sl,new ti(f)),networkInterface:a||qy,cryptoInterface:s||Sl,clientCredentials:c||Gy,libraryInfo:{...Ky,...l},telemetry:{...Zy,...d},serverTelemetryManager:u||null,persistencePlugin:h||null,serializableCache:p||null}}function Jy(r){return{clientCapabilities:[],azureCloudOptions:Qy,skipAuthorityMetadataCache:!1,instanceAware:!1,...r}}function gh(r){return r.authOptions.authority.options.protocolMode===qr.OIDC}/*! @azure/msal-common v14.16.0 2024-11-05 */const kn={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v14.16.0 2024-11-05 */const lo="client_id",lv="redirect_uri",qm="response_type",eC="response_mode",tC="grant_type",nC="claims",rC="scope",iC="refresh_token",oC="state",aC="nonce",sC="prompt",cC="code",lC="code_challenge",dC="code_challenge_method",uC="code_verifier",hC="client-request-id",pC="x-client-SKU",fC="x-client-VER",mC="x-client-OS",gC="x-client-CPU",vC="x-client-current-telemetry",_C="x-client-last-telemetry",yC="x-ms-lib-capability",CC="x-app-name",bC="x-app-ver",wC="post_logout_redirect_uri",SC="id_token_hint",AC="device_code",NC="client_secret",EC="client_assertion",TC="client_assertion_type",Km="token_type",Gm="req_cnf",kC="assertion",IC="requested_token_use",Qm="return_spa_code",xC="nativebroker",PC="logout_hint",DC="sid",OC="login_hint",RC="domain_hint",MC="x-client-xtra-sku",Vp="brk_client_id",vh="brk_redirect_uri";/*! @azure/msal-common v14.16.0 2024-11-05 */class $o{static validateRedirectUri(e){if(!e)throw et(Y3)}static validatePrompt(e){const t=[];for(const n in Bt)t.push(Bt[n]);if(t.indexOf(e)<0)throw et(q3)}static validateClaims(e){try{JSON.parse(e)}catch{throw et(Rp)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw et(Mp);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([Mm.PLAIN,Mm.S256].indexOf(e)<0)throw et(Q3)}}/*! @azure/msal-common v14.16.0 2024-11-05 */function LC(r,e,t){if(!e)return;const n=r.get(lo);n&&r.has(Vp)&&(t==null||t.addFields({embeddedClientId:n,embeddedRedirectUri:r.get(lv)},e))}class ls{constructor(e,t){this.parameters=new Map,this.performanceClient=t,this.correlationId=e}addResponseTypeCode(){this.parameters.set(qm,encodeURIComponent(Y.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(qm,encodeURIComponent(`${Y.TOKEN_RESPONSE_TYPE} ${Y.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(e){this.parameters.set(eC,encodeURIComponent(e||ly.QUERY))}addNativeBroker(){this.parameters.set(xC,encodeURIComponent("1"))}addScopes(e,t=!0,n=ba){t&&!n.includes("openid")&&!e.includes("openid")&&n.push("openid");const i=t?[...e||[],...n]:e||[],a=new St(i);this.parameters.set(rC,encodeURIComponent(a.printScopes()))}addClientId(e){this.parameters.set(lo,encodeURIComponent(e))}addRedirectUri(e){$o.validateRedirectUri(e),this.parameters.set(lv,encodeURIComponent(e))}addPostLogoutRedirectUri(e){$o.validateRedirectUri(e),this.parameters.set(wC,encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set(SC,encodeURIComponent(e))}addDomainHint(e){this.parameters.set(RC,encodeURIComponent(e))}addLoginHint(e){this.parameters.set(OC,encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(on.CCS_HEADER,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(on.CCS_HEADER,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set(DC,encodeURIComponent(e))}addClaims(e,t){const n=this.addClientCapabilitiesToClaims(e,t);$o.validateClaims(n),this.parameters.set(nC,encodeURIComponent(n))}addCorrelationId(e){this.parameters.set(hC,encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set(pC,e.sku),this.parameters.set(fC,e.version),e.os&&this.parameters.set(mC,e.os),e.cpu&&this.parameters.set(gC,e.cpu)}addApplicationTelemetry(e){e!=null&&e.appName&&this.parameters.set(CC,e.appName),e!=null&&e.appVersion&&this.parameters.set(bC,e.appVersion)}addPrompt(e){$o.validatePrompt(e),this.parameters.set(`${sC}`,encodeURIComponent(e))}addState(e){e&&this.parameters.set(oC,encodeURIComponent(e))}addNonce(e){this.parameters.set(aC,encodeURIComponent(e))}addCodeChallengeParams(e,t){if($o.validateCodeChallengeParams(e,t),e&&t)this.parameters.set(lC,encodeURIComponent(e)),this.parameters.set(dC,encodeURIComponent(t));else throw et(Mp)}addAuthorizationCode(e){this.parameters.set(cC,encodeURIComponent(e))}addDeviceCode(e){this.parameters.set(AC,encodeURIComponent(e))}addRefreshToken(e){this.parameters.set(iC,encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set(uC,encodeURIComponent(e))}addClientSecret(e){this.parameters.set(NC,encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set(EC,encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set(TC,encodeURIComponent(e))}addOboAssertion(e){this.parameters.set(kC,encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set(IC,encodeURIComponent(e))}addGrantType(e){this.parameters.set(tC,encodeURIComponent(e))}addClientInfo(){this.parameters.set(dy,"1")}addExtraQueryParameters(e){Object.entries(e).forEach(([t,n])=>{!this.parameters.has(t)&&n&&this.parameters.set(t,n)})}addClientCapabilitiesToClaims(e,t){let n;if(!e)n={};else try{n=JSON.parse(e)}catch{throw et(Rp)}return t&&t.length>0&&(n.hasOwnProperty(ic.ACCESS_TOKEN)||(n[ic.ACCESS_TOKEN]={}),n[ic.ACCESS_TOKEN][ic.XMS_CC]={values:t}),JSON.stringify(n)}addUsername(e){this.parameters.set(Fm.username,encodeURIComponent(e))}addPassword(e){this.parameters.set(Fm.password,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(Km,Ke.POP),this.parameters.set(Gm,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(Km,Ke.SSH),this.parameters.set(Gm,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set(vC,e.generateCurrentRequestHeaderValue()),this.parameters.set(_C,e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set(yC,cs.X_MS_LIB_CAPABILITY_VALUE)}addLogoutHint(e){this.parameters.set(PC,encodeURIComponent(e))}addBrokerParameters(e){const t={};t[Vp]=e.brokerClientId,t[vh]=e.brokerRedirectUri,this.addExtraQueryParameters(t)}createQueryString(){const e=new Array;return this.parameters.forEach((t,n)=>{e.push(`${n}=${t}`)}),LC(this.parameters,this.correlationId,this.performanceClient),e.join("&")}}/*! @azure/msal-common v14.16.0 2024-11-05 */function FC(r){return r.hasOwnProperty("authorization_endpoint")&&r.hasOwnProperty("token_endpoint")&&r.hasOwnProperty("issuer")&&r.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v14.16.0 2024-11-05 */function HC(r){return r.hasOwnProperty("tenant_discovery_endpoint")&&r.hasOwnProperty("metadata")}/*! @azure/msal-common v14.16.0 2024-11-05 */function UC(r){return r.hasOwnProperty("error")&&r.hasOwnProperty("error_description")}/*! @azure/msal-common v14.16.0 2024-11-05 */const U={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",StandardInteractionClientInitializeAuthorizationCodeRequest:"standardInteractionClientInitializeAuthorizationCodeRequest",GetAuthCodeUrl:"getAuthCodeUrl",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",AuthClientCreateQueryString:"authClientCreateQueryString",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues"},$C={NotStarted:0,InProgress:1,Completed:2};/*! @azure/msal-common v14.16.0 2024-11-05 */const So=(r,e,t,n,i)=>(...a)=>{t.trace(`Executing function ${e}`);const s=n==null?void 0:n.startMeasurement(e,i);if(i){const c=e+"CallCount";n==null||n.incrementFields({[c]:1},i)}try{const c=r(...a);return s==null||s.end({success:!0}),t.trace(`Returning result from ${e}`),c}catch(c){t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(c))}catch{t.trace("Unable to print error message.")}throw s==null||s.end({success:!1},c),c}},J=(r,e,t,n,i)=>(...a)=>{t.trace(`Executing function ${e}`);const s=n==null?void 0:n.startMeasurement(e,i);if(i){const c=e+"CallCount";n==null||n.incrementFields({[c]:1},i)}return n==null||n.setPreQueueTime(e,i),r(...a).then(c=>(t.trace(`Returning result from ${e}`),s==null||s.end({success:!0}),c)).catch(c=>{t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(c))}catch{t.trace("Unable to print error message.")}throw s==null||s.end({success:!1},c),c})};/*! @azure/msal-common v14.16.0 2024-11-05 */class vd{constructor(e,t,n,i){this.networkInterface=e,this.logger=t,this.performanceClient=n,this.correlationId=i}async detectRegion(e,t){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(U.RegionDiscoveryDetectRegion,this.correlationId);let n=e;if(n)t.region_source=Do.ENVIRONMENT_VARIABLE;else{const a=vd.IMDS_OPTIONS;try{const s=await J(this.getRegionFromIMDS.bind(this),U.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(Y.IMDS_VERSION,a);if(s.status===ac.httpSuccess&&(n=s.body,t.region_source=Do.IMDS),s.status===ac.httpBadRequest){const c=await J(this.getCurrentVersion.bind(this),U.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(a);if(!c)return t.region_source=Do.FAILED_AUTO_DETECTION,null;const l=await J(this.getRegionFromIMDS.bind(this),U.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(c,a);l.status===ac.httpSuccess&&(n=l.body,t.region_source=Do.IMDS)}}catch{return t.region_source=Do.FAILED_AUTO_DETECTION,null}}return n||(t.region_source=Do.FAILED_AUTO_DETECTION),n||null}async getRegionFromIMDS(e,t){var n;return(n=this.performanceClient)==null||n.addQueueMeasurement(U.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${Y.IMDS_ENDPOINT}?api-version=${e}&format=text`,t,Y.IMDS_TIMEOUT)}async getCurrentVersion(e){var t;(t=this.performanceClient)==null||t.addQueueMeasurement(U.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const n=await this.networkInterface.sendGetRequestAsync(`${Y.IMDS_ENDPOINT}?format=json`,e);return n.status===ac.httpBadRequest&&n.body&&n.body["newest-versions"]&&n.body["newest-versions"].length>0?n.body["newest-versions"][0]:null}catch{return null}}}vd.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v14.16.0 2024-11-05 */class Jt{constructor(e,t,n,i,a,s,c,l){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=i,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=a,this.performanceClient=c,this.correlationId=s,this.managedIdentity=l||!1,this.regionDiscovery=new vd(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(Y.CIAM_AUTH_URL))return zn.Ciam;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case Y.ADFS:return zn.Adfs;case Y.DSTS:return zn.Dsts}return zn.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new Ie(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw G(Fr)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw G(Fr)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw G(Fr)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw G(U3);return this.replacePath(this.metadata.end_session_endpoint)}else throw G(Fr)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw G(Fr)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw G(Fr)}canReplaceTenant(e){return e.PathSegments.length===1&&!Jt.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===zn.Default&&this.protocolMode===qr.AAD}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const i=new Ie(this.metadata.canonical_authority).getUrlComponents(),a=i.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((c,l)=>{let d=a[l];if(l===0&&this.canReplaceTenant(i)){const u=new Ie(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];d!==u&&(this.logger.verbose(`Replacing tenant domain name ${d} with id ${u}`),d=u)}c!==d&&(t=t.replace(`/${d}/`,`/${c}/`))}),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===zn.Adfs||this.protocolMode!==qr.AAD&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var i,a;(i=this.performanceClient)==null||i.addQueueMeasurement(U.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),t=await J(this.updateCloudDiscoveryMetadata.bind(this),U.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const n=await J(this.updateEndpointMetadata.bind(this),U.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:n}),(a=this.performanceClient)==null||a.addFields({cloudDiscoverySource:t,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:Ym(),jwks_uri:""}),e}updateCachedMetadata(e,t,n){t!==bn.CACHE&&(n==null?void 0:n.source)!==bn.CACHE&&(e.expiresAt=Ym(),e.canonical_authority=this.canonicalAuthority);const i=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(i,e),this.metadata=e}async updateEndpointMetadata(e){var i,a,s;(i=this.performanceClient)==null||i.addQueueMeasurement(U.AuthorityUpdateEndpointMetadata,this.correlationId);const t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===bn.HARDCODED_VALUES&&(a=this.authorityOptions.azureRegionConfiguration)!=null&&a.azureRegion&&t.metadata){const c=await J(this.updateMetadataWithRegionalInformation.bind(this),U.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(t.metadata);sc(e,c,!1),e.canonical_authority=this.canonicalAuthority}return t.source}let n=await J(this.getEndpointMetadataFromNetwork.bind(this),U.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return(s=this.authorityOptions.azureRegionConfiguration)!=null&&s.azureRegion&&(n=await J(this.updateMetadataWithRegionalInformation.bind(this),U.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n)),sc(e,n,!0),bn.NETWORK;throw G(E3,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),sc(e,t,!1),{source:bn.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const i=this.getEndpointMetadataFromHardcodedValues();if(i)return sc(e,i,!1),{source:bn.HARDCODED_VALUES,metadata:i};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const n=Wm(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:bn.CACHE}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new Ie(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw et(Z3)}return null}async getEndpointMetadataFromNetwork(){var n;(n=this.performanceClient)==null||n.addQueueMeasurement(U.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{const i=await this.networkInterface.sendGetRequestAsync(t,e);return FC(i.body)?i.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(i){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${i}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in zm?zm[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var n,i,a;(n=this.performanceClient)==null||n.addQueueMeasurement(U.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const t=(i=this.authorityOptions.azureRegionConfiguration)==null?void 0:i.azureRegion;if(t){if(t!==Y.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=hu.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=t,Jt.replaceWithRegionalInformation(e,t);const s=await J(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),U.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)((a=this.authorityOptions.azureRegionConfiguration)==null?void 0:a.environmentRegion,this.regionDiscoveryMetadata);if(s)return this.regionDiscoveryMetadata.region_outcome=hu.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=s,Jt.replaceWithRegionalInformation(e,s);this.regionDiscoveryMetadata.region_outcome=hu.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(U.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;const n=await J(this.getCloudDiscoveryMetadataFromNetwork.bind(this),U.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return pu(e,n,!0),bn.NETWORK;throw et(X3)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||Y.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||Y.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||Y.NOT_APPLICABLE}`);const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),pu(e,t,!1),bn.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const i=Yy(this.hostnameAndPort);if(i)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),pu(e,i,!1),bn.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const n=Wm(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!n?(this.logger.verbose("Found cloud discovery metadata in the cache."),bn.CACHE):(n&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===zn.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Jt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),t=Tl(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),t)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),t;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),et(Lp)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Jt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(U.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${Y.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={};let n=null;try{const a=await this.networkInterface.sendGetRequestAsync(e,t);let s,c;if(HC(a.body))s=a.body,c=s.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${s.tenant_discovery_endpoint}`);else if(UC(a.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${a.status}`),s=a.body,s.error===Y.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${s.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${s.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),c=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=Tl(c,this.hostnameAndPort)}catch(a){if(a instanceof pt)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${a.errorCode}
Error Description: ${a.errorMessage}`);else{const s=a;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${s.name}
Error Description: ${s.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=Jt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(t=>t&&Ie.getDomainFromUrl(t).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,t){let n;if(t&&t.azureCloudInstance!==Dp.None){const i=t.tenant?t.tenant:Y.DEFAULT_COMMON_TENANT;n=`${t.azureCloudInstance}/${i}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return Y.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw G(Fr)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return av.has(e)}static isPublicCloudAuthority(e){return Y.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,n){const i=new Ie(e);i.validateAsUri();const a=i.getUrlComponents();let s=`${t}.${a.HostNameAndPort}`;this.isPublicCloudAuthority(a.HostNameAndPort)&&(s=`${t}.${Y.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const c=Ie.constructAuthorityUriFromObject({...i.getUrlComponents(),HostNameAndPort:s}).urlString;return n?`${c}?${n}`:c}static replaceWithRegionalInformation(e,t){const n={...e};return n.authorization_endpoint=Jt.buildRegionalAuthorityString(n.authorization_endpoint,t),n.token_endpoint=Jt.buildRegionalAuthorityString(n.token_endpoint,t),n.end_session_endpoint&&(n.end_session_endpoint=Jt.buildRegionalAuthorityString(n.end_session_endpoint,t)),n}static transformCIAMAuthority(e){let t=e;const i=new Ie(e).getUrlComponents();if(i.PathSegments.length===0&&i.HostNameAndPort.endsWith(Y.CIAM_AUTH_URL)){const a=i.HostNameAndPort.split(".")[0];t=`${t}${a}${Y.AAD_TENANT_DOMAIN_SUFFIX}`}return t}}Jt.reservedTenantDomains=new Set(["{tenant}","{tenantid}",wi.COMMON,wi.CONSUMERS,wi.ORGANIZATIONS]);function BC(r){var i;const n=(i=new Ie(r).getUrlComponents().PathSegments.slice(-1)[0])==null?void 0:i.toLowerCase();switch(n){case wi.COMMON:case wi.ORGANIZATIONS:case wi.CONSUMERS:return;default:return n}}function dv(r){return r.endsWith(Y.FORWARD_SLASH)?r:`${r}${Y.FORWARD_SLASH}`}function VC(r){const e=r.cloudDiscoveryMetadata;let t;if(e)try{t=JSON.parse(e)}catch{throw et(Lp)}return{canonicalAuthority:r.authority?dv(r.authority):void 0,knownAuthorities:r.knownAuthorities,cloudDiscoveryMetadata:t}}/*! @azure/msal-common v14.16.0 2024-11-05 */async function uv(r,e,t,n,i,a,s){s==null||s.addQueueMeasurement(U.AuthorityFactoryCreateDiscoveredInstance,a);const c=Jt.transformCIAMAuthority(dv(r)),l=new Jt(c,e,t,n,i,a,s);try{return await J(l.resolveEndpointsAsync.bind(l),U.AuthorityResolveEndpointsAsync,i,s,a)(),l}catch{throw G(Fr)}}/*! @azure/msal-common v14.16.0 2024-11-05 */class Ni extends pt{constructor(e,t,n,i,a){super(e,t,n),this.name="ServerError",this.errorNo=i,this.status=a,Object.setPrototypeOf(this,Ni.prototype)}}/*! @azure/msal-common v14.16.0 2024-11-05 */class dr{static generateThrottlingStorageKey(e){return`${cs.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,t){var a;const n=dr.generateThrottlingStorageKey(t),i=e.getThrottlingCache(n);if(i){if(i.throttleTime<Date.now()){e.removeItem(n);return}throw new Ni(((a=i.errorCodes)==null?void 0:a.join(" "))||Y.EMPTY_STRING,i.errorMessage,i.subError)}}static postProcess(e,t,n){if(dr.checkResponseStatus(n)||dr.checkResponseForRetryAfter(n)){const i={throttleTime:dr.calculateThrottleTime(parseInt(n.headers[on.RETRY_AFTER])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(dr.generateThrottlingStorageKey(t),i)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(on.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){const t=e<=0?0:e,n=Date.now()/1e3;return Math.floor(Math.min(n+(t||cs.DEFAULT_THROTTLE_TIME_SECONDS),n+cs.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,t,n,i){const a={clientId:t,authority:n.authority,scopes:n.scopes,homeAccountIdentifier:i,claims:n.claims,authenticationScheme:n.authenticationScheme,resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,sshKid:n.sshKid},s=this.generateThrottlingStorageKey(a);e.removeItem(s)}}/*! @azure/msal-common v14.16.0 2024-11-05 */class _d extends pt{constructor(e,t,n){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,_d.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=n}}function Zm(r,e,t){return new _d(r,e,t)}/*! @azure/msal-common v14.16.0 2024-11-05 */class Yp{constructor(e,t){this.config=Xy(e),this.logger=new ti(this.config.loggerOptions,$3,Pp),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[on.CONTENT_TYPE]=Y.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case kn.HOME_ACCOUNT_ID:try{const n=jo(e.credential);t[on.CCS_HEADER]=`Oid:${n.uid}@${n.utid}`}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case kn.UPN:t[on.CCS_HEADER]=`UPN: ${e.credential}`;break}return t}async executePostToTokenEndpoint(e,t,n,i,a,s){var l;s&&((l=this.performanceClient)==null||l.addQueueMeasurement(s,a));const c=await this.sendPostRequest(i,e,{body:t,headers:n},a);return this.config.serverTelemetryManager&&c.status<500&&c.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),c}async sendPostRequest(e,t,n,i){var s,c,l;dr.preProcess(this.cacheManager,e);let a;try{a=await J(this.networkClient.sendPostRequestAsync.bind(this.networkClient),U.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,i)(t,n);const d=a.headers||{};(c=this.performanceClient)==null||c.addFields({refreshTokenSize:((s=a.body.refresh_token)==null?void 0:s.length)||0,httpVerToken:d[on.X_MS_HTTP_VERSION]||"",requestId:d[on.X_MS_REQUEST_ID]||""},i)}catch(d){if(d instanceof _d){const u=d.responseHeaders;throw u&&((l=this.performanceClient)==null||l.addFields({httpVerToken:u[on.X_MS_HTTP_VERSION]||"",requestId:u[on.X_MS_REQUEST_ID]||"",contentTypeHeader:u[on.CONTENT_TYPE]||void 0,contentLengthHeader:u[on.CONTENT_LENGTH]||void 0,httpStatus:d.httpStatus},i)),d.error}throw d instanceof pt?d:G(N3)}return dr.postProcess(this.cacheManager,e,a),a}async updateAuthority(e,t){var a;(a=this.performanceClient)==null||a.addQueueMeasurement(U.UpdateTokenEndpointAuthority,t);const n=`https://${e}/${this.authority.tenant}/`,i=await uv(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=i}createTokenQueryParameters(e){const t=new ls(e.correlationId,this.performanceClient);return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.addCorrelationId(e.correlationId),t.createQueryString()}}/*! @azure/msal-common v14.16.0 2024-11-05 */const kl="no_tokens_found",hv="native_account_unavailable",Wp="refresh_token_expired",YC="interaction_required",WC="consent_required",zC="login_required",yd="bad_token";/*! @azure/msal-common v14.16.0 2024-11-05 */const Xm=[YC,WC,zC,yd],jC=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],qC={[kl]:"No refresh token found in the cache. Please sign-in.",[hv]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Wp]:"Refresh token has expired.",[yd]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class Xn extends pt{constructor(e,t,n,i,a,s,c,l){super(e,t,n),Object.setPrototypeOf(this,Xn.prototype),this.timestamp=i||Y.EMPTY_STRING,this.traceId=a||Y.EMPTY_STRING,this.correlationId=s||Y.EMPTY_STRING,this.claims=c||Y.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=l}}function Jm(r,e,t){const n=!!r&&Xm.indexOf(r)>-1,i=!!t&&jC.indexOf(t)>-1,a=!!e&&Xm.some(s=>e.indexOf(s)>-1);return n||a||i}function _h(r){return new Xn(r,qC[r])}/*! @azure/msal-common v14.16.0 2024-11-05 */class Gn{static setRequestState(e,t,n){const i=Gn.generateLibraryState(e,n);return t?`${i}${Y.RESOURCE_DELIM}${t}`:i}static generateLibraryState(e,t){if(!e)throw G(ph);const n={id:e.createNewGuid()};t&&(n.meta=t);const i=JSON.stringify(n);return e.base64Encode(i)}static parseRequestState(e,t){if(!e)throw G(ph);if(!t)throw G(ia);try{const n=t.split(Y.RESOURCE_DELIM),i=n[0],a=n.length>1?n.slice(1).join(Y.RESOURCE_DELIM):Y.EMPTY_STRING,s=e.base64Decode(i),c=JSON.parse(s);return{userRequestState:a||Y.EMPTY_STRING,libraryState:c}}catch{throw G(ia)}}}/*! @azure/msal-common v14.16.0 2024-11-05 */const KC={SW:"sw",UHW:"uhw"};class aa{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){var a;(a=this.performanceClient)==null||a.addQueueMeasurement(U.PopTokenGenerateCnf,e.correlationId);const n=await J(this.generateKid.bind(this),U.PopTokenGenerateCnf,t,this.performanceClient,e.correlationId)(e),i=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:i}}async generateKid(e){var n;return(n=this.performanceClient)==null||n.addQueueMeasurement(U.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:KC.SW}}async signPopToken(e,t,n){return this.signPayload(e,t,n)}async signPayload(e,t,n,i){const{resourceRequestMethod:a,resourceRequestUri:s,shrClaims:c,shrNonce:l,shrOptions:d}=n,u=s?new Ie(s):void 0,h=u==null?void 0:u.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Sr(),m:a==null?void 0:a.toUpperCase(),u:h==null?void 0:h.HostNameAndPort,nonce:l||this.cryptoUtils.createNewGuid(),p:h==null?void 0:h.AbsolutePath,q:h!=null&&h.QueryString?[[],h.QueryString]:void 0,client_claims:c||void 0,...i},t,d,n.correlationId)}}/*! @azure/msal-common v14.16.0 2024-11-05 */class GC{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v14.16.0 2024-11-05 */function QC(r){var n,i;const e="code=",t=(n=r.error_uri)==null?void 0:n.lastIndexOf(e);return t&&t>=0?(i=r.error_uri)==null?void 0:i.substring(t+e.length):void 0}class uo{constructor(e,t,n,i,a,s,c){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=i,this.serializableCache=a,this.persistencePlugin=s,this.performanceClient=c}validateServerAuthorizationCodeResponse(e,t){if(!e.state||!t)throw e.state?G(wl,"Cached State"):G(wl,"Server State");let n,i;try{n=decodeURIComponent(e.state)}catch{throw G(ia,e.state)}try{i=decodeURIComponent(t)}catch{throw G(ia,e.state)}if(n!==i)throw G(k3);if(e.error||e.error_description||e.suberror){const a=QC(e);throw Jm(e.error,e.error_description,e.suberror)?new Xn(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",a):new Ni(e.error||"",e.error_description,e.suberror,a)}}validateTokenResponse(e,t){var n;if(e.error||e.error_description||e.suberror){const i=`Error(s): ${e.error_codes||Y.NOT_AVAILABLE} - Timestamp: ${e.timestamp||Y.NOT_AVAILABLE} - Description: ${e.error_description||Y.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||Y.NOT_AVAILABLE} - Trace ID: ${e.trace_id||Y.NOT_AVAILABLE}`,a=(n=e.error_codes)!=null&&n.length?e.error_codes[0]:void 0,s=new Ni(e.error,i,e.suberror,a,e.status);if(t&&e.status&&e.status>=rc.SERVER_ERROR_RANGE_START&&e.status<=rc.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${s}`);return}else if(t&&e.status&&e.status>=rc.CLIENT_ERROR_RANGE_START&&e.status<=rc.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${s}`);return}throw Jm(e.error,e.error_description,e.suberror)?new Xn(e.error,e.error_description,e.suberror,e.timestamp||Y.EMPTY_STRING,e.trace_id||Y.EMPTY_STRING,e.correlation_id||Y.EMPTY_STRING,e.claims||Y.EMPTY_STRING,a):s}}async handleServerTokenResponse(e,t,n,i,a,s,c,l,d){var g;(g=this.performanceClient)==null||g.addQueueMeasurement(U.HandleServerTokenResponse,e.correlation_id);let u;if(e.id_token){if(u=wo(e.id_token||Y.EMPTY_STRING,this.cryptoObj.base64Decode),a&&a.nonce&&u.nonce!==a.nonce)throw G(I3);if(i.maxAge||i.maxAge===0){const m=u.auth_time;if(!m)throw G(Tp);B3(m,i.maxAge)}}this.homeAccountIdentifier=Lt.generateHomeAccountId(e.client_info||Y.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,u);let h;a&&a.state&&(h=Gn.parseRequestState(this.cryptoObj,a.state)),e.key_id=e.key_id||i.sshKid||void 0;const p=this.generateCacheRecord(e,t,n,i,u,s,a);let f;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),f=new GC(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(f)),c&&!l&&p.account){const m=p.account.generateAccountKey();if(!this.cacheStorage.getAccount(m,this.logger))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await uo.generateAuthenticationResult(this.cryptoObj,t,p,!1,i,u,h,void 0,d)}await this.cacheStorage.saveCacheRecord(p,i.storeInCache,i.correlationId)}finally{this.persistencePlugin&&this.serializableCache&&f&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(f))}return uo.generateAuthenticationResult(this.cryptoObj,t,p,!1,i,u,h,e,d)}generateCacheRecord(e,t,n,i,a,s,c){const l=t.getPreferredCache();if(!l)throw G(Ip);const d=rv(a);let u,h;e.id_token&&a&&(u=fd(this.homeAccountIdentifier,l,e.id_token,this.clientId,d||""),h=zp(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,a,e.client_info,l,d,c,void 0,this.logger));let p=null;if(e.access_token){const m=e.scope?St.fromString(e.scope):new St(i.scopes||[]),v=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,_=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,y=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,w=n+v,b=w+_,C=y&&y>0?n+y:void 0;p=md(this.homeAccountIdentifier,l,e.access_token,this.clientId,d||t.tenant||"",m.printScopes(),w,b,this.cryptoObj.base64Decode,C,e.token_type,s,e.key_id,i.claims,i.requestedClaimsHash)}let f=null;if(e.refresh_token){let m;if(e.refresh_token_expires_in){const v=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;m=n+v}f=V3(this.homeAccountIdentifier,l,e.refresh_token,this.clientId,e.foci,s,m)}let g=null;return e.foci&&(g={clientId:this.clientId,environment:l,familyId:e.foci}),{account:h,idToken:u,accessToken:p,refreshToken:f,appMetadata:g}}static async generateAuthenticationResult(e,t,n,i,a,s,c,l,d){var w,b,C,N,S;let u=Y.EMPTY_STRING,h=[],p=null,f,g,m=Y.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType===Ke.POP&&!a.popKid){const k=new aa(e),{secret:T,keyId:A}=n.accessToken;if(!A)throw G(xp);u=await k.signPopToken(T,A,a)}else u=n.accessToken.secret;h=St.fromString(n.accessToken.target).asArray(),p=new Date(Number(n.accessToken.expiresOn)*1e3),f=new Date(Number(n.accessToken.extendedExpiresOn)*1e3),n.accessToken.refreshOn&&(g=new Date(Number(n.accessToken.refreshOn)*1e3))}n.appMetadata&&(m=n.appMetadata.familyId===ss?ss:"");const v=(s==null?void 0:s.oid)||(s==null?void 0:s.sub)||"",_=(s==null?void 0:s.tid)||"";l!=null&&l.spa_accountid&&n.account&&(n.account.nativeAccountId=l==null?void 0:l.spa_accountid);const y=n.account?Up(n.account.getAccountInfo(),void 0,s,(w=n.idToken)==null?void 0:w.secret):null;return{authority:t.canonicalAuthority,uniqueId:v,tenantId:_,scopes:h,account:y,idToken:((b=n==null?void 0:n.idToken)==null?void 0:b.secret)||"",idTokenClaims:s||{},accessToken:u,fromCache:i,expiresOn:p,extExpiresOn:f,refreshOn:g,correlationId:a.correlationId,requestId:d||Y.EMPTY_STRING,familyId:m,tokenType:((C=n.accessToken)==null?void 0:C.tokenType)||Y.EMPTY_STRING,state:c?c.userRequestState:Y.EMPTY_STRING,cloudGraphHostName:((N=n.account)==null?void 0:N.cloudGraphHostName)||Y.EMPTY_STRING,msGraphHost:((S=n.account)==null?void 0:S.msGraphHost)||Y.EMPTY_STRING,code:l==null?void 0:l.spa_code,fromNativeBroker:!1}}}function zp(r,e,t,n,i,a,s,c,l,d,u){u==null||u.verbose("setCachedAccount called");const p=r.getAccountKeys().find(_=>_.startsWith(t));let f=null;p&&(f=r.getAccount(p,u));const g=f||Lt.createAccount({homeAccountId:t,idTokenClaims:i,clientInfo:a,environment:s,cloudGraphHostName:l==null?void 0:l.cloud_graph_host_name,msGraphHost:l==null?void 0:l.msgraph_host,nativeAccountId:d},e,n),m=g.tenantProfiles||[],v=c||g.realm;if(v&&!m.find(_=>_.tenantId===v)){const _=Hp(t,g.localAccountId,v,i);m.push(_)}return g.tenantProfiles=m,g}/*! @azure/msal-common v14.16.0 2024-11-05 */async function pv(r,e,t){return typeof r=="string"?r:r({clientId:e,tokenEndpoint:t})}/*! @azure/msal-common v14.16.0 2024-11-05 */class fv extends Yp{constructor(e,t){var n;super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=(n=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:n.defaultScopes}async getAuthCodeUrl(e){var n;(n=this.performanceClient)==null||n.addQueueMeasurement(U.GetAuthCodeUrl,e.correlationId);const t=await J(this.createAuthCodeUrlQueryString.bind(this),U.AuthClientCreateQueryString,this.logger,this.performanceClient,e.correlationId)(e);return Ie.appendQueryString(this.authority.authorizationEndpoint,t)}async acquireToken(e,t){var c,l;if((c=this.performanceClient)==null||c.addQueueMeasurement(U.AuthClientAcquireToken,e.correlationId),!e.code)throw G(D3);const n=Sr(),i=await J(this.executeTokenRequest.bind(this),U.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),a=(l=i.headers)==null?void 0:l[on.X_MS_REQUEST_ID],s=new uo(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return s.validateTokenResponse(i.body),J(s.handleServerTokenResponse.bind(s),U.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(i.body,this.authority,n,e,t,void 0,void 0,void 0,a)}handleFragmentResponse(e,t){if(new uo(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,t),!e.code)throw G(F3);return e}getLogoutUri(e){if(!e)throw et(G3);const t=this.createLogoutUrlQueryString(e);return Ie.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){var d,u;(d=this.performanceClient)==null||d.addQueueMeasurement(U.AuthClientExecuteTokenRequest,t.correlationId);const n=this.createTokenQueryParameters(t),i=Ie.appendQueryString(e.tokenEndpoint,n),a=await J(this.createTokenRequestBody.bind(this),U.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,t.correlationId)(t);let s;if(t.clientInfo)try{const h=Al(t.clientInfo,this.cryptoUtils.base64Decode);s={credential:`${h.uid}${en.CLIENT_INFO_SEPARATOR}${h.utid}`,type:kn.HOME_ACCOUNT_ID}}catch(h){this.logger.verbose("Could not parse client info for CCS Header: "+h)}const c=this.createTokenRequestHeaders(s||t.ccsCredential),l={clientId:((u=t.tokenBodyParameters)==null?void 0:u.clientId)||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return J(this.executePostToTokenEndpoint.bind(this),U.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,t.correlationId)(i,a,c,l,t.correlationId,U.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var i,a;(i=this.performanceClient)==null||i.addQueueMeasurement(U.AuthClientCreateTokenRequestBody,e.correlationId);const t=new ls(e.correlationId,this.performanceClient);if(t.addClientId(e.embeddedClientId||((a=e.tokenBodyParameters)==null?void 0:a[lo])||this.config.authOptions.clientId),this.includeRedirectUri?t.addRedirectUri(e.redirectUri):$o.validateRedirectUri(e.redirectUri),t.addScopes(e.scopes,!0,this.oidcDefaultScopes),t.addAuthorizationCode(e.code),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&!gh(this.config)&&t.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&t.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const s=this.config.clientCredentials.clientAssertion;t.addClientAssertion(await pv(s.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(s.assertionType)}if(t.addGrantType(b3.AUTHORIZATION_CODE_GRANT),t.addClientInfo(),e.authenticationScheme===Ke.POP){const s=new aa(this.cryptoUtils,this.performanceClient);let c;e.popKid?c=this.cryptoUtils.encodeKid(e.popKid):c=(await J(s.generateCnf.bind(s),U.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,t.addPopToken(c)}else if(e.authenticationScheme===Ke.SSH)if(e.sshJwk)t.addSshJwk(e.sshJwk);else throw et(gd);(!Kn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities);let n;if(e.clientInfo)try{const s=Al(e.clientInfo,this.cryptoUtils.base64Decode);n={credential:`${s.uid}${en.CLIENT_INFO_SEPARATOR}${s.utid}`,type:kn.HOME_ACCOUNT_ID}}catch(s){this.logger.verbose("Could not parse client info for CCS Header: "+s)}else n=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&n)switch(n.type){case kn.HOME_ACCOUNT_ID:try{const s=jo(n.credential);t.addCcsOid(s)}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case kn.UPN:t.addCcsUpn(n.credential);break}return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&t.addExtraQueryParameters(e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[Qm])&&t.addExtraQueryParameters({[Qm]:"1"}),t.createQueryString()}async createAuthCodeUrlQueryString(e){var a,s;const t=e.correlationId||this.config.cryptoInterface.createNewGuid();(a=this.performanceClient)==null||a.addQueueMeasurement(U.AuthClientCreateQueryString,t);const n=new ls(t,this.performanceClient);n.addClientId(e.embeddedClientId||((s=e.extraQueryParameters)==null?void 0:s[lo])||this.config.authOptions.clientId);const i=[...e.scopes||[],...e.extraScopesToConsent||[]];if(n.addScopes(i,!0,this.oidcDefaultScopes),n.addRedirectUri(e.redirectUri),n.addCorrelationId(t),n.addResponseMode(e.responseMode),n.addResponseTypeCode(),n.addLibraryInfo(this.config.libraryInfo),gh(this.config)||n.addApplicationTelemetry(this.config.telemetry.application),n.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&n.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&n.addPrompt(e.prompt),e.domainHint&&n.addDomainHint(e.domainHint),e.prompt!==Bt.SELECT_ACCOUNT)if(e.sid&&e.prompt===Bt.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),n.addSid(e.sid);else if(e.account){const c=this.extractAccountSid(e.account);let l=this.extractLoginHint(e.account);if(l&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),l=null),l){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),n.addLoginHint(l);try{const d=jo(e.account.homeAccountId);n.addCcsOid(d)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(c&&e.prompt===Bt.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),n.addSid(c);try{const d=jo(e.account.homeAccountId);n.addCcsOid(d)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),n.addLoginHint(e.loginHint),n.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),n.addLoginHint(e.account.username);try{const d=jo(e.account.homeAccountId);n.addCcsOid(d)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),n.addLoginHint(e.loginHint),n.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&n.addNonce(e.nonce),e.state&&n.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.embeddedClientId&&n.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),this.addExtraQueryParams(e,n),e.nativeBroker&&(n.addNativeBroker(),e.authenticationScheme===Ke.POP)){const c=new aa(this.cryptoUtils);let l;e.popKid?l=this.cryptoUtils.encodeKid(e.popKid):l=(await J(c.generateCnf.bind(c),U.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,n.addPopToken(l)}return n.createQueryString()}createLogoutUrlQueryString(e){const t=new ls(e.correlationId,this.performanceClient);return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),this.addExtraQueryParams(e,t),t.createQueryString()}addExtraQueryParams(e,t){!(e.extraQueryParameters&&e.extraQueryParameters.hasOwnProperty("instance_aware"))&&this.config.authOptions.instanceAware&&(e.extraQueryParameters=e.extraQueryParameters||{},e.extraQueryParameters.instance_aware="true"),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters)}extractAccountSid(e){var t;return((t=e.idTokenClaims)==null?void 0:t.sid)||null}extractLoginHint(e){var t;return((t=e.idTokenClaims)==null?void 0:t.login_hint)||null}}/*! @azure/msal-common v14.16.0 2024-11-05 */const ZC=300;class yh extends Yp{constructor(e,t){super(e,t)}async acquireToken(e){var s,c;(s=this.performanceClient)==null||s.addQueueMeasurement(U.RefreshTokenClientAcquireToken,e.correlationId);const t=Sr(),n=await J(this.executeTokenRequest.bind(this),U.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),i=(c=n.headers)==null?void 0:c[on.X_MS_REQUEST_ID],a=new uo(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return a.validateTokenResponse(n.body),J(a.handleServerTokenResponse.bind(a),U.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,i)}async acquireTokenByRefreshToken(e){var n;if(!e)throw et(K3);if((n=this.performanceClient)==null||n.addQueueMeasurement(U.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw G(kp);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await J(this.acquireTokenWithCachedRefreshToken.bind(this),U.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(i){const a=i instanceof Xn&&i.errorCode===kl,s=i instanceof Ni&&i.errorCode===Lm.INVALID_GRANT_ERROR&&i.subError===Lm.CLIENT_MISMATCH_ERROR;if(a||s)return J(this.acquireTokenWithCachedRefreshToken.bind(this),U.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw i}return J(this.acquireTokenWithCachedRefreshToken.bind(this),U.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){var a;(a=this.performanceClient)==null||a.addQueueMeasurement(U.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const n=So(this.cacheManager.getRefreshToken.bind(this.cacheManager),U.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!n)throw _h(kl);if(n.expiresOn&&mh(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||ZC))throw _h(Wp);const i={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||Ke.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:kn.HOME_ACCOUNT_ID}};try{return await J(this.acquireToken.bind(this),U.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(i)}catch(s){if(s instanceof Xn&&s.subError===yd){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const c=zo(n);this.cacheManager.removeRefreshToken(c)}throw s}}async executeTokenRequest(e,t){var l,d;(l=this.performanceClient)==null||l.addQueueMeasurement(U.RefreshTokenClientExecuteTokenRequest,e.correlationId);const n=this.createTokenQueryParameters(e),i=Ie.appendQueryString(t.tokenEndpoint,n),a=await J(this.createTokenRequestBody.bind(this),U.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),s=this.createTokenRequestHeaders(e.ccsCredential),c={clientId:((d=e.tokenBodyParameters)==null?void 0:d.clientId)||this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return J(this.executePostToTokenEndpoint.bind(this),U.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(i,a,s,c,e.correlationId,U.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var i,a,s;(i=this.performanceClient)==null||i.addQueueMeasurement(U.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const t=e.correlationId,n=new ls(t,this.performanceClient);if(n.addClientId(e.embeddedClientId||((a=e.tokenBodyParameters)==null?void 0:a[lo])||this.config.authOptions.clientId),e.redirectUri&&n.addRedirectUri(e.redirectUri),n.addScopes(e.scopes,!0,(s=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:s.defaultScopes),n.addGrantType(b3.REFRESH_TOKEN_GRANT),n.addClientInfo(),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addThrottling(),this.serverTelemetryManager&&!gh(this.config)&&n.addServerTelemetry(this.serverTelemetryManager),n.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&n.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const c=this.config.clientCredentials.clientAssertion;n.addClientAssertion(await pv(c.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),n.addClientAssertionType(c.assertionType)}if(e.authenticationScheme===Ke.POP){const c=new aa(this.cryptoUtils,this.performanceClient);let l;e.popKid?l=this.cryptoUtils.encodeKid(e.popKid):l=(await J(c.generateCnf.bind(c),U.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,n.addPopToken(l)}else if(e.authenticationScheme===Ke.SSH)if(e.sshJwk)n.addSshJwk(e.sshJwk);else throw et(gd);if((!Kn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case kn.HOME_ACCOUNT_ID:try{const c=jo(e.ccsCredential.credential);n.addCcsOid(c)}catch(c){this.logger.verbose("Could not parse home account ID for CCS Header: "+c)}break;case kn.UPN:n.addCcsUpn(e.ccsCredential.credential);break}return e.embeddedClientId&&n.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&n.addExtraQueryParameters(e.tokenBodyParameters),n.createQueryString()}}/*! @azure/msal-common v14.16.0 2024-11-05 */class XC extends Yp{constructor(e,t){super(e,t)}async acquireToken(e){var t;try{const[n,i]=await this.acquireCachedToken({...e,scopes:(t=e.scopes)!=null&&t.length?e.scopes:[...ba]});return i===hi.PROACTIVELY_REFRESHED&&(this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),new yh(this.config,this.performanceClient).acquireTokenByRefreshToken(e).catch(()=>{})),n}catch(n){if(n instanceof pd&&n.errorCode===Br)return new yh(this.config,this.performanceClient).acquireTokenByRefreshToken(e);throw n}}async acquireCachedToken(e){var l;(l=this.performanceClient)==null||l.addQueueMeasurement(U.SilentFlowClientAcquireCachedToken,e.correlationId);let t=hi.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!Kn.isEmptyObj(e.claims))throw this.setCacheOutcome(hi.FORCE_REFRESH_OR_CLAIMS,e.correlationId),G(Br);if(!e.account)throw G(kp);const n=e.account.tenantId||BC(e.authority),i=this.cacheManager.getTokenKeys(),a=this.cacheManager.getAccessToken(e.account,e,i,n,this.performanceClient,e.correlationId);if(a){if(Ty(a.cachedAt)||mh(a.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(hi.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),G(Br);a.refreshOn&&mh(a.refreshOn,0)&&(t=hi.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(hi.NO_CACHED_ACCESS_TOKEN,e.correlationId),G(Br);const s=e.authority||this.authority.getPreferredCache(),c={account:this.cacheManager.readAccountFromCache(e.account),accessToken:a,idToken:this.cacheManager.getIdToken(e.account,i,n,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await J(this.generateResultFromCacheRecord.bind(this),U.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(c,e),t]}setCacheOutcome(e,t){var n,i;(n=this.serverTelemetryManager)==null||n.setCacheOutcome(e),(i=this.performanceClient)==null||i.addFields({cacheOutcome:e},t),e!==hi.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(U.SilentFlowClientGenerateResultFromCacheRecord,t.correlationId);let n;if(e.idToken&&(n=wo(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||t.maxAge===0){const a=n==null?void 0:n.auth_time;if(!a)throw G(Tp);B3(a,t.maxAge)}return uo.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,n)}}/*! @azure/msal-common v14.16.0 2024-11-05 */const JC={sendGetRequestAsync:()=>Promise.reject(G(be)),sendPostRequestAsync:()=>Promise.reject(G(be))};/*! @azure/msal-common v14.16.0 2024-11-05 */const eg=",",mv="|";function e9(r){const{skus:e,libraryName:t,libraryVersion:n,extensionName:i,extensionVersion:a}=r,s=new Map([[0,[t,n]],[2,[i,a]]]);let c=[];if(e!=null&&e.length){if(c=e.split(eg),c.length<4)return e}else c=Array.from({length:4},()=>mv);return s.forEach((l,d)=>{var u,h;l.length===2&&((u=l[0])!=null&&u.length)&&((h=l[1])!=null&&h.length)&&t9({skuArr:c,index:d,skuName:l[0],skuVersion:l[1]})}),c.join(eg)}function t9(r){const{skuArr:e,index:t,skuName:n,skuVersion:i}=r;t>=e.length||(e[t]=[n,i].join(mv))}class Cs{constructor(e,t){this.cacheOutcome=hi.NOT_APPLICABLE,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||Y.EMPTY_STRING,this.wrapperVer=e.wrapperVer||Y.EMPTY_STRING,this.telemetryCacheKey=jt.CACHE_KEY+en.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${jt.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n!=null&&n.length&&t.push(`broker_error=${n}`);const i=t.join(jt.VALUE_SEPARATOR),a=this.getRegionDiscoveryFields(),s=[e,a].join(jt.VALUE_SEPARATOR);return[jt.SCHEMA_VERSION,s,i].join(jt.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=Cs.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*t).join(jt.VALUE_SEPARATOR),i=e.errors.slice(0,t).join(jt.VALUE_SEPARATOR),a=e.errors.length,s=t<a?jt.OVERFLOW_TRUE:jt.OVERFLOW_FALSE,c=[a,s].join(jt.VALUE_SEPARATOR);return[jt.SCHEMA_VERSION,e.cacheHits,n,i,c].join(jt.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=jt.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof pt?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(jt.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){const e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){const e=this.getLastRequests(),t=Cs.maxErrorsToSend(e),n=e.errors.length;if(t===n)this.cacheManager.removeItem(this.telemetryCacheKey);else{const i={failedRequests:e.failedRequests.slice(t*2),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i)}}static maxErrorsToSend(e){let t,n=0,i=0;const a=e.errors.length;for(t=0;t<a;t++){const s=e.failedRequests[2*t]||Y.EMPTY_STRING,c=e.failedRequests[2*t+1]||Y.EMPTY_STRING,l=e.errors[t]||Y.EMPTY_STRING;if(i+=s.toString().length+c.toString().length+l.length+3,i<jt.MAX_LAST_HEADER_BYTES)n+=1;else break}return n}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||Y.EMPTY_STRING),e.push(this.regionSource||Y.EMPTY_STRING),e.push(this.regionOutcome||Y.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return e9(e)}}/*! @azure/msal-common v14.16.0 2024-11-05 */const gv="missing_kid_error",vv="missing_alg_error";/*! @azure/msal-common v14.16.0 2024-11-05 */const n9={[gv]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[vv]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class jp extends pt{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,jp.prototype)}}function tg(r){return new jp(r,n9[r])}/*! @azure/msal-common v14.16.0 2024-11-05 */class qp{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw tg(gv);if(!e.alg)throw tg(vv);const t=new qp({typ:e.typ||uy.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}/*! @azure/msal-common v14.16.0 2024-11-05 */class ng{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class r9{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:$C.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new ng}}startPerformanceMeasurement(){return new ng}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-browser v3.28.0 2024-12-12 */const Kp="pkce_not_created",Ch="crypto_nonexistent",Cd="empty_navigate_uri",_v="hash_empty_error",Gp="no_state_in_hash",yv="hash_does_not_contain_known_properties",Cv="unable_to_parse_state",bv="state_interaction_type_mismatch",wv="interaction_in_progress",Sv="popup_window_error",Av="empty_window_error",ho="user_cancelled",i9="monitor_popup_timeout",Nv="monitor_window_timeout",Ev="redirect_in_iframe",Tv="block_iframe_reload",kv="block_nested_popups",o9="iframe_closed_prematurely",bd="silent_logout_unsupported",Iv="no_account_error",a9="silent_prompt_value_error",xv="no_token_request_cache_error",Pv="unable_to_parse_token_request_cache_error",Qp="no_cached_authority_error",s9="auth_request_not_set_error",c9="invalid_cache_type",wd="non_browser_environment",Bo="database_not_open",Il="no_network_connectivity",Dv="post_request_failed",Ov="get_request_failed",bh="failed_to_parse_response",Rv="unable_to_load_token",Zp="crypto_key_not_found",Mv="auth_code_required",Lv="auth_code_or_nativeAccountId_required",Fv="spa_code_and_nativeAccountId_present",Xp="database_unavailable",Hv="unable_to_acquire_token_from_native_platform",Uv="native_handshake_timeout",$v="native_extension_not_installed",Fs="native_connection_not_established",Bv="uninitialized_public_client_application",Vv="native_prompt_not_supported",Yv="invalid_base64_string",Wv="invalid_pop_token_request",zv="failed_to_build_headers",jv="failed_to_parse_headers";/*! @azure/msal-browser v3.28.0 2024-12-12 */const Pr="For more visit: aka.ms/msaljs/browser-errors",l9={[Kp]:"The PKCE code challenge and verifier could not be generated.",[Ch]:"The crypto object or function is not available.",[Cd]:"Navigation URI is empty. Please check stack trace for more info.",[_v]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Pr}`,[Gp]:"Hash does not contain state. Please verify that the request originated from msal.",[yv]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Pr}`,[Cv]:"Unable to parse state. Please verify that the request originated from msal.",[bv]:"Hash contains state but the interaction type does not match the caller.",[wv]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Pr}`,[Sv]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[Av]:"window.open returned null or undefined window object.",[ho]:"User cancelled the flow.",[i9]:`Token acquisition in popup failed due to timeout.  ${Pr}`,[Nv]:`Token acquisition in iframe failed due to timeout.  ${Pr}`,[Ev]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[Tv]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Pr}`,[kv]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[o9]:"The iframe being monitored was closed prematurely.",[bd]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[Iv]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[a9]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[xv]:"No token request found in cache.",[Pv]:"The cached token request could not be parsed.",[Qp]:"No cached authority found.",[s9]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[c9]:"Invalid cache type",[wd]:"Login and token requests are not supported in non-browser environments.",[Bo]:"Database is not open!",[Il]:"No network connectivity. Check your internet connection.",[Dv]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[Ov]:"Network request failed. Please check the network trace to determine root cause.",[bh]:"Failed to parse network response. Check network trace.",[Rv]:"Error loading token to cache.",[Zp]:"Cryptographic Key or Keypair not found in browser storage.",[Mv]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[Lv]:"An authorization code or nativeAccountId must be provided to this flow.",[Fv]:"Request cannot contain both spa code and native account id.",[Xp]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[Hv]:`Unable to acquire token from native platform.  ${Pr}`,[Uv]:"Timed out while attempting to establish connection to browser extension",[$v]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[Fs]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Pr}`,[Bv]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Pr}`,[Vv]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[Yv]:"Invalid base64 encoded string.",[Wv]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[zv]:"Failed to build request headers object.",[jv]:"Failed to parse response headers"};class Hs extends pt{constructor(e,t){super(e,l9[e],t),Object.setPrototypeOf(this,Hs.prototype),this.name="BrowserAuthError"}}function he(r,e){return new Hs(r,e)}/*! @azure/msal-browser v3.28.0 2024-12-12 */const Tn={INTERACTION_IN_PROGRESS_VALUE:"interaction_in_progress",INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},qo={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},Qi={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},fn={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},rg={GET:"GET",POST:"POST"},Be={AUTHORITY:"authority",ACQUIRE_TOKEN_ACCOUNT:"acquireToken.account",SESSION_STATE:"session.state",REQUEST_STATE:"request.state",NONCE_IDTOKEN:"nonce.id_token",ORIGIN_URI:"request.origin",RENEW_STATUS:"token.renew.status",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",SCOPES:"scopes",INTERACTION_STATUS_KEY:"interaction.status",CCS_CREDENTIAL:"ccs.credential",CORRELATION_ID:"request.correlationId",NATIVE_REQUEST:"request.native",REDIRECT_CONTEXT:"request.redirect.context"},li={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys"},cc={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},it={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var pe;(function(r){r.Redirect="redirect",r.Popup="popup",r.Silent="silent",r.None="none"})(pe||(pe={}));const $t={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},ig={scopes:ba},qv="jwk",d9={React:"@azure/msal-react",Angular:"@azure/msal-angular"},wh="msal.db",u9=1,h9=`${wh}.keys`,wn={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},p9=[wn.Default,wn.Skip,wn.RefreshTokenAndNetwork],f9="msal.browser.log.level",m9="msal.browser.log.pii";/*! @azure/msal-browser v3.28.0 2024-12-12 */function lc(r){return encodeURIComponent(Jp(r).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function Sd(r){return Kv(r).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Jp(r){return Kv(new TextEncoder().encode(r))}function Kv(r){const e=Array.from(r,t=>String.fromCodePoint(t)).join("");return btoa(e)}/*! @azure/msal-browser v3.28.0 2024-12-12 */const g9="RSASSA-PKCS1-v1_5",Gv="SHA-256",v9=2048,_9=new Uint8Array([1,0,1]),og="0123456789abcdef",ag=new Uint32Array(1),y9="crypto_subtle_undefined",ef={name:g9,hash:Gv,modulusLength:v9,publicExponent:_9};function C9(){if(!window)throw he(wd);if(!window.crypto)throw he(Ch);if(!window.crypto.subtle)throw he(Ch,y9)}async function Qv(r,e,t){e==null||e.addQueueMeasurement(U.Sha256Digest,t);const i=new TextEncoder().encode(r);return window.crypto.subtle.digest(Gv,i)}function b9(r){return window.crypto.getRandomValues(r)}function mu(){return window.crypto.getRandomValues(ag),ag[0]}function ni(){const r=Date.now(),e=mu()*1024+(mu()&1023),t=new Uint8Array(16),n=Math.trunc(e/2**30),i=e&2**30-1,a=mu();t[0]=r/2**40,t[1]=r/2**32,t[2]=r/2**24,t[3]=r/2**16,t[4]=r/2**8,t[5]=r,t[6]=112|n>>>8,t[7]=n,t[8]=128|i>>>24,t[9]=i>>>16,t[10]=i>>>8,t[11]=i,t[12]=a>>>24,t[13]=a>>>16,t[14]=a>>>8,t[15]=a;let s="";for(let c=0;c<t.length;c++)s+=og.charAt(t[c]>>>4),s+=og.charAt(t[c]&15),(c===3||c===5||c===7||c===9)&&(s+="-");return s}async function w9(r,e){return window.crypto.subtle.generateKey(ef,r,e)}async function gu(r){return window.crypto.subtle.exportKey(qv,r)}async function S9(r,e,t){return window.crypto.subtle.importKey(qv,r,ef,e,t)}async function A9(r,e){return window.crypto.subtle.sign(ef,r,e)}async function Zv(r){const e=await Qv(r),t=new Uint8Array(e);return Sd(t)}/*! @azure/msal-browser v3.28.0 2024-12-12 */const tf="storage_not_supported",Ut="stubbed_public_client_application_called",Xv="in_mem_redirect_unavailable";/*! @azure/msal-browser v3.28.0 2024-12-12 */const N9={[tf]:"Given storage configuration option was not supported.",[Ut]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[Xv]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class nf extends pt{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,nf.prototype)}}function Dt(r){return new nf(r,N9[r])}/*! @azure/msal-browser v3.28.0 2024-12-12 */function E9(r){r.location.hash="",typeof r.history.replaceState=="function"&&r.history.replaceState(null,"",`${r.location.origin}${r.location.pathname}${r.location.search}`)}function T9(r){const e=r.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function rf(){return window.parent!==window}function k9(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${Tn.POPUP_NAME_PREFIX}.`)===0}function Vr(){return window.location.href.split("?")[0].split("#")[0]}function I9(){const e=new Ie(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function x9(){if(Ie.hashContainsKnownProperties(window.location.hash)&&rf())throw he(Tv)}function P9(r){if(rf()&&!r)throw he(Ev)}function D9(){if(k9())throw he(kv)}function Jv(){if(typeof window>"u")throw he(wd)}function e6(r){if(!r)throw he(Bv)}function of(r){Jv(),x9(),D9(),e6(r)}function sg(r,e){if(of(r),P9(e.system.allowRedirectInIframe),e.cache.cacheLocation===fn.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw Dt(Xv)}function t6(r){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(r).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function O9(){return ni()}/*! @azure/msal-browser v3.28.0 2024-12-12 */class xl{navigateInternal(e,t){return xl.defaultNavigateWindow(e,t)}navigateExternal(e,t){return xl.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise(n=>{setTimeout(()=>{n(!0)},t.timeout)})}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class R9{async sendGetRequestAsync(e,t){let n,i={},a=0;const s=cg(t);try{n=await fetch(e,{method:rg.GET,headers:s})}catch{throw he(window.navigator.onLine?Ov:Il)}i=lg(n.headers);try{return a=n.status,{headers:i,body:await n.json(),status:a}}catch{throw Zm(he(bh),a,i)}}async sendPostRequestAsync(e,t){const n=t&&t.body||"",i=cg(t);let a,s=0,c={};try{a=await fetch(e,{method:rg.POST,headers:i,body:n})}catch{throw he(window.navigator.onLine?Dv:Il)}c=lg(a.headers);try{return s=a.status,{headers:c,body:await a.json(),status:s}}catch{throw Zm(he(bh),s,c)}}}function cg(r){try{const e=new Headers;if(!(r&&r.headers))return e;const t=r.headers;return Object.entries(t).forEach(([n,i])=>{e.append(n,i)}),e}catch{throw he(zv)}}function lg(r){try{const e={};return r.forEach((t,n)=>{e[n]=t}),e}catch{throw he(jv)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */const M9=6e4,Sh=1e4,L9=3e4,F9=2e3;function H9({auth:r,cache:e,system:t,telemetry:n},i){const a={clientId:Y.EMPTY_STRING,authority:`${Y.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:Y.EMPTY_STRING,authorityMetadata:Y.EMPTY_STRING,redirectUri:typeof window<"u"?Vr():"",postLogoutRedirectUri:Y.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:qr.AAD,OIDCOptions:{serverResponseType:Ls.FRAGMENT,defaultScopes:[Y.OPENID_SCOPE,Y.PROFILE_SCOPE,Y.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:Dp.None,tenant:Y.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1},s={cacheLocation:fn.SessionStorage,temporaryCacheLocation:fn.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===fn.LocalStorage),claimsBasedCachingEnabled:!1},c={loggerCallback:()=>{},logLevel:ht.Info,piiLoggingEnabled:!1},d={...{...cv,loggerOptions:c,networkClient:i?new R9:JC,navigationClient:new xl,loadFrameTimeout:0,windowHashTimeout:(t==null?void 0:t.loadFrameTimeout)||M9,iframeHashTimeout:(t==null?void 0:t.loadFrameTimeout)||Sh,navigateFrameWait:0,redirectNavigationTimeout:L9,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:(t==null?void 0:t.nativeBrokerHandshakeTimeout)||F9,pollIntervalMilliseconds:Tn.DEFAULT_POLL_INTERVAL_MS},...t,loggerOptions:(t==null?void 0:t.loggerOptions)||c},u={application:{appName:Y.EMPTY_STRING,appVersion:Y.EMPTY_STRING},client:new r9};if((r==null?void 0:r.protocolMode)!==qr.OIDC&&(r!=null&&r.OIDCOptions)&&new ti(d.loggerOptions).warning(JSON.stringify(et(ev))),r!=null&&r.protocolMode&&r.protocolMode!==qr.AAD&&(d!=null&&d.allowNativeBroker))throw et(tv);return{auth:{...a,...r,OIDCOptions:{...a.OIDCOptions,...r==null?void 0:r.OIDCOptions}},cache:{...s,...e},system:d,telemetry:{...u,...n}}}/*! @azure/msal-browser v3.28.0 2024-12-12 */const U9="@azure/msal-browser",Ad="3.28.0";/*! @azure/msal-browser v3.28.0 2024-12-12 */class af{static loggerCallback(e,t){switch(e){case ht.Error:console.error(t);return;case ht.Info:console.info(t);return;case ht.Verbose:console.debug(t);return;case ht.Warning:console.warn(t);return;default:console.log(t);return}}constructor(e){var l;this.browserEnvironment=typeof window<"u",this.config=H9(e,this.browserEnvironment);let t;try{t=window[fn.SessionStorage]}catch{}const n=t==null?void 0:t.getItem(f9),i=(l=t==null?void 0:t.getItem(m9))==null?void 0:l.toLowerCase(),a=i==="true"?!0:i==="false"?!1:void 0,s={...this.config.system.loggerOptions},c=n&&Object.keys(ht).includes(n)?ht[n]:void 0;c&&(s.loggerCallback=af.loggerCallback,s.logLevel=c),a!==void 0&&(s.piiLoggingEnabled=a),this.logger=new ti(s,U9,Ad),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class po extends af{getModuleName(){return po.MODULE_NAME}getId(){return po.ID}async initialize(){return this.available=typeof window<"u",this.available}}po.MODULE_NAME="";po.ID="StandardOperatingContext";/*! @azure/msal-browser v3.28.0 2024-12-12 */function vr(r){return new TextDecoder().decode($9(r))}function $9(r){let e=r.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw he(Yv)}const t=atob(e);return Uint8Array.from(t,n=>n.codePointAt(0)||0)}/*! @azure/msal-browser v3.28.0 2024-12-12 */class B9{constructor(){this.dbName=wh,this.version=u9,this.tableName=h9,this.dbOpen=!1}async open(){return new Promise((e,t)=>{const n=window.indexedDB.open(this.dbName,this.version);n.addEventListener("upgradeneeded",i=>{i.target.result.createObjectStore(this.tableName)}),n.addEventListener("success",i=>{const a=i;this.db=a.target.result,this.dbOpen=!0,e()}),n.addEventListener("error",()=>t(he(Xp)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((t,n)=>{if(!this.db)return n(he(Bo));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);s.addEventListener("success",c=>{const l=c;this.closeConnection(),t(l.target.result)}),s.addEventListener("error",c=>{this.closeConnection(),n(c)})})}async setItem(e,t){return await this.validateDbIsOpen(),new Promise((n,i)=>{if(!this.db)return i(he(Bo));const c=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);c.addEventListener("success",()=>{this.closeConnection(),n()}),c.addEventListener("error",l=>{this.closeConnection(),i(l)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((t,n)=>{if(!this.db)return n(he(Bo));const s=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);s.addEventListener("success",()=>{this.closeConnection(),t()}),s.addEventListener("error",c=>{this.closeConnection(),n(c)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,t)=>{if(!this.db)return t(he(Bo));const a=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();a.addEventListener("success",s=>{const c=s;this.closeConnection(),e(c.target.result)}),a.addEventListener("error",s=>{this.closeConnection(),t(s)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((t,n)=>{if(!this.db)return n(he(Bo));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);s.addEventListener("success",c=>{const l=c;this.closeConnection(),t(l.target.result===1)}),s.addEventListener("error",c=>{this.closeConnection(),n(c)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,t)=>{const n=window.indexedDB.deleteDatabase(wh),i=setTimeout(()=>t(!1),200);n.addEventListener("success",()=>(clearTimeout(i),e(!0))),n.addEventListener("blocked",()=>(clearTimeout(i),e(!0))),n.addEventListener("error",()=>(clearTimeout(i),t(!1)))})}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class Ah{constructor(){this.cache=new Map}getItem(e){return this.cache.get(e)||null}setItem(e,t){this.cache.set(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((t,n)=>{e.push(n)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class V9{constructor(e){this.inMemoryCache=new Ah,this.indexedDBCache=new B9,this.logger=e}handleDatabaseAccessError(e){if(e instanceof Hs&&e.errorCode===Xp)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(n){this.handleDatabaseAccessError(n)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(n){this.handleDatabaseAccessError(n)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(t){this.handleDatabaseAccessError(t)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(t){this.handleDatabaseAccessError(t)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(n){this.handleDatabaseAccessError(n)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class sa{constructor(e,t){this.logger=e,C9(),this.cache=new V9(this.logger),this.performanceClient=t}createNewGuid(){return ni()}base64Encode(e){return Jp(e)}base64Decode(e){return vr(e)}base64UrlEncode(e){return lc(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){var u;const t=(u=this.performanceClient)==null?void 0:u.startMeasurement(U.CryptoOptsGetPublicKeyThumbprint,e.correlationId),n=await w9(sa.EXTRACTABLE,sa.POP_KEY_USAGES),i=await gu(n.publicKey),a={e:i.e,kty:i.kty,n:i.n},s=dg(a),c=await this.hashString(s),l=await gu(n.privateKey),d=await S9(l,!1,["sign"]);return await this.cache.setItem(c,{privateKey:d,publicKey:n.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),t&&t.end({success:!0}),c}async removeTokenBindingKey(e){return await this.cache.removeItem(e),!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,t,n,i){var w;const a=(w=this.performanceClient)==null?void 0:w.startMeasurement(U.CryptoOptsSignJwt,i),s=await this.cache.getItem(t);if(!s)throw he(Zp);const c=await gu(s.publicKey),l=dg(c),d=lc(JSON.stringify({kid:t})),u=qp.getShrHeaderString({...n==null?void 0:n.header,alg:c.alg,kid:d}),h=lc(u);e.cnf={jwk:JSON.parse(l)};const p=lc(JSON.stringify(e)),f=`${h}.${p}`,m=new TextEncoder().encode(f),v=await A9(s.privateKey,m),_=Sd(new Uint8Array(v)),y=`${f}.${_}`;return a&&a.end({success:!0}),y}async hashString(e){return Zv(e)}}sa.POP_KEY_USAGES=["sign","verify"];sa.EXTRACTABLE=!0;function dg(r){return JSON.stringify(r,Object.keys(r).sort())}/*! @azure/msal-browser v3.28.0 2024-12-12 */class Y9{constructor(){if(!window.localStorage)throw Dt(tf)}getItem(e){return window.localStorage.getItem(e)}setItem(e,t){window.localStorage.setItem(e,t)}removeItem(e){window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class W9{constructor(){if(!window.sessionStorage)throw Dt(tf)}getItem(e){return window.sessionStorage.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */function n6(r,e){if(!e)return null;try{return Gn.parseRequestState(r,e).libraryState.meta}catch{throw G(ia)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */const z9=24*60*60*1e3;class j9{getItem(e){const t=`${encodeURIComponent(e)}`,n=document.cookie.split(";");for(let i=0;i<n.length;i++){const a=n[i],[s,...c]=decodeURIComponent(a).trim().split("="),l=c.join("=");if(s===t)return l}return""}setItem(e,t,n,i=!0){let a=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=Lax;`;if(n){const s=q9(n);a+=`expires=${s};`}i&&(a+="Secure;"),document.cookie=a}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),t=[];return e.forEach(n=>{const i=decodeURIComponent(n).trim().split("=");t.push(i[0])}),t}containsKey(e){return this.getKeys().includes(e)}}function q9(r){const e=new Date;return new Date(e.getTime()+r*z9).toUTCString()}/*! @azure/msal-browser v3.28.0 2024-12-12 */class Nh extends oa{constructor(e,t,n,i,a,s){super(e,n,i,a),this.cacheConfig=t,this.logger=i,this.internalStorage=new Ah,this.browserStorage=this.setupBrowserStorage(this.cacheConfig.cacheLocation),this.temporaryCacheStorage=this.setupBrowserStorage(this.cacheConfig.temporaryCacheLocation),this.cookieStorage=new j9,t.cacheMigrationEnabled&&(this.migrateCacheEntries(),this.createKeyMaps()),this.performanceClient=s}setupBrowserStorage(e){try{switch(e){case fn.LocalStorage:return new Y9;case fn.SessionStorage:return new W9;case fn.MemoryStorage:default:break}}catch(t){this.logger.error(t)}return this.cacheConfig.cacheLocation=fn.MemoryStorage,new Ah}migrateCacheEntries(){const e=`${Y.CACHE_PREFIX}.${Ht.ID_TOKEN}`,t=`${Y.CACHE_PREFIX}.${Ht.CLIENT_INFO}`,n=`${Y.CACHE_PREFIX}.${Ht.ERROR}`,i=`${Y.CACHE_PREFIX}.${Ht.ERROR_DESC}`,a=this.browserStorage.getItem(e),s=this.browserStorage.getItem(t),c=this.browserStorage.getItem(n),l=this.browserStorage.getItem(i),d=[a,s,c,l];[Ht.ID_TOKEN,Ht.CLIENT_INFO,Ht.ERROR,Ht.ERROR_DESC].forEach((h,p)=>{const f=d[p];f&&this.setTemporaryCache(h,f,!0)})}createKeyMaps(){this.logger.trace("BrowserCacheManager - createKeyMaps called.");const e=this.getItem(li.ACCOUNT_KEYS),t=this.getItem(`${li.TOKEN_KEYS}.${this.clientId}`);if(e&&t){this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration.");return}this.browserStorage.getKeys().forEach(i=>{if(this.isCredentialKey(i)){const a=this.getItem(i);if(a){const s=this.validateAndParseJson(a);if(s&&s.hasOwnProperty("credentialType"))switch(s.credentialType){case fe.ID_TOKEN:if(Bm(s)){this.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - idToken with key: ${i} found, saving key to token key map`);const c=s,l=this.updateCredentialCacheKey(i,c);this.addTokenKey(l,fe.ID_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed idToken validation on key: ${i}`);break;case fe.ACCESS_TOKEN:case fe.ACCESS_TOKEN_WITH_AUTH_SCHEME:if($m(s)){this.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - accessToken with key: ${i} found, saving key to token key map`);const c=s,l=this.updateCredentialCacheKey(i,c);this.addTokenKey(l,fe.ACCESS_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed accessToken validation on key: ${i}`);break;case fe.REFRESH_TOKEN:if(Vm(s)){this.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - refreshToken with key: ${i} found, saving key to token key map`);const c=s,l=this.updateCredentialCacheKey(i,c);this.addTokenKey(l,fe.REFRESH_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: ${i}`);break}}}if(this.isAccountKey(i)){const a=this.getItem(i);if(a){const s=this.validateAndParseJson(a);s&&Lt.isAccountEntity(s)&&(this.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - account with key: ${i} found, saving key to account key map`),this.addAccountKeyToMap(i))}}})}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&typeof t=="object"?t:null}catch{return null}}getItem(e){return this.browserStorage.getItem(e)}setItem(e,t){this.browserStorage.setItem(e,t)}getAccount(e,t){this.logger.trace("BrowserCacheManager.getAccount called");const n=this.getCachedAccountEntity(e);return this.updateOutdatedCachedAccount(e,n,t)}getCachedAccountEntity(e){const t=this.getItem(e);if(!t)return this.removeAccountKeyFromMap(e),null;const n=this.validateAndParseJson(t);return!n||!Lt.isAccountEntity(n)?(this.removeAccountKeyFromMap(e),null):oa.toObject(new Lt,n)}setAccount(e){this.logger.trace("BrowserCacheManager.setAccount called");const t=e.generateAccountKey();this.setItem(t,JSON.stringify(e)),this.addAccountKeyToMap(t)}getAccountKeys(){this.logger.trace("BrowserCacheManager.getAccountKeys called");const e=this.getItem(li.ACCOUNT_KEYS);return e?JSON.parse(e):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const t=this.getAccountKeys();t.indexOf(e)===-1?(t.push(e),this.setItem(li.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const t=this.getAccountKeys(),n=t.indexOf(e);n>-1?(t.splice(n,1),this.setItem(li.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}removeOutdatedAccount(e){this.removeItem(e),this.removeAccountKeyFromMap(e)}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,fe.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,fe.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,fe.REFRESH_TOKEN)}getTokenKeys(){this.logger.trace("BrowserCacheManager.getTokenKeys called");const e=this.getItem(`${li.TOKEN_KEYS}.${this.clientId}`);if(e){const t=this.validateAndParseJson(e);if(t&&t.hasOwnProperty("idToken")&&t.hasOwnProperty("accessToken")&&t.hasOwnProperty("refreshToken"))return t;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");const n=this.getTokenKeys();switch(t){case fe.ID_TOKEN:n.idToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),n.idToken.push(e));break;case fe.ACCESS_TOKEN:n.accessToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),n.accessToken.push(e));break;case fe.REFRESH_TOKEN:n.refreshToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),n.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${t}`),G(fh)}this.setItem(`${li.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(n))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");const n=this.getTokenKeys();switch(t){case fe.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const i=n.idToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),n.idToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case fe.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const a=n.accessToken.indexOf(e);a>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),n.accessToken.splice(a,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case fe.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const s=n.refreshToken.indexOf(e);s>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),n.refreshToken.splice(s,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${t}`),G(fh)}this.setItem(`${li.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(n))}getIdTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,fe.ID_TOKEN),null;const n=this.validateAndParseJson(t);return!n||!Bm(n)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,fe.ID_TOKEN),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),n)}setIdTokenCredential(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const t=zo(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,fe.ID_TOKEN)}getAccessTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,fe.ACCESS_TOKEN),null;const n=this.validateAndParseJson(t);return!n||!$m(n)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,fe.ACCESS_TOKEN),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),n)}setAccessTokenCredential(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const t=zo(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,fe.ACCESS_TOKEN)}getRefreshTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,fe.REFRESH_TOKEN),null;const n=this.validateAndParseJson(t);return!n||!Vm(n)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,fe.REFRESH_TOKEN),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),n)}setRefreshTokenCredential(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const t=zo(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,fe.REFRESH_TOKEN)}getAppMetadata(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return!n||!Ly(e,n)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),n)}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const t=My(e);this.setItem(t,JSON.stringify(e))}getServerTelemetry(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const n=this.validateAndParseJson(t);return!n||!Oy(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),n)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&Fy(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),n):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(t=>this.isAuthorityMetadata(t))}setWrapperMetadata(e,t){this.internalStorage.setItem(cc.WRAPPER_SKU,e),this.internalStorage.setItem(cc.WRAPPER_VER,t)}getWrapperMetadata(){const e=this.internalStorage.getItem(cc.WRAPPER_SKU)||Y.EMPTY_STRING,t=this.internalStorage.getItem(cc.WRAPPER_VER)||Y.EMPTY_STRING;return[e,t]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){const e=this.generateCacheKey(Ht.ACTIVE_ACCOUNT_FILTERS),t=this.getItem(e);if(!t){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");const i=this.generateCacheKey(Ht.ACTIVE_ACCOUNT),a=this.getItem(i);if(!a)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;const s=this.getAccountInfoFilteredBy({localAccountId:a});return s?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(s),s):null}const n=this.validateAndParseJson(t);return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:n.homeAccountId,localAccountId:n.localAccountId,tenantId:n.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const t=this.generateCacheKey(Ht.ACTIVE_ACCOUNT_FILTERS),n=this.generateCacheKey(Ht.ACTIVE_ACCOUNT);if(e){this.logger.verbose("setActiveAccount: Active account set");const i={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(i)),this.browserStorage.setItem(n,e.localAccountId)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t),this.browserStorage.removeItem(n)}getThrottlingCache(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const n=this.validateAndParseJson(t);return!n||!Ry(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),n)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){const n=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const a=this.cookieStorage.getItem(n);if(a)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),a}const i=this.temporaryCacheStorage.getItem(n);if(!i){if(this.cacheConfig.cacheLocation===fn.LocalStorage){const a=this.browserStorage.getItem(n);if(a)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),a}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),i}setTemporaryCache(e,t,n){const i=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(i,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(i,t,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach(e=>{(e.indexOf(Y.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(e)}),this.browserStorage.getKeys().forEach(e=>{(e.indexOf(Y.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(e)}),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,t){e.addQueueMeasurement(U.ClearTokensAndKeysWithClaims,t);const n=this.getTokenKeys(),i=[];n.accessToken.forEach(a=>{const s=this.getAccessTokenCredential(a);s!=null&&s.requestedClaimsHash&&a.includes(s.requestedClaimsHash.toLowerCase())&&i.push(this.removeAccessToken(a))}),await Promise.all(i),i.length>0&&this.logger.warning(`${i.length} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):Kn.startsWith(e,Y.CACHE_PREFIX)||Kn.startsWith(e,Ht.ADAL_ID_TOKEN)?e:`${Y.CACHE_PREFIX}.${this.clientId}.${e}`}generateAuthorityKey(e){const{libraryState:{id:t}}=Gn.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Be.AUTHORITY}.${t}`)}generateNonceKey(e){const{libraryState:{id:t}}=Gn.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Be.NONCE_IDTOKEN}.${t}`)}generateStateKey(e){const{libraryState:{id:t}}=Gn.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Be.REQUEST_STATE}.${t}`)}getCachedAuthority(e){const t=this.generateStateKey(e),n=this.getTemporaryCache(t);if(!n)return null;const i=this.generateAuthorityKey(n);return this.getTemporaryCache(i)}updateCacheEntries(e,t,n,i,a){this.logger.trace("BrowserCacheManager.updateCacheEntries called");const s=this.generateStateKey(e);this.setTemporaryCache(s,e,!1);const c=this.generateNonceKey(e);this.setTemporaryCache(c,t,!1);const l=this.generateAuthorityKey(e);if(this.setTemporaryCache(l,n,!1),a){const d={credential:a.homeAccountId,type:kn.HOME_ACCOUNT_ID};this.setTemporaryCache(Be.CCS_CREDENTIAL,JSON.stringify(d),!0)}else if(i){const d={credential:i,type:kn.UPN};this.setTemporaryCache(Be.CCS_CREDENTIAL,JSON.stringify(d),!0)}}resetRequestCache(e){this.logger.trace("BrowserCacheManager.resetRequestCache called"),e&&(this.temporaryCacheStorage.getKeys().forEach(t=>{t.indexOf(e)!==-1&&this.removeTemporaryItem(t)}),this.removeTemporaryItem(this.generateStateKey(e)),this.removeTemporaryItem(this.generateNonceKey(e)),this.removeTemporaryItem(this.generateAuthorityKey(e))),this.removeTemporaryItem(this.generateCacheKey(Be.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(Be.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(Be.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(Be.CORRELATION_ID)),this.removeTemporaryItem(this.generateCacheKey(Be.CCS_CREDENTIAL)),this.removeTemporaryItem(this.generateCacheKey(Be.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cleanRequestByState(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){const t=this.generateStateKey(e),n=this.temporaryCacheStorage.getItem(t);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n||Y.EMPTY_STRING)}}cleanRequestByInteractionType(e){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.temporaryCacheStorage.getKeys().forEach(t=>{if(t.indexOf(Be.REQUEST_STATE)===-1)return;const n=this.temporaryCacheStorage.getItem(t);if(!n)return;const i=n6(this.cryptoImpl,n);i&&i.interactionType===e&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n))}),this.setInteractionInProgress(!1)}cacheCodeRequest(e){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");const t=Jp(JSON.stringify(e));this.setTemporaryCache(Be.REQUEST_PARAMS,t,!0)}getCachedRequest(e){this.logger.trace("BrowserCacheManager.getCachedRequest called");const t=this.getTemporaryCache(Be.REQUEST_PARAMS,!0);if(!t)throw he(xv);let n;try{n=JSON.parse(vr(t))}catch(i){throw this.logger.errorPii(`Attempted to parse: ${t}`),this.logger.error(`Parsing cached token request threw with error: ${i}`),he(Pv)}if(this.removeTemporaryItem(this.generateCacheKey(Be.REQUEST_PARAMS)),!n.authority){const i=this.generateAuthorityKey(e),a=this.getTemporaryCache(i);if(!a)throw he(Qp);n.authority=a}return n}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(Be.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const t=this.getInteractionInProgress();return e?t===this.clientId:!!t}getInteractionInProgress(){const e=`${Y.CACHE_PREFIX}.${Be.INTERACTION_STATUS_KEY}`;return this.getTemporaryCache(e,!1)}setInteractionInProgress(e){const t=`${Y.CACHE_PREFIX}.${Be.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw he(wv);this.setTemporaryCache(t,this.clientId,!1)}else!e&&this.getInteractionInProgress()===this.clientId&&this.removeTemporaryItem(t)}getLegacyLoginHint(){const e=this.getTemporaryCache(Ht.ADAL_ID_TOKEN);e&&(this.browserStorage.removeItem(Ht.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));const t=this.getTemporaryCache(Ht.ID_TOKEN,!0);t&&(this.browserStorage.removeItem(this.generateCacheKey(Ht.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));const n=t||e;if(n){const i=wo(n,vr);if(i.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),i.preferred_username;if(i.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),i.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null}updateCredentialCacheKey(e,t){const n=zo(t);if(e!==n){const i=this.getItem(e);if(i)return this.browserStorage.removeItem(e),this.setItem(n,i),this.logger.verbose(`Updated an outdated ${t.credentialType} cache key`),n;this.logger.error(`Attempted to update an outdated ${t.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}async hydrateCache(e,t){var c,l,d;const n=fd((c=e.account)==null?void 0:c.homeAccountId,(l=e.account)==null?void 0:l.environment,e.idToken,this.clientId,e.tenantId);let i;t.claims&&(i=await this.cryptoImpl.hashString(t.claims));const a=md((d=e.account)==null?void 0:d.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?e.expiresOn.getTime()/1e3:0,e.extExpiresOn?e.extExpiresOn.getTime()/1e3:0,vr,void 0,e.tokenType,void 0,t.sshKid,t.claims,i),s={idToken:n,accessToken:a};return this.saveCacheRecord(s)}async saveCacheRecord(e,t,n){try{await super.saveCacheRecord(e,t,n)}catch(i){if(i instanceof Qo&&this.performanceClient&&n)try{const a=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:a.refreshToken.length,cacheIdCount:a.idToken.length,cacheAtCount:a.accessToken.length},n)}catch{}throw i}}}const K9=(r,e)=>{const t={cacheLocation:fn.MemoryStorage,temporaryCacheLocation:fn.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new Nh(r,t,Sl,e)};/*! @azure/msal-browser v3.28.0 2024-12-12 */function G9(r,e,t,n){return r.verbose("getAllAccounts called"),t?e.getAllAccounts(n):[]}function Q9(r,e,t){if(e.trace("getAccount called"),Object.keys(r).length===0)return e.warning("getAccount: No accountFilter provided"),null;const n=t.getAccountInfoFilteredBy(r);return n?(e.verbose("getAccount: Account matching provided filter found, returning"),n):(e.verbose("getAccount: No matching account found, returning null"),null)}function Z9(r,e,t){if(e.trace("getAccountByUsername called"),!r)return e.warning("getAccountByUsername: No username provided"),null;const n=t.getAccountInfoFilteredBy({username:r});return n?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${r}`),n):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function X9(r,e,t){if(e.trace("getAccountByHomeId called"),!r)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;const n=t.getAccountInfoFilteredBy({homeAccountId:r});return n?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${r}`),n):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function J9(r,e,t){if(e.trace("getAccountByLocalId called"),!r)return e.warning("getAccountByLocalId: No localAccountId provided"),null;const n=t.getAccountInfoFilteredBy({localAccountId:r});return n?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${r}`),n):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function e7(r,e){e.setActiveAccount(r)}function t7(r){return r.getActiveAccount()}/*! @azure/msal-browser v3.28.0 2024-12-12 */const ue={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache"};/*! @azure/msal-browser v3.28.0 2024-12-12 */class n7{constructor(e){this.eventCallbacks=new Map,this.logger=e||new ti({})}addEventCallback(e,t,n){if(typeof window<"u"){const i=n||O9();return this.eventCallbacks.has(i)?(this.logger.error(`Event callback with id: ${i} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(i,[e,t||[]]),this.logger.verbose(`Event callback registered with id: ${i}`),i)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,t,n,i){if(typeof window<"u"){const a={eventType:e,interactionType:t||null,payload:n||null,error:i||null,timestamp:Date.now()};this.eventCallbacks.forEach(([s,c],l)=>{(c.length===0||c.includes(e))&&(this.logger.verbose(`Emitting event to callback ${l}: ${e}`),s.apply(null,[a]))})}}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class r6{constructor(e,t,n,i,a,s,c,l,d){this.config=e,this.browserStorage=t,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=a,this.navigationClient=s,this.nativeMessageHandler=l,this.correlationId=d||ni(),this.logger=i.clone(Tn.MSAL_SKU,Ad,this.correlationId),this.performanceClient=c}async clearCacheOnLogout(e){if(e){Lt.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(Lt.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri;return Ie.getAbsoluteUrl(t,Vr())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Cs(n,this.browserStorage)}async getDiscoveredAuthority(e){const{account:t}=e,n=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(U.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const i={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},a=e.requestAuthority||this.config.auth.authority,s=n!=null&&n.length?n==="true":this.config.auth.instanceAware,c=t&&s?this.config.auth.authority.replace(Ie.getDomainFromUrl(a),t.environment):a,l=Jt.generateAuthority(c,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),d=await J(uv,U.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(l,this.config.system.networkClient,this.browserStorage,i,this.logger,this.correlationId,this.performanceClient);if(t&&!d.isAlias(t.environment))throw et(nv);return d}}/*! @azure/msal-browser v3.28.0 2024-12-12 */const r7=32;async function i7(r,e,t){r.addQueueMeasurement(U.GeneratePkceCodes,t);const n=So(o7,U.GenerateCodeVerifier,e,r,t)(r,e,t),i=await J(a7,U.GenerateCodeChallengeFromVerifier,e,r,t)(n,r,e,t);return{verifier:n,challenge:i}}function o7(r,e,t){try{const n=new Uint8Array(r7);return So(b9,U.GetRandomValues,e,r,t)(n),Sd(n)}catch{throw he(Kp)}}async function a7(r,e,t,n){e.addQueueMeasurement(U.GenerateCodeChallengeFromVerifier,n);try{const i=await J(Qv,U.Sha256Digest,t,e,n)(r,e,n);return Sd(new Uint8Array(i))}catch{throw he(Kp)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */async function sf(r,e,t,n){t.addQueueMeasurement(U.InitializeBaseRequest,r.correlationId);const i=r.authority||e.auth.authority,a=[...r&&r.scopes||[]],s={...r,correlationId:r.correlationId,authority:i,scopes:a};if(!s.authenticationScheme)s.authenticationScheme=Ke.BEARER,n.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(s.authenticationScheme===Ke.SSH){if(!r.sshJwk)throw et(gd);if(!r.sshKid)throw et(J3)}n.verbose(`Authentication Scheme set to "${s.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&r.claims&&!Kn.isEmptyObj(r.claims)&&(s.requestedClaimsHash=await Zv(r.claims)),s}async function s7(r,e,t,n,i){n.addQueueMeasurement(U.InitializeSilentRequest,r.correlationId);const a=await J(sf,U.InitializeBaseRequest,i,n,r.correlationId)(r,t,n,i);return{...r,...a,account:e,forceRefresh:r.forceRefresh||!1}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class wa extends r6{async initializeAuthorizationCodeRequest(e){this.performanceClient.addQueueMeasurement(U.StandardInteractionClientInitializeAuthorizationCodeRequest,this.correlationId);const t=await J(i7,U.GeneratePkceCodes,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId),n={...e,redirectUri:e.redirectUri,code:Y.EMPTY_STRING,codeVerifier:t.verifier};return e.codeChallenge=t.challenge,e.codeChallengeMethod=Y.S256_CODE_CHALLENGE_METHOD,n}initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e==null?void 0:e.correlationId);const t={correlationId:this.correlationId||ni(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=Ie.getAbsoluteUrl(e.postLogoutRedirectUri,Vr())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=Ie.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Vr())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=Ie.getAbsoluteUrl(Vr(),Vr())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(U.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const t=await J(this.getClientConfiguration.bind(this),U.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new fv(t,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:t,requestAuthority:n,requestAzureCloudOptions:i,requestExtraQueryParameters:a,account:s}=e;this.performanceClient.addQueueMeasurement(U.StandardInteractionClientGetClientConfiguration,this.correlationId);const c=await J(this.getDiscoveredAuthority.bind(this),U.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:n,requestAzureCloudOptions:i,requestExtraQueryParameters:a,account:s}),l=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:c,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:l.loggerCallback,piiLoggingEnabled:l.piiLoggingEnabled,logLevel:l.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:Tn.MSAL_SKU,version:Ad,cpu:Y.EMPTY_STRING,os:Y.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(U.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const n=this.getRedirectUri(e.redirectUri),i={interactionType:t},a=Gn.setRequestState(this.browserCrypto,e&&e.state||Y.EMPTY_STRING,i),c={...await J(sf,U.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:n,state:a,nonce:e.nonce||ni(),responseMode:this.config.auth.OIDCOptions.serverResponseType};if(e.loginHint||e.sid)return c;const l=e.account||this.browserStorage.getActiveAccount();if(l&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${l.homeAccountId}`,this.correlationId),c.account=l),!c.loginHint&&!l){const d=this.browserStorage.getLegacyLoginHint();d&&(c.loginHint=d)}return c}}/*! @azure/msal-browser v3.28.0 2024-12-12 */const c7="ContentError",i6="user_switch";/*! @azure/msal-browser v3.28.0 2024-12-12 */const l7="USER_INTERACTION_REQUIRED",d7="USER_CANCEL",u7="NO_NETWORK",h7="PERSISTENT_ERROR",p7="DISABLED",f7="ACCOUNT_UNAVAILABLE";/*! @azure/msal-browser v3.28.0 2024-12-12 */const m7=-2147186943,g7={[i6]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class ur extends pt{constructor(e,t,n){super(e,t),Object.setPrototypeOf(this,ur.prototype),this.name="NativeAuthError",this.ext=n}}function Vo(r){if(r.ext&&r.ext.status&&(r.ext.status===h7||r.ext.status===p7)||r.ext&&r.ext.error&&r.ext.error===m7)return!0;switch(r.errorCode){case c7:return!0;default:return!1}}function Eh(r,e,t){if(t&&t.status)switch(t.status){case f7:return _h(hv);case l7:return new Xn(r,e);case d7:return he(ho);case u7:return he(Il)}return new ur(r,g7[r]||e,t)}/*! @azure/msal-browser v3.28.0 2024-12-12 */class o6 extends wa{async acquireToken(e){this.performanceClient.addQueueMeasurement(U.SilentCacheClientAcquireToken,e.correlationId);const t=this.initializeServerTelemetryManager(it.acquireTokenSilent_silentFlow),n=await J(this.getClientConfiguration.bind(this),U.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),i=new XC(n,this.performanceClient);this.logger.verbose("Silent auth client created");try{const s=(await J(i.acquireCachedToken.bind(i),U.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),s}catch(a){throw a instanceof Hs&&a.errorCode===Zp&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),a}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t==null?void 0:t.account)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class Zo extends r6{constructor(e,t,n,i,a,s,c,l,d,u,h,p){var g;super(e,t,n,i,a,s,l,d,p),this.apiId=c,this.accountId=u,this.nativeMessageHandler=d,this.nativeStorageManager=h,this.silentCacheClient=new o6(e,this.nativeStorageManager,n,i,a,s,l,d,p),this.serverTelemetryManager=this.initializeServerTelemetryManager(this.apiId);const f=this.nativeMessageHandler.getExtensionId()===qo.PREFERRED_EXTENSION_ID?"chrome":(g=this.nativeMessageHandler.getExtensionId())!=null&&g.length?"unknown":void 0;this.skus=Cs.makeExtraSkuString({libraryName:Tn.MSAL_SKU,libraryVersion:Ad,extensionName:f,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[MC]:this.skus}}async acquireToken(e){this.performanceClient.addQueueMeasurement(U.NativeInteractionClientAcquireToken,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const t=this.performanceClient.startMeasurement(U.NativeInteractionClientAcquireToken,e.correlationId),n=Sr();try{const i=await this.initializeNativeRequest(e);try{const d=await this.acquireTokensFromCache(this.accountId,i);return t.end({success:!0,isNativeBroker:!1,fromCache:!0}),d}catch{this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const{...a}=i,s={method:Qi.GetToken,request:a},c=await this.nativeMessageHandler.sendMessage(s),l=this.validateNativeResponse(c);return await this.handleNativeResponse(l,i,n).then(d=>(t.end({success:!0,isNativeBroker:!0,requestId:d.requestId}),this.serverTelemetryManager.clearNativeBrokerErrorCode(),d)).catch(d=>{throw t.end({success:!1,errorCode:d.errorCode,subErrorCode:d.subError,isNativeBroker:!0}),d})}catch(i){throw i instanceof ur&&this.serverTelemetryManager.setNativeBrokerErrorCode(i.errorCode),i}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:St.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),G(hh);const n=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!n)throw G(hh);try{const i=this.createSilentCacheRequest(t,n),a=await this.silentCacheClient.acquireToken(i),s={...n,idTokenClaims:a==null?void 0:a.idTokenClaims,idToken:a==null?void 0:a.idToken};return{...a,account:s}}catch(i){throw i}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...n}=e;delete n.onRedirectNavigate;const i=await this.initializeNativeRequest(n),a={method:Qi.GetToken,request:i};try{const l=await this.nativeMessageHandler.sendMessage(a);this.validateNativeResponse(l)}catch(l){if(l instanceof ur&&(this.serverTelemetryManager.setNativeBrokerErrorCode(l.errorCode),Vo(l)))throw l}this.browserStorage.setTemporaryCache(Be.NATIVE_REQUEST,JSON.stringify(i),!0);const s={apiId:it.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},c=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(c,s)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const n=this.browserStorage.getCachedNativeRequest();if(!n)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&(e==null||e.addFields({errorCode:"no_cached_request"},t)),null;const{prompt:i,...a}=n;i&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Be.NATIVE_REQUEST));const s={method:Qi.GetToken,request:a},c=Sr();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const l=await this.nativeMessageHandler.sendMessage(s);this.validateNativeResponse(l);const d=this.handleNativeResponse(l,a,c);this.browserStorage.setInteractionInProgress(!1);const u=await d;return this.serverTelemetryManager.clearNativeBrokerErrorCode(),u}catch(l){throw this.browserStorage.setInteractionInProgress(!1),l}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,n){var u;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const i=wo(e.id_token,vr),a=this.createHomeAccountIdentifier(e,i),s=(u=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId}))==null?void 0:u.homeAccountId;if(a!==s&&e.account.id!==t.accountId)throw Eh(i6);const c=await this.getDiscoveredAuthority({requestAuthority:t.authority}),l=zp(this.browserStorage,c,a,vr,i,e.client_info,void 0,i.tid,void 0,e.account.id,this.logger),d=await this.generateAuthenticationResult(e,t,i,l,c.canonicalAuthority,n);return this.cacheAccount(l),this.cacheNativeTokens(e,t,a,i,e.access_token,d.tenantId,n),d}createHomeAccountIdentifier(e,t){return Lt.generateHomeAccountId(e.client_info||Y.EMPTY_STRING,zn.Default,this.logger,this.browserCrypto,t)}generateScopes(e,t){return e.scope?St.fromString(e.scope):St.fromString(t.scope)}async generatePopAccessToken(e,t){if(t.tokenType===Ke.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const n=new aa(this.browserCrypto),i={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw G(xp);return n.signPopToken(e.access_token,t.keyId,i)}else return e.access_token}async generateAuthenticationResult(e,t,n,i,a,s){const c=this.addTelemetryFromNativeResponse(e),l=e.scope?St.fromString(e.scope):St.fromString(t.scope),d=e.account.properties||{},u=d.UID||n.oid||n.sub||Y.EMPTY_STRING,h=d.TenantId||n.tid||Y.EMPTY_STRING,p=Up(i.getAccountInfo(),void 0,n,e.id_token);p.nativeAccountId!==e.account.id&&(p.nativeAccountId=e.account.id);const f=await this.generatePopAccessToken(e,t),g=t.tokenType===Ke.POP?Ke.POP:Ke.BEARER;return{authority:a,uniqueId:u,tenantId:h,scopes:l.asArray(),account:p,idToken:e.id_token,idTokenClaims:n,accessToken:f,fromCache:c?this.isResponseFromCache(c):!1,expiresOn:new Date(Number(s+e.expires_in)*1e3),tokenType:g,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}cacheAccount(e){this.browserStorage.setAccount(e),this.browserStorage.removeAccountContext(e).catch(t=>{this.logger.error(`Error occurred while removing account context from browser storage. ${t}`)})}cacheNativeTokens(e,t,n,i,a,s,c){const l=fd(n,t.authority,e.id_token||"",t.clientId,i.tid||""),d=t.tokenType===Ke.POP?Y.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,u=c+d,h=this.generateScopes(e,t),p=md(n,t.authority,a,t.clientId,i.tid||s,h.printScopes(),u,0,vr,void 0,t.tokenType,void 0,t.keyId),f={idToken:l,accessToken:p};this.nativeStorageManager.saveCacheRecord(f,t.storeInCache)}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw w3(Ap,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const n=new Ie(t);n.validateAsUri();const{scopes:i,...a}=e,s=new St(i||[]);s.appendScopes(ba);const c=()=>{switch(this.apiId){case it.ssoSilent:case it.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),Bt.NONE}if(!e.prompt){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e.prompt){case Bt.NONE:case Bt.CONSENT:case Bt.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),he(Vv)}},l={...a,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:s.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:c(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(l.signPopToken&&e.popKid)throw he(Wv);if(this.handleExtraBrokerParams(l),l.extraParameters=l.extraParameters||{},l.extraParameters.telemetry=qo.MATS_TELEMETRY,e.authenticationScheme===Ke.POP){const d={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},u=new aa(this.browserCrypto);let h;if(l.keyId)h=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:l.keyId})),l.signPopToken=!1;else{const p=await J(u.generateCnf.bind(u),U.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(d,this.logger);h=p.reqCnfString,l.keyId=p.kid,l.signPopToken=!0}l.reqCnf=h}return this.addRequestSKUs(l),l}handleExtraBrokerParams(e){var a;const t=e.extraParameters&&e.extraParameters.hasOwnProperty(Vp)&&e.extraParameters.hasOwnProperty(vh)&&e.extraParameters.hasOwnProperty(lo);if(!e.embeddedClientId&&!t)return;let n="";const i=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,n=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[vh],n=e.extraParameters[lo]),e.extraParameters={child_client_id:n,child_redirect_uri:i},(a=this.performanceClient)==null||a.addFields({embeddedClientId:n,embeddedRedirectUri:i},e.correlationId)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class fr{constructor(e,t,n,i){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=i,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(U.NativeMessageHandlerHandshake)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const t={channel:qo.CHANNEL_ID,extensionId:this.extensionId,responseId:ni(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(t)}`),this.messageChannel.port1.postMessage(t),new Promise((n,i)=>{this.resolvers.set(t.responseId,{resolve:n,reject:i})})}static async createProvider(e,t,n){e.trace("NativeMessageHandler - createProvider called.");try{const i=new fr(e,t,n,qo.PREFERRED_EXTENSION_ID);return await i.sendHandshakeRequest(),i}catch{const a=new fr(e,t,n);return await a.sendHandshakeRequest(),a}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:qo.CHANNEL_ID,extensionId:this.extensionId,responseId:ni(),body:{method:Qi.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=t=>{this.onChannelMessage(t)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((t,n)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:n}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),n(he(Uv)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const t=e.data;if(!(!t.channel||t.channel!==qo.CHANNEL_ID)&&!(t.extensionId&&t.extensionId!==this.extensionId)&&t.body.method===Qi.HandshakeRequest){const n=this.handshakeResolvers.get(t.responseId);if(!n){this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${t.responseId}`);return}this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),n.reject(he($v))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const t=e.data,n=this.resolvers.get(t.responseId),i=this.handshakeResolvers.get(t.responseId);try{const a=t.body.method;if(a===Qi.Response){if(!n)return;const s=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(s)}`),s.status!=="Success")n.reject(Eh(s.code,s.description,s.ext));else if(s.result)s.result.code&&s.result.description?n.reject(Eh(s.result.code,s.result.description,s.result.ext)):n.resolve(s.result);else throw w3(Ap,"Event does not contain result.");this.resolvers.delete(t.responseId)}else if(a===Qi.HandshakeResponse){if(!i){this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${t.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),i.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(a){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${a}`),this.logger.errorPii(`Unable to parse ${e}`),n?n.reject(a):i&&i.reject(a)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isNativeAvailable(e,t,n,i){if(t.trace("isNativeAvailable called"),!e.system.allowNativeBroker)return t.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!n)return t.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(i)switch(i){case Ke.BEARER:case Ke.POP:return t.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class cf{constructor(e,t,n,i,a){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=i,this.performanceClient=a}async handleCodeResponse(e,t){this.performanceClient.addQueueMeasurement(U.HandleCodeResponse,t.correlationId);let n;try{n=this.authModule.handleFragmentResponse(e,t.state)}catch(i){throw i instanceof Ni&&i.subError===ho?he(ho):i}return J(this.handleCodeResponseFromServer.bind(this),U.HandleCodeResponseFromServer,this.logger,this.performanceClient,t.correlationId)(n,t)}async handleCodeResponseFromServer(e,t,n=!0){if(this.performanceClient.addQueueMeasurement(U.HandleCodeResponseFromServer,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await J(this.authModule.updateAuthority.bind(this.authModule),U.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),n&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const a=this.createCcsCredentials(t);a&&(this.authCodeRequest.ccsCredential=a)}return await J(this.authModule.acquireToken.bind(this.authModule),U.AuthClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:kn.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:kn.UPN}:null}}/*! @azure/msal-browser v3.28.0 2024-12-12 */function a6(r,e,t){const n=El(r);if(!n)throw iv(r)?(t.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),t.errorPii(`The ${e} detected is: ${r}`),he(yv)):(t.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),he(_v));return n}function v7(r,e,t){if(!r.state)throw he(Gp);const n=n6(e,r.state);if(!n)throw he(Cv);if(n.interactionType!==t)throw he(bv)}/*! @azure/msal-browser v3.28.0 2024-12-12 */class _7 extends wa{constructor(e,t,n,i,a,s,c,l,d,u){super(e,t,n,i,a,s,c,d,u),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=l}acquireToken(e){try{const n={popupName:this.generatePopupName(e.scopes||ba,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,n)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),n.popup=this.openSizedPopup("about:blank",n),this.acquireTokenPopupAsync(e,n))}catch(t){return Promise.reject(t)}}logout(e){try{this.logger.verbose("logoutPopup called");const t=this.initializeLogoutRequest(e),n={popupName:this.generateLogoutPopupName(t),popupWindowAttributes:(e==null?void 0:e.popupWindowAttributes)||{},popupWindowParent:(e==null?void 0:e.popupWindowParent)??window},i=e&&e.authority,a=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,n,i,a)):(this.logger.verbose("asyncPopup set to false, opening popup"),n.popup=this.openSizedPopup("about:blank",n),this.logoutPopupAsync(t,n,i,a))}catch(t){return Promise.reject(t)}}async acquireTokenPopupAsync(e,t){var a;this.logger.verbose("acquireTokenPopupAsync called");const n=this.initializeServerTelemetryManager(it.acquireTokenPopup),i=await J(this.initializeAuthorizationRequest.bind(this),U.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,pe.Popup);t6(i.authority);try{const s=await J(this.initializeAuthorizationCodeRequest.bind(this),U.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(i),c=await J(this.createAuthCodeClient.bind(this),U.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:i.authority,requestAzureCloudOptions:i.azureCloudOptions,requestExtraQueryParameters:i.extraQueryParameters,account:i.account}),l=fr.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);let d;l&&(d=this.performanceClient.startMeasurement(U.FetchAccountIdWithNativeBroker,e.correlationId));const u=await c.getAuthCodeUrl({...i,nativeBroker:l}),h=new cf(c,this.browserStorage,s,this.logger,this.performanceClient),p=this.initiateAuthRequest(u,t);this.eventHandler.emitEvent(ue.POPUP_OPENED,pe.Popup,{popupWindow:p},null);const f=await this.monitorPopupForHash(p,t.popupWindowParent),g=So(a6,U.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(f,this.config.auth.OIDCOptions.serverResponseType,this.logger);if(dr.removeThrottle(this.browserStorage,this.config.auth.clientId,s),g.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),d&&d.end({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw he(Fs);const v=new Zo(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,it.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,g.accountId,this.nativeStorage,i.correlationId),{userRequestState:_}=Gn.parseRequestState(this.browserCrypto,i.state);return await v.acquireToken({...i,state:_,prompt:void 0})}return await h.handleCodeResponse(g,i)}catch(s){throw(a=t.popup)==null||a.close(),s instanceof pt&&(s.setCorrelationId(this.correlationId),n.cacheFailedRequest(s)),s}}async logoutPopupAsync(e,t,n,i){var s,c,l,d;this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(ue.LOGOUT_START,pe.Popup,e);const a=this.initializeServerTelemetryManager(it.logoutPopup);try{await this.clearCacheOnLogout(e.account);const u=await J(this.createAuthCodeClient.bind(this),U.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:a,requestAuthority:n,account:e.account||void 0});try{u.authority.endSessionEndpoint}catch{if((s=e.account)!=null&&s.homeAccountId&&e.postLogoutRedirectUri&&u.authority.protocolMode===qr.OIDC){if(this.browserStorage.removeAccount((c=e.account)==null?void 0:c.homeAccountId),this.eventHandler.emitEvent(ue.LOGOUT_SUCCESS,pe.Popup,e),i){const f={apiId:it.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},g=Ie.getAbsoluteUrl(i,Vr());await this.navigationClient.navigateInternal(g,f)}(l=t.popup)==null||l.close();return}}const h=u.getLogoutUri(e);this.eventHandler.emitEvent(ue.LOGOUT_SUCCESS,pe.Popup,e);const p=this.openPopup(h,t);if(this.eventHandler.emitEvent(ue.POPUP_OPENED,pe.Popup,{popupWindow:p},null),await this.monitorPopupForHash(p,t.popupWindowParent).catch(()=>{}),i){const f={apiId:it.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},g=Ie.getAbsoluteUrl(i,Vr());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${g}`),await this.navigationClient.navigateInternal(g,f)}else this.logger.verbose("No main window navigation requested")}catch(u){throw(d=t.popup)==null||d.close(),u instanceof pt&&(u.setCorrelationId(this.correlationId),a.cacheFailedRequest(u)),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(ue.LOGOUT_FAILURE,pe.Popup,null,u),this.eventHandler.emitEvent(ue.LOGOUT_END,pe.Popup),u}this.eventHandler.emitEvent(ue.LOGOUT_END,pe.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),he(Cd)}monitorPopupForHash(e,t){return new Promise((n,i)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const a=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(a),i(he(ho));return}let s="";try{s=e.location.href}catch{}if(!s||s==="about:blank")return;clearInterval(a);let c="";const l=this.config.auth.OIDCOptions.serverResponseType;e&&(l===Ls.QUERY?c=e.location.search:c=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),n(c)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,t)})}openPopup(e,t){try{let n;if(t.popup?(n=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),n.location.assign(e)):typeof t.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),n=this.openSizedPopup(e,t)),!n)throw he(Av);return n.focus&&n.focus(),this.currentWindow=n,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),n}catch(n){throw this.logger.error("error opening popup "+n.message),this.browserStorage.setInteractionInProgress(!1),he(Sv)}}openSizedPopup(e,{popupName:t,popupWindowAttributes:n,popupWindowParent:i}){var f,g,m,v;const a=i.screenLeft?i.screenLeft:i.screenX,s=i.screenTop?i.screenTop:i.screenY,c=i.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,l=i.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let d=(f=n.popupSize)==null?void 0:f.width,u=(g=n.popupSize)==null?void 0:g.height,h=(m=n.popupPosition)==null?void 0:m.top,p=(v=n.popupPosition)==null?void 0:v.left;return(!d||d<0||d>c)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),d=Tn.POPUP_WIDTH),(!u||u<0||u>l)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),u=Tn.POPUP_HEIGHT),(!h||h<0||h>l)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),h=Math.max(0,l/2-Tn.POPUP_HEIGHT/2+s)),(!p||p<0||p>c)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),p=Math.max(0,c/2-Tn.POPUP_WIDTH/2+a)),i.open(e,t,`width=${d}, height=${u}, top=${h}, left=${p}, scrollbars=yes`)}unloadWindow(e){this.browserStorage.cleanRequestByInteractionType(pe.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(e,t){return`${Tn.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return`${Tn.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${t}.${this.correlationId}`}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class ug{constructor(e,t,n,i,a){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=i,this.performanceClient=a}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){t.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(Be.ORIGIN_URI,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(Be.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest),this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const n={apiId:it.acquireTokenRedirect,timeout:t.redirectTimeout,noHistory:!1};if(typeof t.onRedirectNavigate=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),t.onRedirectNavigate(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await t.navigationClient.navigateExternal(e,n);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await t.navigationClient.navigateExternal(e,n);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),he(Cd)}async handleCodeResponse(e,t){this.logger.verbose("RedirectHandler.handleCodeResponse called"),this.browserStorage.setInteractionInProgress(!1);const n=this.browserStorage.generateStateKey(t),i=this.browserStorage.getTemporaryCache(n);if(!i)throw G(wl,"Cached State");let a;try{a=this.authModule.handleFragmentResponse(e,i)}catch(d){throw d instanceof Ni&&d.subError===ho?he(ho):d}const s=this.browserStorage.generateNonceKey(i),c=this.browserStorage.getTemporaryCache(s);if(this.authCodeRequest.code=a.code,a.cloud_instance_host_name&&await J(this.authModule.updateAuthority.bind(this.authModule),U.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,this.authCodeRequest.correlationId)(a.cloud_instance_host_name,this.authCodeRequest.correlationId),a.nonce=c||void 0,a.state=i,a.client_info)this.authCodeRequest.clientInfo=a.client_info;else{const d=this.checkCcsCredentials();d&&(this.authCodeRequest.ccsCredential=d)}const l=await this.authModule.acquireToken(this.authCodeRequest,a);return this.browserStorage.cleanRequestByState(t),l}checkCcsCredentials(){const e=this.browserStorage.getTemporaryCache(Be.CCS_CREDENTIAL,!0);if(e)try{return JSON.parse(e)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${e}`)}return null}}/*! @azure/msal-browser v3.28.0 2024-12-12 */function y7(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const r=window.performance.getEntriesByType("navigation"),e=r.length?r[0]:void 0;return e==null?void 0:e.type}class C7 extends wa{constructor(e,t,n,i,a,s,c,l,d,u){super(e,t,n,i,a,s,c,d,u),this.nativeStorage=l}async acquireToken(e){const t=await J(this.initializeAuthorizationRequest.bind(this),U.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,pe.Redirect);this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||"",t.account||null);const n=this.initializeServerTelemetryManager(it.acquireTokenRedirect),i=a=>{a.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.cleanRequestByState(t.state),this.eventHandler.emitEvent(ue.RESTORE_FROM_BFCACHE,pe.Redirect))};try{const a=await J(this.initializeAuthorizationCodeRequest.bind(this),U.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(t),s=await J(this.createAuthCodeClient.bind(this),U.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),c=new ug(s,this.browserStorage,a,this.logger,this.performanceClient),l=await s.getAuthCodeUrl({...t,nativeBroker:fr.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)}),d=this.getRedirectStartPage(e.redirectStartPage);return this.logger.verbosePii(`Redirect start page: ${d}`),window.addEventListener("pageshow",i),await c.initiateAuthRequest(l,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:d,onRedirectNavigate:e.onRedirectNavigate||this.config.auth.onRedirectNavigate})}catch(a){throw a instanceof pt&&(a.setCorrelationId(this.correlationId),n.cacheFailedRequest(a)),window.removeEventListener("pageshow",i),this.browserStorage.cleanRequestByState(t.state),a}}async handleRedirectPromise(e="",t){const n=this.initializeServerTelemetryManager(it.handleRedirectPromise);try{if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const[i,a]=this.getRedirectResponse(e||"");if(!i)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(pe.Redirect),y7()!=="back_forward"?t.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const s=this.browserStorage.getTemporaryCache(Be.ORIGIN_URI,!0)||Y.EMPTY_STRING,c=Ie.removeHashFromUrl(s),l=Ie.removeHashFromUrl(window.location.href);if(c===l&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),s.indexOf("#")>-1&&T9(s),await this.handleResponse(i,n);if(this.config.auth.navigateToLoginRequestUrl){if(!rf()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(Be.URL_HASH,a,!0);const d={apiId:it.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let u=!0;if(!s||s==="null"){const h=I9();this.browserStorage.setTemporaryCache(Be.ORIGIN_URI,h,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),u=await this.navigationClient.navigateInternal(h,d)}else this.logger.verbose(`Navigating to loginRequestUrl: ${s}`),u=await this.navigationClient.navigateInternal(s,d);if(!u)return await this.handleResponse(i,n)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(i,n);return null}catch(i){throw i instanceof pt&&(i.setCorrelationId(this.correlationId),n.cacheFailedRequest(i)),this.browserStorage.cleanRequestByInteractionType(pe.Redirect),i}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(this.config.auth.OIDCOptions.serverResponseType===Ls.QUERY?t=window.location.search:t=window.location.hash);let n=El(t);if(n){try{v7(n,this.browserCrypto,pe.Redirect)}catch(a){return a instanceof pt&&this.logger.error(`Interaction type validation failed due to ${a.errorCode}: ${a.errorMessage}`),[null,""]}return E9(window),this.logger.verbose("Hash contains known properties, returning response hash"),[n,t]}const i=this.browserStorage.getTemporaryCache(Be.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Be.URL_HASH)),i&&(n=El(i),n)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[n,i]):[null,""]}async handleResponse(e,t){const n=e.state;if(!n)throw he(Gp);const i=this.browserStorage.getCachedRequest(n);if(this.logger.verbose("handleResponse called, retrieved cached request"),e.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw he(Fs);const l=new Zo(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,it.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,e.accountId,this.nativeStorage,i.correlationId),{userRequestState:d}=Gn.parseRequestState(this.browserCrypto,n);return l.acquireToken({...i,state:d,prompt:void 0}).finally(()=>{this.browserStorage.cleanRequestByState(n)})}const a=this.browserStorage.getCachedAuthority(n);if(!a)throw he(Qp);const s=await J(this.createAuthCodeClient.bind(this),U.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:a});return dr.removeThrottle(this.browserStorage,this.config.auth.clientId,i),new ug(s,this.browserStorage,i,this.logger,this.performanceClient).handleCodeResponse(e,n)}async logout(e){var i,a;this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(it.logout);try{this.eventHandler.emitEvent(ue.LOGOUT_START,pe.Redirect,e),await this.clearCacheOnLogout(t.account);const s={apiId:it.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},c=await J(this.createAuthCodeClient.bind(this),U.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e&&e.authority,requestExtraQueryParameters:e==null?void 0:e.extraQueryParameters,account:e&&e.account||void 0});if(c.authority.protocolMode===qr.OIDC)try{c.authority.endSessionEndpoint}catch{if((i=t.account)!=null&&i.homeAccountId){this.browserStorage.removeAccount((a=t.account)==null?void 0:a.homeAccountId),this.eventHandler.emitEvent(ue.LOGOUT_SUCCESS,pe.Redirect,t);return}}const l=c.getLogoutUri(t);if(this.eventHandler.emitEvent(ue.LOGOUT_SUCCESS,pe.Redirect,t),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(l)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),await this.navigationClient.navigateExternal(l,s);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),await this.navigationClient.navigateExternal(l,s);return}}catch(s){throw s instanceof pt&&(s.setCorrelationId(this.correlationId),n.cacheFailedRequest(s)),this.eventHandler.emitEvent(ue.LOGOUT_FAILURE,pe.Redirect,null,s),this.eventHandler.emitEvent(ue.LOGOUT_END,pe.Redirect),s}this.eventHandler.emitEvent(ue.LOGOUT_END,pe.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return Ie.getAbsoluteUrl(t,Vr())}}/*! @azure/msal-browser v3.28.0 2024-12-12 */async function b7(r,e,t,n,i){if(e.addQueueMeasurement(U.SilentHandlerInitiateAuthRequest,n),!r)throw t.info("Navigate url is empty"),he(Cd);return i?J(S7,U.SilentHandlerLoadFrame,t,e,n)(r,i,e,n):So(A7,U.SilentHandlerLoadFrameSync,t,e,n)(r)}async function w7(r,e,t,n,i,a,s){return n.addQueueMeasurement(U.SilentHandlerMonitorIframeForHash,a),new Promise((c,l)=>{e<Sh&&i.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${Sh}ms). This may result in timeouts.`);const d=window.setTimeout(()=>{window.clearInterval(u),l(he(Nv))},e),u=window.setInterval(()=>{let h="";const p=r.contentWindow;try{h=p?p.location.href:""}catch{}if(!h||h==="about:blank")return;let f="";p&&(s===Ls.QUERY?f=p.location.search:f=p.location.hash),window.clearTimeout(d),window.clearInterval(u),c(f)},t)}).finally(()=>{So(N7,U.RemoveHiddenIframe,i,n,a)(r)})}function S7(r,e,t,n){return t.addQueueMeasurement(U.SilentHandlerLoadFrame,n),new Promise((i,a)=>{const s=s6();window.setTimeout(()=>{if(!s){a("Unable to load iframe");return}s.src=r,i(s)},e)})}function A7(r){const e=s6();return e.src=r,e}function s6(){const r=document.createElement("iframe");return r.className="msalSilentIframe",r.style.visibility="hidden",r.style.position="absolute",r.style.width=r.style.height="0",r.style.border="0",r.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(r),r}function N7(r){document.body===r.parentNode&&document.body.removeChild(r)}/*! @azure/msal-browser v3.28.0 2024-12-12 */class E7 extends wa{constructor(e,t,n,i,a,s,c,l,d,u,h){super(e,t,n,i,a,s,l,u,h),this.apiId=c,this.nativeStorage=d}async acquireToken(e){this.performanceClient.addQueueMeasurement(U.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t={...e};t.prompt?t.prompt!==Bt.NONE&&t.prompt!==Bt.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${t.prompt} with ${Bt.NONE}`),t.prompt=Bt.NONE):t.prompt=Bt.NONE;const n=await J(this.initializeAuthorizationRequest.bind(this),U.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(t,pe.Silent);t6(n.authority);const i=this.initializeServerTelemetryManager(this.apiId);let a;try{return a=await J(this.createAuthCodeClient.bind(this),U.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:i,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),await J(this.silentTokenHelper.bind(this),U.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(a,n)}catch(s){if(s instanceof pt&&(s.setCorrelationId(this.correlationId),i.cacheFailedRequest(s)),!a||!(s instanceof pt)||s.errorCode!==Tn.INVALID_GRANT_ERROR)throw s;this.performanceClient.addFields({retryError:s.errorCode},this.correlationId);const c=await J(this.initializeAuthorizationRequest.bind(this),U.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(t,pe.Silent);return await J(this.silentTokenHelper.bind(this),U.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(a,c)}}logout(){return Promise.reject(he(bd))}async silentTokenHelper(e,t){const n=t.correlationId;this.performanceClient.addQueueMeasurement(U.SilentIframeClientTokenHelper,n);const i=await J(this.initializeAuthorizationCodeRequest.bind(this),U.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,n)(t),a=await J(e.getAuthCodeUrl.bind(e),U.GetAuthCodeUrl,this.logger,this.performanceClient,n)({...t,nativeBroker:fr.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)}),s=new cf(e,this.browserStorage,i,this.logger,this.performanceClient),c=await J(b7,U.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,n)(a,this.performanceClient,this.logger,n,this.config.system.navigateFrameWait),l=this.config.auth.OIDCOptions.serverResponseType,d=await J(w7,U.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,n)(c,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,l),u=So(a6,U.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(d,l,this.logger);if(u.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw he(Fs);const h=new Zo(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,u.accountId,this.browserStorage,n),{userRequestState:p}=Gn.parseRequestState(this.browserCrypto,t.state);return J(h.acquireToken.bind(h),U.NativeInteractionClientAcquireToken,this.logger,this.performanceClient,n)({...t,state:p,prompt:t.prompt||Bt.NONE})}return J(s.handleCodeResponse.bind(s),U.HandleCodeResponse,this.logger,this.performanceClient,n)(u,t)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class T7 extends wa{async acquireToken(e){this.performanceClient.addQueueMeasurement(U.SilentRefreshClientAcquireToken,e.correlationId);const t=await J(sf,U.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),n={...e,...t};e.redirectUri&&(n.redirectUri=this.getRedirectUri(e.redirectUri));const i=this.initializeServerTelemetryManager(it.acquireTokenSilent_silentFlow),a=await this.createRefreshTokenClient({serverTelemetryManager:i,authorityUrl:n.authority,azureCloudOptions:n.azureCloudOptions,account:n.account});return J(a.acquireTokenByRefreshToken.bind(a),U.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(n).catch(s=>{throw s.setCorrelationId(this.correlationId),i.cacheFailedRequest(s),s})}logout(){return Promise.reject(he(bd))}async createRefreshTokenClient(e){const t=await J(this.getClientConfiguration.bind(this),U.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new yh(t,this.performanceClient)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class k7{constructor(e,t,n,i){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=t,this.logger=n,this.cryptoObj=i}loadExternalTokens(e,t,n){if(!this.isBrowserEnvironment)throw he(wd);const i=t.id_token?wo(t.id_token,vr):void 0,a={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},s=e.authority?new Jt(Jt.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,a,this.logger,e.correlationId||ni()):void 0,c=this.loadAccount(e,n.clientInfo||t.client_info||"",i,s),l=this.loadIdToken(t,c.homeAccountId,c.environment,c.realm),d=this.loadAccessToken(e,t,c.homeAccountId,c.environment,c.realm,n),u=this.loadRefreshToken(t,c.homeAccountId,c.environment);return this.generateAuthenticationResult(e,{account:c,idToken:l,accessToken:d,refreshToken:u},i,s)}loadAccount(e,t,n,i){if(this.logger.verbose("TokenCache - loading account"),e.account){const l=Lt.createFromAccountInfo(e.account);return this.storage.setAccount(l),l}else if(!i||!t&&!n)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),he(Rv);const a=Lt.generateHomeAccountId(t,i.authorityType,this.logger,this.cryptoObj,n),s=n==null?void 0:n.tid,c=zp(this.storage,i,a,vr,n,t,i.hostnameAndPort,s,void 0,void 0,this.logger);return this.storage.setAccount(c),c}loadIdToken(e,t,n,i){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const a=fd(t,n,e.id_token,this.config.auth.clientId,i);return this.storage.setIdTokenCredential(a),a}loadAccessToken(e,t,n,i,a,s){if(t.access_token)if(t.expires_in){if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const c=t.scope?St.fromString(t.scope):new St(e.scopes),l=s.expiresOn||t.expires_in+new Date().getTime()/1e3,d=s.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+new Date().getTime()/1e3,u=md(n,i,t.access_token,this.config.auth.clientId,a,c.printScopes(),l,d,vr);return this.storage.setAccessTokenCredential(u),u}loadRefreshToken(e,t,n){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const i=V3(t,n,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return this.storage.setRefreshTokenCredential(i),i}generateAuthenticationResult(e,t,n,i){var u,h,p;let a="",s=[],c=null,l;t!=null&&t.accessToken&&(a=t.accessToken.secret,s=St.fromString(t.accessToken.target).asArray(),c=new Date(Number(t.accessToken.expiresOn)*1e3),l=new Date(Number(t.accessToken.extendedExpiresOn)*1e3));const d=t.account;return{authority:i?i.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:s,account:d.getAccountInfo(),idToken:((u=t.idToken)==null?void 0:u.secret)||"",idTokenClaims:n||{},accessToken:a,fromCache:!0,expiresOn:c,correlationId:e.correlationId||"",requestId:"",extExpiresOn:l,familyId:((h=t.refreshToken)==null?void 0:h.familyId)||"",tokenType:((p=t==null?void 0:t.accessToken)==null?void 0:p.tokenType)||"",state:e.state||"",cloudGraphHostName:d.cloudGraphHostName||"",msGraphHost:d.msGraphHost||"",fromNativeBroker:!1}}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class I7 extends fv{constructor(e){super(e),this.includeRedirectUri=!1}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class x7 extends wa{constructor(e,t,n,i,a,s,c,l,d,u){super(e,t,n,i,a,s,l,d,u),this.apiId=c}async acquireToken(e){if(!e.code)throw he(Mv);const t=await J(this.initializeAuthorizationRequest.bind(this),U.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,pe.Silent),n=this.initializeServerTelemetryManager(this.apiId);try{const i={...t,code:e.code},a=await J(this.getClientConfiguration.bind(this),U.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),s=new I7(a);this.logger.verbose("Auth code client created");const c=new cf(s,this.browserStorage,i,this.logger,this.performanceClient);return await J(c.handleCodeResponseFromServer.bind(c),U.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(i){throw i instanceof pt&&(i.setCorrelationId(this.correlationId),n.cacheFailedRequest(i)),i}}logout(){return Promise.reject(he(bd))}}/*! @azure/msal-browser v3.28.0 2024-12-12 */function ir(r){const e=r==null?void 0:r.idTokenClaims;if(e!=null&&e.tfp||e!=null&&e.acr)return"B2C";if(e!=null&&e.tid){if((e==null?void 0:e.tid)==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function dc(r,e){try{of(r)}catch(t){throw e.end({success:!1},t),t}}class Nd{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new sa(this.logger,this.performanceClient):Sl,this.eventHandler=new n7(this.logger),this.browserStorage=this.isBrowserEnvironment?new Nh(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,VC(this.config.auth),this.performanceClient):K9(this.config.auth.clientId,this.logger);const t={cacheLocation:fn.MemoryStorage,temporaryCacheLocation:fn.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Nh(this.config.auth.clientId,t,this.browserCrypto,this.logger,void 0,this.performanceClient),this.tokenCache=new k7(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this),this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}static async createController(e,t){const n=new Nd(e);return await n.initialize(t),n}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(ue.INITIALIZE_END);return}const t=(e==null?void 0:e.correlationId)||this.getRequestCorrelationId(),n=this.config.system.allowNativeBroker,i=this.performanceClient.startMeasurement(U.InitializeClientApplication,t);if(this.eventHandler.emitEvent(ue.INITIALIZE_START),n)try{this.nativeExtensionProvider=await fr.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(a){this.logger.verbose(a)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await J(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),U.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,t)(this.performanceClient,t)),this.initialized=!0,this.eventHandler.emitEvent(ue.INITIALIZE_END),i.end({allowNativeBroker:n,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),e6(this.initialized),this.isBrowserEnvironment){const t=e||"";let n=this.redirectResponse.get(t);return typeof n>"u"?(n=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,n),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),n}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){const t=this.getAllAccounts(),n=this.browserStorage.getCachedNativeRequest(),i=n&&fr.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e,a=i?n==null?void 0:n.correlationId:this.browserStorage.getTemporaryCache(Be.CORRELATION_ID,!0)||"",s=this.performanceClient.startMeasurement(U.AcquireTokenRedirect,a);this.eventHandler.emitEvent(ue.HANDLE_REDIRECT_START,pe.Redirect);let c;if(i&&this.nativeExtensionProvider){this.logger.trace("handleRedirectPromise - acquiring token from native platform");const l=new Zo(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,it.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,n.accountId,this.nativeInternalStorage,n.correlationId);c=J(l.handleRedirectPromise.bind(l),U.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(this.performanceClient,s.event.correlationId)}else{this.logger.trace("handleRedirectPromise - acquiring token from web flow");const l=this.createRedirectClient(a);c=J(l.handleRedirectPromise.bind(l),U.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(e,s)}return c.then(l=>(l?(t.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(ue.LOGIN_SUCCESS,pe.Redirect,l),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_SUCCESS,pe.Redirect,l),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),s.end({success:!0,accountType:ir(l.account)})):s.event.errorCode?s.end({success:!1}):s.discard(),this.eventHandler.emitEvent(ue.HANDLE_REDIRECT_END,pe.Redirect),l)).catch(l=>{const d=l;throw t.length>0?this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_FAILURE,pe.Redirect,null,d):this.eventHandler.emitEvent(ue.LOGIN_FAILURE,pe.Redirect,null,d),this.eventHandler.emitEvent(ue.HANDLE_REDIRECT_END,pe.Redirect),s.end({success:!1},d),l})}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);const n=this.performanceClient.startMeasurement(U.AcquireTokenPreRedirect,t);n.add({accountType:ir(e.account),scenarioId:e.scenarioId});const i=e.onRedirectNavigate;if(i)e.onRedirectNavigate=s=>{const c=typeof i=="function"?i(s):void 0;return c!==!1?n.end({success:!0}):n.discard(),c};else{const s=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=c=>{const l=typeof s=="function"?s(c):void 0;return l!==!1?n.end({success:!0}):n.discard(),l}}const a=this.getAllAccounts().length>0;try{sg(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),a?this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_START,pe.Redirect,e):this.eventHandler.emitEvent(ue.LOGIN_START,pe.Redirect,e);let s;return this.nativeExtensionProvider&&this.canUseNative(e)?s=new Zo(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,it.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,n).catch(l=>{if(l instanceof ur&&Vo(l))return this.nativeExtensionProvider=void 0,this.createRedirectClient(t).acquireToken(e);if(l instanceof Xn)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(t).acquireToken(e);throw this.browserStorage.setInteractionInProgress(!1),l}):s=this.createRedirectClient(t).acquireToken(e),await s}catch(s){throw n.end({success:!1},s),a?this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_FAILURE,pe.Redirect,null,s):this.eventHandler.emitEvent(ue.LOGIN_FAILURE,pe.Redirect,null,s),s}}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(U.AcquireTokenPopup,t);n.add({scenarioId:e.scenarioId,accountType:ir(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),dc(this.initialized,n),this.browserStorage.setInteractionInProgress(!0)}catch(s){return Promise.reject(s)}const i=this.getAllAccounts();i.length>0?this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_START,pe.Popup,e):this.eventHandler.emitEvent(ue.LOGIN_START,pe.Popup,e);let a;return this.canUseNative(e)?a=this.acquireTokenNative({...e,correlationId:t},it.acquireTokenPopup).then(s=>(this.browserStorage.setInteractionInProgress(!1),n.end({success:!0,isNativeBroker:!0,accountType:ir(s.account)}),s)).catch(s=>{if(s instanceof ur&&Vo(s))return this.nativeExtensionProvider=void 0,this.createPopupClient(t).acquireToken(e);if(s instanceof Xn)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(t).acquireToken(e);throw this.browserStorage.setInteractionInProgress(!1),s}):a=this.createPopupClient(t).acquireToken(e),a.then(s=>(i.length<this.getAllAccounts().length?this.eventHandler.emitEvent(ue.LOGIN_SUCCESS,pe.Popup,s):this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_SUCCESS,pe.Popup,s),n.end({success:!0,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length,accountType:ir(s.account)}),s)).catch(s=>(i.length>0?this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_FAILURE,pe.Popup,null,s):this.eventHandler.emitEvent(ue.LOGIN_FAILURE,pe.Popup,null,s),n.end({success:!1},s),Promise.reject(s)))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var a,s;const t=this.getRequestCorrelationId(e),n={...e,prompt:e.prompt,correlationId:t};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(U.SsoSilent,t),(a=this.ssoSilentMeasurement)==null||a.add({scenarioId:e.scenarioId,accountType:ir(e.account)}),dc(this.initialized,this.ssoSilentMeasurement),(s=this.ssoSilentMeasurement)==null||s.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(ue.SSO_SILENT_START,pe.Silent,n);let i;return this.canUseNative(n)?i=this.acquireTokenNative(n,it.ssoSilent).catch(c=>{if(c instanceof ur&&Vo(c))return this.nativeExtensionProvider=void 0,this.createSilentIframeClient(n.correlationId).acquireToken(n);throw c}):i=this.createSilentIframeClient(n.correlationId).acquireToken(n),i.then(c=>{var l;return this.eventHandler.emitEvent(ue.SSO_SILENT_SUCCESS,pe.Silent,c),(l=this.ssoSilentMeasurement)==null||l.end({success:!0,isNativeBroker:c.fromNativeBroker,accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length,accountType:ir(c.account)}),c}).catch(c=>{var l;throw this.eventHandler.emitEvent(ue.SSO_SILENT_FAILURE,pe.Silent,null,c),(l=this.ssoSilentMeasurement)==null||l.end({success:!1},c),c}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);const n=this.performanceClient.startMeasurement(U.AcquireTokenByCode,t);dc(this.initialized,n),this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_BY_CODE_START,pe.Silent,e),n.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw he(Fv);if(e.code){const i=e.code;let a=this.hybridAuthCodeResponses.get(i);return a?(this.logger.verbose("Existing acquireTokenByCode request found",t),n.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),a=this.acquireTokenByCodeAsync({...e,correlationId:t}).then(s=>(this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_BY_CODE_SUCCESS,pe.Silent,s),this.hybridAuthCodeResponses.delete(i),n.end({success:!0,isNativeBroker:s.fromNativeBroker,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length,accountType:ir(s.account)}),s)).catch(s=>{throw this.hybridAuthCodeResponses.delete(i),this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_BY_CODE_FAILURE,pe.Silent,null,s),n.end({success:!1},s),s}),this.hybridAuthCodeResponses.set(i,a)),await a}else if(e.nativeAccountId)if(this.canUseNative(e,e.nativeAccountId)){const i=await this.acquireTokenNative({...e,correlationId:t},it.acquireTokenByCode,e.nativeAccountId).catch(a=>{throw a instanceof ur&&Vo(a)&&(this.nativeExtensionProvider=void 0),a});return n.end({accountType:ir(i.account),success:!0}),i}else throw he(Hv);else throw he(Lv)}catch(i){throw this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_BY_CODE_FAILURE,pe.Silent,null,i),n.end({success:!1},i),i}}async acquireTokenByCodeAsync(e){var i;return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(U.AcquireTokenByCodeAsync,e.correlationId),(i=this.acquireTokenByCodeAsyncMeasurement)==null||i.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(a=>{var s;return(s=this.acquireTokenByCodeAsyncMeasurement)==null||s.end({success:!0,fromCache:a.fromCache,isNativeBroker:a.fromNativeBroker}),a}).catch(a=>{var s;throw(s=this.acquireTokenByCodeAsyncMeasurement)==null||s.end({success:!1},a),a}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(U.AcquireTokenFromCache,e.correlationId),t){case wn.Default:case wn.AccessToken:case wn.AccessTokenAndRefreshToken:const n=this.createSilentCacheClient(e.correlationId);return J(n.acquireToken.bind(n),U.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw G(Br)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(U.AcquireTokenByRefreshToken,e.correlationId),t){case wn.Default:case wn.AccessTokenAndRefreshToken:case wn.RefreshToken:case wn.RefreshTokenAndNetwork:const n=this.createSilentRefreshClient(e.correlationId);return J(n.acquireToken.bind(n),U.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw G(Br)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(U.AcquireTokenBySilentIframe,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return J(t.acquireToken.bind(t),U.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect({correlationId:t,...e})}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);return sg(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);return of(this.initialized),this.browserStorage.setInteractionInProgress(!0),this.createPopupClient(t).logout(e)}catch(t){return Promise.reject(t)}}async clearCache(e){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){return G9(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return Q9(e,this.logger,this.browserStorage)}getAccountByUsername(e){return Z9(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return X9(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return J9(e,this.logger,this.browserStorage)}setActiveAccount(e){e7(e,this.browserStorage)}getActiveAccount(){return t7(this.browserStorage)}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const n=Lt.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return this.browserStorage.setAccount(n),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,n){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw he(Fs);return new Zo(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e)}canUseNative(e,t){if(this.logger.trace("canUseNative called"),!fr.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case Bt.NONE:case Bt.CONSENT:case Bt.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace(`canUseNative: prompt = ${e.prompt} is not compatible with native flow, returning false`),!1}return!t&&!this.getNativeAccountId(e)?(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new _7(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new C7(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new E7(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,it.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new o6(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new T7(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new x7(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,it.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return Jv(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))}disableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))}handleAccountCacheChange(e){var t;try{(t=e.key)!=null&&t.includes(Ht.ACTIVE_ACCOUNT_FILTERS)&&this.eventHandler.emitEvent(ue.ACTIVE_ACCOUNT_CHANGED);const n=e.newValue||e.oldValue;if(!n)return;const i=JSON.parse(n);if(typeof i!="object"||!Lt.isAccountEntity(i))return;const s=oa.toObject(new Lt,i).getAccountInfo();!e.oldValue&&e.newValue?(this.logger.info("Account was added to cache in a different window"),this.eventHandler.emitEvent(ue.ACCOUNT_ADDED,void 0,s)):!e.newValue&&e.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.eventHandler.emitEvent(ue.ACCOUNT_REMOVED,void 0,s))}catch{return}}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e!=null&&e.correlationId?e.correlationId:this.isBrowserEnvironment?ni():Y.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect({correlationId:t,...e||ig})}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup({correlationId:t,...e||ig})}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(U.AcquireTokenSilent,t);n.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),dc(this.initialized,n),this.logger.verbose("acquireTokenSilent called",t);const i=e.account||this.getActiveAccount();if(!i)throw he(Iv);n.add({accountType:ir(i)});const a={clientId:this.config.auth.clientId,authority:e.authority||Y.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:i.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,shrOptions:e.shrOptions},s=JSON.stringify(a),c=this.activeSilentTokenRequests.get(s);if(typeof c>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",t);const l=J(this.acquireTokenSilentAsync.bind(this),U.AcquireTokenSilentAsync,this.logger,this.performanceClient,t)({...e,correlationId:t},i).then(d=>(this.activeSilentTokenRequests.delete(s),n.end({success:!0,fromCache:d.fromCache,isNativeBroker:d.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,accessTokenSize:d.accessToken.length,idTokenSize:d.idToken.length}),d)).catch(d=>{throw this.activeSilentTokenRequests.delete(s),n.end({success:!1},d),d});return this.activeSilentTokenRequests.set(s,l),{...await l,state:e.state}}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",t),n.discard(),{...await c,state:e.state}}async acquireTokenSilentAsync(e,t){const n=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(U.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_START,pe.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",n);const i=await J(s7,U.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),a=e.cacheLookupPolicy||wn.Default;return this.acquireTokenSilentNoIframe(i,a).catch(async c=>{if(P7(c,a))if(this.activeIframeRequest)if(a!==wn.Skip){const[d,u]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${u}`,i.correlationId);const h=this.performanceClient.startMeasurement(U.AwaitConcurrentIframe,i.correlationId);h.add({awaitIframeCorrelationId:u});const p=await d;if(h.end({success:p}),p)return this.logger.verbose(`Parallel iframe request with correlationId: ${u} succeeded. Retrying cache and/or RT redemption`,i.correlationId),this.acquireTokenSilentNoIframe(i,a);throw this.logger.info(`Iframe request with correlationId: ${u} failed. Interaction is required.`),c}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",i.correlationId),J(this.acquireTokenBySilentIframe.bind(this),U.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i);else{let d;return this.activeIframeRequest=[new Promise(u=>{d=u}),i.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",i.correlationId),J(this.acquireTokenBySilentIframe.bind(this),U.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i).then(u=>(d(!0),u)).catch(u=>{throw d(!1),u}).finally(()=>{this.activeIframeRequest=void 0})}else throw c}).then(c=>(this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_SUCCESS,pe.Silent,c),e.correlationId&&this.performanceClient.addFields({fromCache:c.fromCache,isNativeBroker:c.fromNativeBroker},e.correlationId),c)).catch(c=>{throw this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_FAILURE,pe.Silent,null,c),c}).finally(()=>{document.removeEventListener("visibilitychange",n)})}async acquireTokenSilentNoIframe(e,t){return fr.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,it.acquireTokenSilent_silentFlow).catch(async n=>{throw n instanceof ur&&Vo(n)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,G(Br)):n})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),J(this.acquireTokenFromCache.bind(this),U.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,t).catch(n=>{if(t===wn.AccessToken)throw n;return this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_NETWORK_START,pe.Silent,e),J(this.acquireTokenByRefreshToken.bind(this),U.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,t)}))}}function P7(r,e){const t=!(r instanceof Xn&&r.subError!==yd),n=r.errorCode===Tn.INVALID_GRANT_ERROR||r.errorCode===Br,i=t&&n||r.errorCode===kl||r.errorCode===Wp,a=p9.includes(e);return i&&a}/*! @azure/msal-browser v3.28.0 2024-12-12 */async function D7(r,e){const t=new po(r);return await t.initialize(),Nd.createController(t,e)}/*! @azure/msal-browser v3.28.0 2024-12-12 */class lf{static async createPublicClientApplication(e){const t=await D7(e);return new lf(e,t)}constructor(e,t){this.controller=t||new Nd(new po(e))}async initialize(e){return this.controller.initialize(e)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */const O7={initialize:()=>Promise.reject(Dt(Ut)),acquireTokenPopup:()=>Promise.reject(Dt(Ut)),acquireTokenRedirect:()=>Promise.reject(Dt(Ut)),acquireTokenSilent:()=>Promise.reject(Dt(Ut)),acquireTokenByCode:()=>Promise.reject(Dt(Ut)),getAllAccounts:()=>[],getAccount:()=>null,getAccountByHomeId:()=>null,getAccountByUsername:()=>null,getAccountByLocalId:()=>null,handleRedirectPromise:()=>Promise.reject(Dt(Ut)),loginPopup:()=>Promise.reject(Dt(Ut)),loginRedirect:()=>Promise.reject(Dt(Ut)),logout:()=>Promise.reject(Dt(Ut)),logoutRedirect:()=>Promise.reject(Dt(Ut)),logoutPopup:()=>Promise.reject(Dt(Ut)),ssoSilent:()=>Promise.reject(Dt(Ut)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,enableAccountStorageEvents:()=>{},disableAccountStorageEvents:()=>{},getTokenCache:()=>{throw Dt(Ut)},getLogger:()=>{throw Dt(Ut)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw Dt(Ut)},hydrateCache:()=>Promise.reject(Dt(Ut)),clearCache:()=>Promise.reject(Dt(Ut))};/*! @azure/msal-browser v3.28.0 2024-12-12 */class R7{static getInteractionStatusFromEvent(e,t){switch(e.eventType){case ue.LOGIN_START:return $t.Login;case ue.SSO_SILENT_START:return $t.SsoSilent;case ue.ACQUIRE_TOKEN_START:if(e.interactionType===pe.Redirect||e.interactionType===pe.Popup)return $t.AcquireToken;break;case ue.HANDLE_REDIRECT_START:return $t.HandleRedirect;case ue.LOGOUT_START:return $t.Logout;case ue.SSO_SILENT_SUCCESS:case ue.SSO_SILENT_FAILURE:if(t&&t!==$t.SsoSilent)break;return $t.None;case ue.LOGOUT_END:if(t&&t!==$t.Logout)break;return $t.None;case ue.HANDLE_REDIRECT_END:if(t&&t!==$t.HandleRedirect)break;return $t.None;case ue.LOGIN_SUCCESS:case ue.LOGIN_FAILURE:case ue.ACQUIRE_TOKEN_SUCCESS:case ue.ACQUIRE_TOKEN_FAILURE:case ue.RESTORE_FROM_BFCACHE:if(e.interactionType===pe.Redirect||e.interactionType===pe.Popup){if(t&&t!==$t.Login&&t!==$t.AcquireToken)break;return $t.None}break}return null}}const M7={auth:{clientId:"373d919d-2a08-46b9-ac26-2638978ec8ba",authority:"https://login.microsoftonline.com/a3329a53-02fd-4abb-94cd-6d1b954419f6",redirectUri:"https://oando-eptw.vercel.app/social-login",postLogoutRedirectUri:"https://oando-eptw.vercel.app/",navigateToLoginRequestUrl:!1},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1}},L7={scopes:["user.read"]},mr=new lf(M7),F7=async()=>{try{await mr.initialize()}catch(r){console.error("Error initializing MSAL:",r)}};var H7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Us(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function U7(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var c6={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(r){(function(){var e={}.hasOwnProperty;function t(){for(var a="",s=0;s<arguments.length;s++){var c=arguments[s];c&&(a=i(a,n(c)))}return a}function n(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var s="";for(var c in a)e.call(a,c)&&a[c]&&(s=i(s,c));return s}function i(a,s){return s?a?a+" "+s:a+s:a}r.exports?(t.default=t,r.exports=t):window.classNames=t})()})(c6);var $7=c6.exports;const l6=Us($7);var B7=0;function o(r,e,t,n,i,a){var s,c,l={};for(c in e)c=="ref"?s=e[c]:l[c]=e[c];var d={type:r,props:l,key:t,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--B7,__i:-1,__u:0,__source:i,__self:a};if(typeof r=="function"&&(s=r.defaultProps))for(c in s)l[c]===void 0&&(l[c]=s[c]);return Ce.vnode&&Ce.vnode(d),d}function x(r){const{children:e,variant:t}=r,n=r.href?"a":"button",i=l6(r.className,"base-button",{"base-button--primary":t==="primary","base-button--secondary":t==="secondary","base-button--outline":t==="outline","base-button--success":t==="success","base-button--danger":t==="danger","base-button--tertiary":t==="tertiary","base-button--purple":t==="purple","base-button--loading":r.isLoading});return o(n,{...r,className:i,children:r.isLoading?o(P,{children:["Please wait...",o(V7,{})]}):e})}const V7=()=>o("svg",{className:"base-spinner",viewBox:"0 0 16 16",fill:"none",children:[o("path",{d:"M8 1V3.80002",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round",style:"--index: 1"}),o("path",{d:"M8 12.2V15",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round",style:"--index: 5"}),o("path",{d:"M3.05078 3.05103L5.03179 5.03204",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round",style:"--index: 8"}),o("path",{d:"M10.9678 10.968L12.9488 12.949",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round",style:"--index: 4"}),o("path",{d:"M1 8H3.80002",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round",style:"--index: 7"}),o("path",{d:"M12.2012 8H15.0012",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round",style:"--index: 3"}),o("path",{d:"M3.05078 12.949L5.03179 10.968",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round",style:"--index: 6"}),o("path",{d:"M10.9678 5.03204L12.9488 3.05103",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round",style:"--index: 2"})]});function ee({label:r="",error:e,isTouched:t,button:n,...i}){const a=t?!!e:!1;return o("label",{className:"base-input",children:[r?o("span",{children:r}):null,o("div",{className:"input-wrapper",children:[o("input",{type:"text","data-hasError":a,placeholder:`Enter ${r.toLowerCase()}`,"data-has-value":!!i.value,...i}),n&&o("div",{className:"delete-button",children:n})]}),a&&o("p",{className:"base-input__error",children:[o("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{d:"M12 16H12.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{d:"M12 8V12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),e]})]})}function ne(r){switch(r.name){case"microsoft":return o("svg",{...r,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("g",{clipPath:"url(#clip0_1_88)",children:[o("path",{d:"M11.4038 11.4038H0V0H11.4038V11.4038Z",fill:"#F1511B"}),o("path",{d:"M23.9961 11.4038H12.5913V0H23.9952V11.4038H23.9961Z",fill:"#80CC28"}),o("path",{d:"M11.4038 24H0V12.5962H11.4038V24Z",fill:"#00ADEF"}),o("path",{d:"M23.9961 24H12.5913V12.5962H23.9952V24H23.9961Z",fill:"#FBBC09"})]}),o("defs",{children:o("clipPath",{id:"clip0_1_88",children:o("rect",{width:"23.9962",height:"24",fill:"white"})})})]});case"export":return o("svg",{...r,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.5 0.5H13C13.1326 0.5 13.2598 0.552678 13.3536 0.646447C13.4473 0.740215 13.5 0.867392 13.5 1V4.5C13.5 4.63261 13.4473 4.75979 13.3536 4.85355C13.2598 4.94732 13.1326 5 13 5C12.8674 5 12.7402 4.94732 12.6464 4.85355C12.5527 4.75979 12.5 4.63261 12.5 4.5V2.20667L4.35333 10.3533C4.25855 10.4417 4.13319 10.4897 4.00365 10.4874C3.87412 10.4852 3.75053 10.4327 3.65892 10.3411C3.56731 10.2495 3.51484 10.1259 3.51255 9.99635C3.51026 9.86681 3.55835 9.74145 3.64667 9.64667L11.7933 1.5H9.5C9.36739 1.5 9.24022 1.44732 9.14645 1.35355C9.05268 1.25979 9 1.13261 9 1C9 0.867392 9.05268 0.740215 9.14645 0.646447C9.24022 0.552678 9.36739 0.5 9.5 0.5ZM2.5 3.5C2.23478 3.5 1.98043 3.60536 1.79289 3.79289C1.60536 3.98043 1.5 4.23478 1.5 4.5V11.5C1.5 11.7652 1.60536 12.0196 1.79289 12.2071C1.98043 12.3946 2.23478 12.5 2.5 12.5H9.5C9.76522 12.5 10.0196 12.3946 10.2071 12.2071C10.3946 12.0196 10.5 11.7652 10.5 11.5V6C10.5 5.86739 10.5527 5.74022 10.6464 5.64645C10.7402 5.55268 10.8674 5.5 11 5.5C11.1326 5.5 11.2598 5.55268 11.3536 5.64645C11.4473 5.74022 11.5 5.86739 11.5 6V11.5C11.5 12.0304 11.2893 12.5391 10.9142 12.9142C10.5391 13.2893 10.0304 13.5 9.5 13.5H2.5C1.96957 13.5 1.46086 13.2893 1.08579 12.9142C0.710714 12.5391 0.5 12.0304 0.5 11.5V4.5C0.5 3.96957 0.710714 3.46086 1.08579 3.08579C1.46086 2.71071 1.96957 2.5 2.5 2.5H8C8.13261 2.5 8.25979 2.55268 8.35355 2.64645C8.44732 2.74021 8.5 2.86739 8.5 3C8.5 3.13261 8.44732 3.25979 8.35355 3.35355C8.25979 3.44732 8.13261 3.5 8 3.5H2.5Z",fill:"white"})});case"arrow-right":return o("svg",{...r,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.72 7.71995C16.8606 7.5795 17.0512 7.50061 17.25 7.50061C17.4488 7.50061 17.6394 7.5795 17.78 7.71995L21.53 11.47C21.6705 11.6106 21.7493 11.8012 21.7493 12C21.7493 12.1987 21.6705 12.3893 21.53 12.53L17.78 16.28C17.7113 16.3536 17.6285 16.4127 17.5365 16.4537C17.4445 16.4947 17.3452 16.5168 17.2445 16.5185C17.1438 16.5203 17.0438 16.5018 16.9504 16.4641C16.857 16.4264 16.7722 16.3702 16.701 16.299C16.6297 16.2278 16.5736 16.1429 16.5359 16.0495C16.4982 15.9562 16.4796 15.8561 16.4814 15.7554C16.4832 15.6547 16.5052 15.5554 16.5462 15.4634C16.5872 15.3714 16.6463 15.2886 16.72 15.22L19.19 12.75H3C2.80109 12.75 2.61032 12.6709 2.46967 12.5303C2.32902 12.3896 2.25 12.1989 2.25 12C2.25 11.801 2.32902 11.6103 2.46967 11.4696C2.61032 11.329 2.80109 11.25 3 11.25H19.19L16.72 8.77995C16.5795 8.63932 16.5007 8.4487 16.5007 8.24995C16.5007 8.0512 16.5795 7.86058 16.72 7.71995Z",fill:"currentColor"})});case"process":return o("svg",{...r,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.00195 4H9.75395C10.3501 4.00088 10.9216 4.23833 11.3428 4.66019C11.764 5.08205 12.0006 5.65384 12.0006 6.25V12.5C12.5311 12.5 13.0398 12.2893 13.4148 11.9142C13.7899 11.5391 14.0006 11.0304 14.0006 10.5V4.072C14.0006 3.06867 13.2506 2.198 12.2246 2.112C12.0751 2.09986 11.9256 2.08875 11.776 2.07867C11.6072 1.75353 11.3524 1.48098 11.0393 1.29076C10.7262 1.10054 10.3669 0.999966 10.0006 1H9.00062C8.63429 0.999966 8.27499 1.10054 7.96192 1.29076C7.64885 1.48098 7.39404 1.75353 7.22529 2.07867C7.07529 2.08867 6.92529 2.1 6.77662 2.112C5.77529 2.19667 5.03662 3.028 5.00195 4ZM9.00062 2C8.7354 2 8.48105 2.10536 8.29351 2.29289C8.10598 2.48043 8.00062 2.73478 8.00062 3H11.0006C11.0006 2.73478 10.8953 2.48043 10.7077 2.29289C10.5202 2.10536 10.2658 2 10.0006 2H9.00062Z",fill:"white"}),o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2 6.25C2 5.55933 2.56 5 3.25 5H9.75C10.4407 5 11 5.56 11 6.25V13.75C11 14.44 10.44 15 9.75 15H3.25C2.91848 15 2.60054 14.8683 2.36612 14.6339C2.1317 14.3995 2 14.0815 2 13.75V6.25ZM8.39067 9.31267C8.47359 9.20906 8.51196 9.07675 8.49733 8.94485C8.4827 8.81295 8.41628 8.69226 8.31267 8.60933C8.20906 8.52641 8.07675 8.48804 7.94485 8.50267C7.81295 8.5173 7.69226 8.58372 7.60933 8.68733L5.95867 10.7513L5.35333 10.1467C5.25855 10.0583 5.13319 10.0103 5.00365 10.0125C4.87412 10.0148 4.75053 10.0673 4.65892 10.1589C4.56731 10.2505 4.51484 10.3741 4.51255 10.5037C4.51026 10.6332 4.55835 10.7586 4.64667 10.8533L5.64667 11.8533C5.6964 11.9031 5.75606 11.9417 5.82175 11.9668C5.88744 11.9919 5.95769 12.0029 6.02791 11.999C6.09812 11.9951 6.16672 11.9764 6.22923 11.9442C6.29174 11.912 6.34675 11.8669 6.39067 11.812L8.39067 9.31267Z",fill:"white"})]});case"upload":return o("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.47 2.47C11.6106 2.32955 11.8012 2.25066 12 2.25066C12.1988 2.25066 12.3894 2.32955 12.53 2.47L17.03 6.97C17.1625 7.11217 17.2346 7.30022 17.2312 7.49452C17.2277 7.68882 17.149 7.8742 17.0116 8.01162C16.8742 8.14903 16.6888 8.22774 16.4945 8.23117C16.3002 8.2346 16.1122 8.16248 15.97 8.03L12.75 4.81V16.5C12.75 16.6989 12.671 16.8897 12.5303 17.0303C12.3897 17.171 12.1989 17.25 12 17.25C11.8011 17.25 11.6103 17.171 11.4697 17.0303C11.329 16.8897 11.25 16.6989 11.25 16.5V4.81L8.03 8.03C7.88783 8.16248 7.69978 8.2346 7.50548 8.23117C7.31118 8.22774 7.12579 8.14903 6.98838 8.01162C6.85097 7.8742 6.77225 7.68882 6.76883 7.49452C6.7654 7.30022 6.83752 7.11217 6.97 6.97L11.47 2.47ZM3 15.75C3.19891 15.75 3.38968 15.829 3.53033 15.9697C3.67098 16.1103 3.75 16.3011 3.75 16.5V18.75C3.75 19.1478 3.90804 19.5294 4.18934 19.8107C4.47064 20.092 4.85218 20.25 5.25 20.25H18.75C19.1478 20.25 19.5294 20.092 19.8107 19.8107C20.092 19.5294 20.25 19.1478 20.25 18.75V16.5C20.25 16.3011 20.329 16.1103 20.4697 15.9697C20.6103 15.829 20.8011 15.75 21 15.75C21.1989 15.75 21.3897 15.829 21.5303 15.9697C21.671 16.1103 21.75 16.3011 21.75 16.5V18.75C21.75 19.5456 21.4339 20.3087 20.8713 20.8713C20.3087 21.4339 19.5456 21.75 18.75 21.75H5.25C4.45435 21.75 3.69129 21.4339 3.12868 20.8713C2.56607 20.3087 2.25 19.5456 2.25 18.75V16.5C2.25 16.3011 2.32902 16.1103 2.46967 15.9697C2.61032 15.829 2.80109 15.75 3 15.75Z",fill:"#8F92A1"})});case"x":return o("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{d:"M8 24L24 8M8 8L24 24",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})});case"sidebar.overview":return o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{d:"M12.4467 1.33337H11.18C9.72669 1.33337 8.96002 2.10004 8.96002 3.55337V4.82004C8.96002 6.27337 9.72669 7.04004 11.18 7.04004H12.4467C13.9 7.04004 14.6667 6.27337 14.6667 4.82004V3.55337C14.6667 2.10004 13.9 1.33337 12.4467 1.33337Z",fill:"currentColor"}),o("path",{d:"M4.82665 8.95337H3.55998C2.09998 8.95337 1.33331 9.72004 1.33331 11.1734V12.44C1.33331 13.9 2.09998 14.6667 3.55331 14.6667H4.81998C6.27331 14.6667 7.03998 13.9 7.03998 12.4467V11.18C7.04665 9.72004 6.27998 8.95337 4.82665 8.95337Z",fill:"currentColor"}),o("path",{d:"M4.19331 7.05337C5.77285 7.05337 7.05331 5.77291 7.05331 4.19337C7.05331 2.61384 5.77285 1.33337 4.19331 1.33337C2.61378 1.33337 1.33331 2.61384 1.33331 4.19337C1.33331 5.77291 2.61378 7.05337 4.19331 7.05337Z",fill:"currentColor"}),o("path",{d:"M11.8067 14.6667C13.3862 14.6667 14.6667 13.3862 14.6667 11.8067C14.6667 10.2271 13.3862 8.94666 11.8067 8.94666C10.2271 8.94666 8.94666 10.2271 8.94666 11.8067C8.94666 13.3862 10.2271 14.6667 11.8067 14.6667Z",fill:"currentColor"})]});case"sidebar.permit":return o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{d:"M10.7933 1.33337H5.20665C2.77998 1.33337 1.33331 2.78004 1.33331 5.20671V10.7934C1.33331 13.22 2.77998 14.6667 5.20665 14.6667H10.7933C13.22 14.6667 14.6666 13.22 14.6666 10.7934V5.20671C14.6666 2.78004 13.22 1.33337 10.7933 1.33337ZM6.64665 9.93337L5.14665 11.4334C5.04665 11.5334 4.91998 11.58 4.79331 11.58C4.66665 11.58 4.53331 11.5334 4.43998 11.4334L3.93998 10.9334C3.73998 10.74 3.73998 10.42 3.93998 10.2267C4.13331 10.0334 4.44665 10.0334 4.64665 10.2267L4.79331 10.3734L5.93998 9.22671C6.13331 9.03337 6.44665 9.03337 6.64665 9.22671C6.83998 9.42004 6.83998 9.74004 6.64665 9.93337ZM6.64665 5.26671L5.14665 6.76671C5.04665 6.86671 4.91998 6.91337 4.79331 6.91337C4.66665 6.91337 4.53331 6.86671 4.43998 6.76671L3.93998 6.26671C3.73998 6.07337 3.73998 5.75337 3.93998 5.56004C4.13331 5.36671 4.44665 5.36671 4.64665 5.56004L4.79331 5.70671L5.93998 4.56004C6.13331 4.36671 6.44665 4.36671 6.64665 4.56004C6.83998 4.75337 6.83998 5.07337 6.64665 5.26671ZM11.7066 11.08H8.20665C7.93331 11.08 7.70665 10.8534 7.70665 10.58C7.70665 10.3067 7.93331 10.08 8.20665 10.08H11.7066C11.9866 10.08 12.2066 10.3067 12.2066 10.58C12.2066 10.8534 11.9866 11.08 11.7066 11.08ZM11.7066 6.41337H8.20665C7.93331 6.41337 7.70665 6.18671 7.70665 5.91337C7.70665 5.64004 7.93331 5.41337 8.20665 5.41337H11.7066C11.9866 5.41337 12.2066 5.64004 12.2066 5.91337C12.2066 6.18671 11.9866 6.41337 11.7066 6.41337Z",fill:"currentColor"})});case"sidebar.permit-renewals":return o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{d:"M5.16699 2.33203V1.33203C5.16699 1.0587 4.94033 0.832031 4.66699 0.832031C4.39366 0.832031 4.16699 1.0587 4.16699 1.33203V2.37203C4.33366 2.35203 4.48699 2.33203 4.66699 2.33203H5.16699Z",fill:"#8F92A1"}),o("path",{d:"M10.5 2.37203V1.33203C10.5 1.0587 10.2733 0.832031 10 0.832031C9.72667 0.832031 9.5 1.0587 9.5 1.33203V2.33203H10C10.18 2.33203 10.3333 2.35203 10.5 2.37203Z",fill:"currentColor"}),o("path",{d:"M14.193 9.9787C13.6797 9.57203 13.033 9.33203 12.333 9.33203C11.633 9.33203 10.973 9.5787 10.4597 9.99203C9.76634 10.5387 9.33301 11.392 9.33301 12.332C9.33301 12.892 9.49301 13.432 9.76634 13.872C9.97967 14.2187 10.253 14.5254 10.5797 14.7587C11.073 15.1187 11.673 15.332 12.333 15.332C13.093 15.332 13.7797 15.052 14.3063 14.5854C14.5397 14.392 14.7397 14.152 14.8997 13.8787C15.173 13.432 15.333 12.892 15.333 12.332C15.333 11.3787 14.8863 10.5254 14.193 9.9787ZM12.333 13.7587C12.333 12.972 11.693 12.332 10.9063 12.332C11.693 12.332 12.333 11.692 12.333 10.9054C12.333 11.692 12.973 12.332 13.7597 12.332C12.973 12.332 12.333 12.972 12.333 13.7587Z",fill:"currentColor"}),o("path",{d:"M10.4997 2.37203V3.33203C10.4997 3.60536 10.273 3.83203 9.99967 3.83203C9.72634 3.83203 9.49967 3.60536 9.49967 3.33203V2.33203H5.16634V3.33203C5.16634 3.60536 4.93967 3.83203 4.66634 3.83203C4.39301 3.83203 4.16634 3.60536 4.16634 3.33203V2.37203C2.19967 2.55203 1.33301 3.8187 1.33301 5.66536V11.332C1.33301 13.332 2.33301 14.6654 4.66634 14.6654H7.41967C7.92634 14.6654 8.26634 14.0987 8.13967 13.6054C8.04634 13.2454 7.99967 12.872 7.99967 12.4987C7.99967 11.112 8.61967 9.83203 9.69301 8.98536C10.473 8.35203 11.473 7.9987 12.4997 7.9987H12.5263C12.9463 7.9987 13.333 7.69203 13.333 7.27203V5.66536C13.333 3.8187 12.4663 2.55203 10.4997 2.37203ZM5.99967 11.1654H4.66634C4.39301 11.1654 4.16634 10.9387 4.16634 10.6654C4.16634 10.392 4.39301 10.1654 4.66634 10.1654H5.99967C6.27301 10.1654 6.49967 10.392 6.49967 10.6654C6.49967 10.9387 6.27301 11.1654 5.99967 11.1654ZM7.99967 7.83203H4.66634C4.39301 7.83203 4.16634 7.60536 4.16634 7.33203C4.16634 7.0587 4.39301 6.83203 4.66634 6.83203H7.99967C8.27301 6.83203 8.49967 7.0587 8.49967 7.33203C8.49967 7.60536 8.27301 7.83203 7.99967 7.83203Z",fill:"currentColor"})]});case"sidebar.work-suspension":return o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{d:"M10.6663 1.33203H5.33301C2.66634 1.33203 1.33301 2.66536 1.33301 5.33203V13.9987C1.33301 14.3654 1.63301 14.6654 1.99967 14.6654H10.6663C13.333 14.6654 14.6663 13.332 14.6663 10.6654V5.33203C14.6663 2.66536 13.333 1.33203 10.6663 1.33203ZM10.333 8.4987H5.66634C5.39301 8.4987 5.16634 8.27203 5.16634 7.9987C5.16634 7.72536 5.39301 7.4987 5.66634 7.4987H10.333C10.6063 7.4987 10.833 7.72536 10.833 7.9987C10.833 8.27203 10.6063 8.4987 10.333 8.4987Z",fill:"currentColor"})});case"sidebar.work-completion":return o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{d:"M14.3736 7.16036L13.4669 6.10703C13.2936 5.90703 13.1536 5.5337 13.1536 5.26703V4.1337C13.1536 3.42703 12.5736 2.84703 11.8669 2.84703H10.7336C10.4736 2.84703 10.0936 2.70703 9.89358 2.5337L8.84025 1.62703C8.38025 1.2337 7.62691 1.2337 7.16025 1.62703L6.11358 2.54036C5.91358 2.70703 5.53358 2.84703 5.27358 2.84703H4.12025C3.41358 2.84703 2.83358 3.42703 2.83358 4.1337V5.2737C2.83358 5.5337 2.69358 5.90703 2.52691 6.10703L1.62691 7.16703C1.24025 7.62703 1.24025 8.3737 1.62691 8.8337L2.52691 9.8937C2.69358 10.0937 2.83358 10.467 2.83358 10.727V11.867C2.83358 12.5737 3.41358 13.1537 4.12025 13.1537H5.27358C5.53358 13.1537 5.91358 13.2937 6.11358 13.467L7.16691 14.3737C7.62691 14.767 8.38025 14.767 8.84691 14.3737L9.90025 13.467C10.1002 13.2937 10.4736 13.1537 10.7402 13.1537H11.8736C12.5802 13.1537 13.1602 12.5737 13.1602 11.867V10.7337C13.1602 10.4737 13.3002 10.0937 13.4736 9.8937L14.3802 8.84036C14.7669 8.38036 14.7669 7.62036 14.3736 7.16036ZM10.7736 6.74036L7.55358 9.96036C7.46025 10.0537 7.33358 10.107 7.20025 10.107C7.06691 10.107 6.94025 10.0537 6.84691 9.96036L5.23358 8.34703C5.04025 8.1537 5.04025 7.8337 5.23358 7.64036C5.42691 7.44703 5.74691 7.44703 5.94025 7.64036L7.20025 8.90036L10.0669 6.0337C10.2602 5.84036 10.5802 5.84036 10.7736 6.0337C10.9669 6.22703 10.9669 6.54703 10.7736 6.74036Z",fill:"currentColor"})});case"sidebar.draft":return o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{d:"M13.667 6.79203H11.7403C10.1603 6.79203 8.87366 5.50536 8.87366 3.92536V1.9987C8.87366 1.63203 8.57366 1.33203 8.20699 1.33203H5.38033C3.32699 1.33203 1.66699 2.66536 1.66699 5.04536V10.952C1.66699 13.332 3.32699 14.6654 5.38033 14.6654H10.6203C12.6737 14.6654 14.3337 13.332 14.3337 10.952V7.4587C14.3337 7.09203 14.0337 6.79203 13.667 6.79203Z",fill:"currentColor"}),o("path",{d:"M10.5338 1.47365C10.2604 1.20032 9.78711 1.38699 9.78711 1.76699V4.09365C9.78711 5.06699 10.6138 5.87365 11.6204 5.87365C12.2538 5.88032 13.1338 5.88032 13.8871 5.88032C14.2671 5.88032 14.4671 5.43365 14.2004 5.16699C13.2404 4.20032 11.5204 2.46032 10.5338 1.47365Z",fill:"currentColor"})]});case"sidebar.activity":return o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{d:"M10.7933 1.33325H5.20665C2.77998 1.33325 1.33331 2.77992 1.33331 5.20659V10.7866C1.33331 13.2199 2.77998 14.6666 5.20665 14.6666H10.7866C13.2133 14.6666 14.66 13.2199 14.66 10.7933V5.20659C14.6666 2.77992 13.22 1.33325 10.7933 1.33325ZM11.5066 6.63992L9.96665 8.62659C9.77331 8.87325 9.49998 9.03325 9.18665 9.06659C8.87331 9.10659 8.56665 9.01992 8.31998 8.82659L7.09998 7.86659C7.05331 7.82659 6.99998 7.82659 6.97331 7.83325C6.94665 7.83325 6.89998 7.84659 6.85998 7.89992L5.27331 9.95992C5.17331 10.0866 5.02665 10.1533 4.87998 10.1533C4.77331 10.1533 4.66665 10.1199 4.57331 10.0466C4.35331 9.87992 4.31331 9.56659 4.47998 9.34659L6.06665 7.28659C6.25998 7.03992 6.53331 6.87992 6.84665 6.83992C7.15331 6.79992 7.46665 6.88659 7.71331 7.07992L8.93331 8.03992C8.97998 8.07992 9.02665 8.07992 9.05998 8.07325C9.08665 8.07325 9.13331 8.05992 9.17331 8.00659L10.7133 6.01992C10.88 5.79992 11.2 5.75992 11.4133 5.93325C11.6333 6.11325 11.6733 6.42659 11.5066 6.63992Z",fill:"currentColor"})});case"sidebar.reports":return o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{d:"M10.7933 1.33325H5.20665C2.77998 1.33325 1.33331 2.77992 1.33331 5.20659V10.7866C1.33331 13.2199 2.77998 14.6666 5.20665 14.6666H10.7866C13.2133 14.6666 14.66 13.2199 14.66 10.7933V5.20659C14.6666 2.77992 13.22 1.33325 10.7933 1.33325ZM5.08665 12.0999C5.08665 12.3733 4.85998 12.5999 4.58665 12.5999C4.31331 12.5999 4.08665 12.3733 4.08665 12.0999V10.7199C4.08665 10.4466 4.31331 10.2199 4.58665 10.2199C4.85998 10.2199 5.08665 10.4466 5.08665 10.7199V12.0999ZM8.49998 12.0999C8.49998 12.3733 8.27331 12.5999 7.99998 12.5999C7.72665 12.5999 7.49998 12.3733 7.49998 12.0999V9.33325C7.49998 9.05992 7.72665 8.83325 7.99998 8.83325C8.27331 8.83325 8.49998 9.05992 8.49998 9.33325V12.0999ZM11.9133 12.0999C11.9133 12.3733 11.6866 12.5999 11.4133 12.5999C11.14 12.5999 10.9133 12.3733 10.9133 12.0999V7.95325C10.9133 7.67992 11.14 7.45325 11.4133 7.45325C11.6866 7.45325 11.9133 7.67992 11.9133 7.95325V12.0999ZM11.9133 5.84659C11.9133 6.11992 11.6866 6.34659 11.4133 6.34659C11.14 6.34659 10.9133 6.11992 10.9133 5.84659V5.19992C9.21331 6.94659 7.08665 8.17992 4.70665 8.77325C4.66665 8.78659 4.62665 8.78659 4.58665 8.78659C4.35998 8.78659 4.15998 8.63325 4.09998 8.40659C4.03331 8.13992 4.19331 7.86659 4.46665 7.79992C6.71331 7.23992 8.71331 6.05992 10.3 4.39325H9.46665C9.19331 4.39325 8.96665 4.16659 8.96665 3.89325C8.96665 3.61992 9.19331 3.39325 9.46665 3.39325H11.42C11.4466 3.39325 11.4666 3.40659 11.4933 3.40659C11.5266 3.41325 11.56 3.41325 11.5933 3.42659C11.6266 3.43992 11.6533 3.45992 11.6866 3.47992C11.7066 3.49325 11.7266 3.49992 11.7466 3.51325C11.7533 3.51992 11.7533 3.52659 11.76 3.52659C11.7866 3.55325 11.8066 3.57992 11.8266 3.60659C11.8466 3.63325 11.8666 3.65325 11.8733 3.67992C11.8866 3.70659 11.8866 3.73325 11.8933 3.76659C11.9 3.79992 11.9133 3.83325 11.9133 3.87325C11.9133 3.87992 11.92 3.88659 11.92 3.89325V5.84659H11.9133Z",fill:"currentColor"})});case"sidebar.roles":return o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{d:"M12 1.33325H4C2.89333 1.33325 2 2.21992 2 3.31325V10.5866C2 11.6799 2.89333 12.5666 4 12.5666H4.50667C5.04 12.5666 5.54667 12.7733 5.92 13.1466L7.06 14.2733C7.58 14.7866 8.42667 14.7866 8.94667 14.2733L10.0867 13.1466C10.46 12.7733 10.9733 12.5666 11.5 12.5666H12C13.1067 12.5666 14 11.6799 14 10.5866V3.31325C14 2.21992 13.1067 1.33325 12 1.33325ZM8 3.83325C8.86 3.83325 9.55333 4.52659 9.55333 5.38659C9.55333 6.24659 8.86 6.93992 8 6.93992C7.14 6.93992 6.44667 6.23992 6.44667 5.38659C6.44667 4.52659 7.14 3.83325 8 3.83325ZM9.78667 10.0399H6.21333C5.67333 10.0399 5.36 9.43992 5.66 8.99325C6.11333 8.31992 6.99333 7.86659 8 7.86659C9.00667 7.86659 9.88667 8.31992 10.34 8.99325C10.64 9.43992 10.32 10.0399 9.78667 10.0399Z",fill:"currentColor"})});case"sidebar.location":return o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{d:"M13.7467 5.63341C13.0467 2.55341 10.36 1.16675 8 1.16675C8 1.16675 8 1.16675 7.99334 1.16675C5.64 1.16675 2.94667 2.54675 2.24667 5.62675C1.46667 9.06675 3.57334 11.9801 5.48 13.8134C6.18667 14.4934 7.09334 14.8334 8 14.8334C8.90667 14.8334 9.81334 14.4934 10.5133 13.8134C12.42 11.9801 14.5267 9.07341 13.7467 5.63341ZM8 8.97341C6.84 8.97341 5.9 8.03341 5.9 6.87341C5.9 5.71341 6.84 4.77341 8 4.77341C9.16 4.77341 10.1 5.71341 10.1 6.87341C10.1 8.03341 9.16 8.97341 8 8.97341Z",fill:"currentColor"})});case"sidebar.users":return o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{d:"M13.0067 3.89992L9.04666 1.61325C8.39999 1.23992 7.59999 1.23992 6.94666 1.61325L2.99332 3.89992C2.34666 4.27325 1.94666 4.96658 1.94666 5.71992V10.2799C1.94666 11.0266 2.34666 11.7199 2.99332 12.0999L6.95332 14.3866C7.59999 14.7599 8.39999 14.7599 9.05332 14.3866L13.0133 12.0999C13.66 11.7266 14.06 11.0333 14.06 10.2799V5.71992C14.0533 4.96658 13.6533 4.27992 13.0067 3.89992ZM7.99999 4.89325C8.85999 4.89325 9.55332 5.58659 9.55332 6.44659C9.55332 7.30658 8.85999 7.99992 7.99999 7.99992C7.13999 7.99992 6.44666 7.30658 6.44666 6.44659C6.44666 5.59325 7.13999 4.89325 7.99999 4.89325ZM9.78666 11.1066H6.21332C5.67332 11.1066 5.35999 10.5066 5.65999 10.0599C6.11332 9.38659 6.99332 8.93325 7.99999 8.93325C9.00666 8.93325 9.88666 9.38659 10.34 10.0599C10.64 10.4999 10.32 11.1066 9.78666 11.1066Z",fill:"currentColor"})});case"sidebar.profile":return o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{d:"M14.6666 7.99992C14.6666 4.32659 11.6733 1.33325 7.99998 1.33325C4.32665 1.33325 1.33331 4.32659 1.33331 7.99992C1.33331 9.93325 2.16665 11.6733 3.48665 12.8933C3.48665 12.8999 3.48665 12.8999 3.47998 12.9066C3.54665 12.9733 3.62665 13.0266 3.69331 13.0866C3.73331 13.1199 3.76665 13.1533 3.80665 13.1799C3.92665 13.2799 4.05998 13.3733 4.18665 13.4666C4.23331 13.4999 4.27331 13.5266 4.31998 13.5599C4.44665 13.6466 4.57998 13.7266 4.71998 13.7999C4.76665 13.8266 4.81998 13.8599 4.86665 13.8866C4.99998 13.9599 5.13998 14.0266 5.28665 14.0866C5.33998 14.1133 5.39331 14.1399 5.44665 14.1599C5.59331 14.2199 5.73998 14.2733 5.88665 14.3199C5.93998 14.3399 5.99331 14.3599 6.04665 14.3733C6.20665 14.4199 6.36665 14.4599 6.52665 14.4999C6.57331 14.5133 6.61998 14.5266 6.67331 14.5333C6.85998 14.5733 7.04665 14.5999 7.23998 14.6199C7.26665 14.6199 7.29331 14.6266 7.31998 14.6333C7.54665 14.6533 7.77331 14.6666 7.99998 14.6666C8.22665 14.6666 8.45331 14.6533 8.67331 14.6333C8.69998 14.6333 8.72665 14.6266 8.75331 14.6199C8.94665 14.5999 9.13331 14.5733 9.31998 14.5333C9.36665 14.5266 9.41331 14.5066 9.46665 14.4999C9.62665 14.4599 9.79331 14.4266 9.94665 14.3733C9.99998 14.3533 10.0533 14.3333 10.1066 14.3199C10.2533 14.2666 10.4066 14.2199 10.5466 14.1599C10.6 14.1399 10.6533 14.1133 10.7066 14.0866C10.8466 14.0266 10.9866 13.9599 11.1266 13.8866C11.18 13.8599 11.2266 13.8266 11.2733 13.7999C11.4066 13.7199 11.54 13.6466 11.6733 13.5599C11.72 13.5333 11.76 13.4999 11.8066 13.4666C11.94 13.3733 12.0666 13.2799 12.1866 13.1799C12.2266 13.1466 12.26 13.1133 12.3 13.0866C12.3733 13.0266 12.4466 12.9666 12.5133 12.9066C12.5133 12.8999 12.5133 12.8999 12.5066 12.8933C13.8333 11.6733 14.6666 9.93325 14.6666 7.99992ZM11.2933 11.3133C9.48665 10.0999 6.52665 10.0999 4.70665 11.3133C4.41331 11.5066 4.17331 11.7333 3.97331 11.9799C2.95998 10.9533 2.33331 9.54659 2.33331 7.99992C2.33331 4.87325 4.87331 2.33325 7.99998 2.33325C11.1266 2.33325 13.6666 4.87325 13.6666 7.99992C13.6666 9.54659 13.04 10.9533 12.0266 11.9799C11.8333 11.7333 11.5866 11.5066 11.2933 11.3133Z",fill:"currentColor"}),o("path",{d:"M8 4.62012C6.62 4.62012 5.5 5.74012 5.5 7.12012C5.5 8.47345 6.56 9.57345 7.96667 9.61345C7.98667 9.61345 8.01333 9.61345 8.02667 9.61345C8.04 9.61345 8.06 9.61345 8.07333 9.61345C8.08 9.61345 8.08667 9.61345 8.08667 9.61345C9.43333 9.56678 10.4933 8.47345 10.5 7.12012C10.5 5.74012 9.38 4.62012 8 4.62012Z",fill:"currentColor"})]});case"sidebar.logout":return o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{d:"M9.33335 2.85333V13.1467C9.3369 13.2088 9.3369 13.2712 9.33335 13.3333C9.28387 13.6738 9.10472 13.9819 8.83335 14.1933C8.59968 14.3777 8.31102 14.4787 8.01335 14.48C7.90546 14.4797 7.79801 14.4662 7.69335 14.44L3.69335 13.44C3.40181 13.3711 3.14197 13.206 2.95571 12.9714C2.76946 12.7368 2.66764 12.4462 2.66669 12.1467V3.85333C2.66655 3.55645 2.76549 3.26801 2.94784 3.03373C3.13019 2.79945 3.38552 2.63273 3.67335 2.56L7.67335 1.56C7.85569 1.51202 8.04613 1.50327 8.23209 1.5343C8.41806 1.56534 8.59533 1.63546 8.75221 1.74005C8.90908 1.84463 9.042 1.98129 9.14217 2.14102C9.24235 2.30075 9.30751 2.4799 9.33335 2.66666C9.3369 2.72883 9.3369 2.79116 9.33335 2.85333Z",fill:"#D30021"}),o("path",{d:"M13.3333 4.00008V12.0001C13.3333 12.3537 13.1929 12.6928 12.9428 12.9429C12.6928 13.1929 12.3536 13.3334 12 13.3334H10C10.0069 13.2714 10.0069 13.2088 10 13.1467V2.85341C10.0064 2.79136 10.0064 2.72881 10 2.66675H12C12.3536 2.66675 12.6928 2.80722 12.9428 3.05727C13.1929 3.30732 13.3333 3.64646 13.3333 4.00008Z",fill:"#D30021"})]});case"plus":return o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 2C8.14466 2 8.2834 2.05747 8.38569 2.15976C8.48799 2.26205 8.54545 2.40079 8.54545 2.54545V7.45455H13.4545C13.5992 7.45455 13.7379 7.51201 13.8402 7.61431C13.9425 7.7166 14 7.85534 14 8C14 8.14466 13.9425 8.2834 13.8402 8.38569C13.7379 8.48799 13.5992 8.54545 13.4545 8.54545H8.54545V13.4545C8.54545 13.5992 8.48799 13.7379 8.38569 13.8402C8.2834 13.9425 8.14466 14 8 14C7.85534 14 7.7166 13.9425 7.61431 13.8402C7.51201 13.7379 7.45455 13.5992 7.45455 13.4545V8.54545H2.54545C2.40079 8.54545 2.26205 8.48799 2.15976 8.38569C2.05747 8.2834 2 8.14466 2 8C2 7.85534 2.05747 7.7166 2.15976 7.61431C2.26205 7.51201 2.40079 7.45455 2.54545 7.45455H7.45455V2.54545C7.45455 2.40079 7.51201 2.26205 7.61431 2.15976C7.7166 2.05747 7.85534 2 8 2Z",fill:"currentColor"})});case"diagonal-arrow":return o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.50001 2.5H13C13.1326 2.5 13.2598 2.55268 13.3536 2.64645C13.4473 2.74021 13.5 2.86739 13.5 3V10.5C13.5 10.6326 13.4473 10.7598 13.3536 10.8536C13.2598 10.9473 13.1326 11 13 11C12.8674 11 12.7402 10.9473 12.6465 10.8536C12.5527 10.7598 12.5 10.6326 12.5 10.5V4.20667L3.35334 13.3533C3.25856 13.4417 3.1332 13.4897 3.00366 13.4874C2.87413 13.4852 2.75054 13.4327 2.65893 13.3411C2.56732 13.2495 2.51485 13.1259 2.51256 12.9963C2.51027 12.8668 2.55836 12.7414 2.64668 12.6467L11.7933 3.5H5.50001C5.3674 3.5 5.24022 3.44732 5.14646 3.35355C5.05269 3.25979 5.00001 3.13261 5.00001 3C5.00001 2.86739 5.05269 2.74021 5.14646 2.64645C5.24022 2.55268 5.3674 2.5 5.50001 2.5Z",fill:"#8F92A1"})});case"notification":return o("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{d:"M19.34 14.49L18.34 12.83C18.13 12.46 17.94 11.76 17.94 11.35V8.82C17.94 6.47 16.56 4.44 14.57 3.49C14.05 2.57 13.09 2 11.99 2C10.9 2 9.92 2.59 9.4 3.52C7.45 4.49 6.1 6.5 6.1 8.82V11.35C6.1 11.76 5.91 12.46 5.7 12.82L4.69 14.49C4.29 15.16 4.2 15.9 4.45 16.58C4.69 17.25 5.26 17.77 6 18.02C7.94 18.68 9.98 19 12.02 19C14.06 19 16.1 18.68 18.04 18.03C18.74 17.8 19.28 17.27 19.54 16.58C19.8 15.89 19.73 15.13 19.34 14.49Z",fill:"#F2B300"}),o("path",{d:"M14.83 20.01C14.41 21.17 13.3 22 12 22C11.21 22 10.43 21.68 9.87999 21.11C9.55999 20.81 9.31999 20.41 9.17999 20C9.30999 20.02 9.43999 20.03 9.57999 20.05C9.80999 20.08 10.05 20.11 10.29 20.13C10.86 20.18 11.44 20.21 12.02 20.21C12.59 20.21 13.16 20.18 13.72 20.13C13.93 20.11 14.14 20.1 14.34 20.07C14.5 20.05 14.66 20.03 14.83 20.01Z",fill:"#F2B300"})]});case"calendar":return o("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{d:"M10.625 10.625C10.625 10.7908 10.5592 10.9497 10.4419 11.0669C10.3247 11.1842 10.1658 11.25 10 11.25C9.83424 11.25 9.67527 11.1842 9.55806 11.0669C9.44085 10.9497 9.375 10.7908 9.375 10.625C9.375 10.4592 9.44085 10.3003 9.55806 10.1831C9.67527 10.0658 9.83424 10 10 10C10.1658 10 10.3247 10.0658 10.4419 10.1831C10.5592 10.3003 10.625 10.4592 10.625 10.625ZM6.25 13.125C6.41576 13.125 6.57473 13.0592 6.69194 12.9419C6.80915 12.8247 6.875 12.6658 6.875 12.5C6.875 12.3342 6.80915 12.1753 6.69194 12.0581C6.57473 11.9408 6.41576 11.875 6.25 11.875C6.08424 11.875 5.92527 11.9408 5.80806 12.0581C5.69085 12.1753 5.625 12.3342 5.625 12.5C5.625 12.6658 5.69085 12.8247 5.80806 12.9419C5.92527 13.0592 6.08424 13.125 6.25 13.125ZM6.875 14.375C6.875 14.5408 6.80915 14.6997 6.69194 14.8169C6.57473 14.9342 6.41576 15 6.25 15C6.08424 15 5.92527 14.9342 5.80806 14.8169C5.69085 14.6997 5.625 14.5408 5.625 14.375C5.625 14.2092 5.69085 14.0503 5.80806 13.9331C5.92527 13.8158 6.08424 13.75 6.25 13.75C6.41576 13.75 6.57473 13.8158 6.69194 13.9331C6.80915 14.0503 6.875 14.2092 6.875 14.375ZM8.125 13.125C8.29076 13.125 8.44973 13.0592 8.56694 12.9419C8.68415 12.8247 8.75 12.6658 8.75 12.5C8.75 12.3342 8.68415 12.1753 8.56694 12.0581C8.44973 11.9408 8.29076 11.875 8.125 11.875C7.95924 11.875 7.80027 11.9408 7.68306 12.0581C7.56585 12.1753 7.5 12.3342 7.5 12.5C7.5 12.6658 7.56585 12.8247 7.68306 12.9419C7.80027 13.0592 7.95924 13.125 8.125 13.125ZM8.75 14.375C8.75 14.5408 8.68415 14.6997 8.56694 14.8169C8.44973 14.9342 8.29076 15 8.125 15C7.95924 15 7.80027 14.9342 7.68306 14.8169C7.56585 14.6997 7.5 14.5408 7.5 14.375C7.5 14.2092 7.56585 14.0503 7.68306 13.9331C7.80027 13.8158 7.95924 13.75 8.125 13.75C8.29076 13.75 8.44973 13.8158 8.56694 13.9331C8.68415 14.0503 8.75 14.2092 8.75 14.375ZM10 13.125C10.1658 13.125 10.3247 13.0592 10.4419 12.9419C10.5592 12.8247 10.625 12.6658 10.625 12.5C10.625 12.3342 10.5592 12.1753 10.4419 12.0581C10.3247 11.9408 10.1658 11.875 10 11.875C9.83424 11.875 9.67527 11.9408 9.55806 12.0581C9.44085 12.1753 9.375 12.3342 9.375 12.5C9.375 12.6658 9.44085 12.8247 9.55806 12.9419C9.67527 13.0592 9.83424 13.125 10 13.125ZM10.625 14.375C10.625 14.5408 10.5592 14.6997 10.4419 14.8169C10.3247 14.9342 10.1658 15 10 15C9.83424 15 9.67527 14.9342 9.55806 14.8169C9.44085 14.6997 9.375 14.5408 9.375 14.375C9.375 14.2092 9.44085 14.0503 9.55806 13.9331C9.67527 13.8158 9.83424 13.75 10 13.75C10.1658 13.75 10.3247 13.8158 10.4419 13.9331C10.5592 14.0503 10.625 14.2092 10.625 14.375ZM11.875 13.125C12.0408 13.125 12.1997 13.0592 12.3169 12.9419C12.4342 12.8247 12.5 12.6658 12.5 12.5C12.5 12.3342 12.4342 12.1753 12.3169 12.0581C12.1997 11.9408 12.0408 11.875 11.875 11.875C11.7092 11.875 11.5503 11.9408 11.4331 12.0581C11.3158 12.1753 11.25 12.3342 11.25 12.5C11.25 12.6658 11.3158 12.8247 11.4331 12.9419C11.5503 13.0592 11.7092 13.125 11.875 13.125ZM12.5 14.375C12.5 14.5408 12.4342 14.6997 12.3169 14.8169C12.1997 14.9342 12.0408 15 11.875 15C11.7092 15 11.5503 14.9342 11.4331 14.8169C11.3158 14.6997 11.25 14.5408 11.25 14.375C11.25 14.2092 11.3158 14.0503 11.4331 13.9331C11.5503 13.8158 11.7092 13.75 11.875 13.75C12.0408 13.75 12.1997 13.8158 12.3169 13.9331C12.4342 14.0503 12.5 14.2092 12.5 14.375ZM13.75 13.125C13.9158 13.125 14.0747 13.0592 14.1919 12.9419C14.3092 12.8247 14.375 12.6658 14.375 12.5C14.375 12.3342 14.3092 12.1753 14.1919 12.0581C14.0747 11.9408 13.9158 11.875 13.75 11.875C13.5842 11.875 13.4253 11.9408 13.3081 12.0581C13.1908 12.1753 13.125 12.3342 13.125 12.5C13.125 12.6658 13.1908 12.8247 13.3081 12.9419C13.4253 13.0592 13.5842 13.125 13.75 13.125ZM12.5 10.625C12.5 10.7908 12.4342 10.9497 12.3169 11.0669C12.1997 11.1842 12.0408 11.25 11.875 11.25C11.7092 11.25 11.5503 11.1842 11.4331 11.0669C11.3158 10.9497 11.25 10.7908 11.25 10.625C11.25 10.4592 11.3158 10.3003 11.4331 10.1831C11.5503 10.0658 11.7092 10 11.875 10C12.0408 10 12.1997 10.0658 12.3169 10.1831C12.4342 10.3003 12.5 10.4592 12.5 10.625ZM13.75 11.25C13.9158 11.25 14.0747 11.1842 14.1919 11.0669C14.3092 10.9497 14.375 10.7908 14.375 10.625C14.375 10.4592 14.3092 10.3003 14.1919 10.1831C14.0747 10.0658 13.9158 10 13.75 10C13.5842 10 13.4253 10.0658 13.3081 10.1831C13.1908 10.3003 13.125 10.4592 13.125 10.625C13.125 10.7908 13.1908 10.9497 13.3081 11.0669C13.4253 11.1842 13.5842 11.25 13.75 11.25Z",fill:"#8F92A1"}),o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.625 1.875C5.79076 1.875 5.94973 1.94085 6.06694 2.05806C6.18415 2.17527 6.25 2.33424 6.25 2.5V3.75H13.75V2.5C13.75 2.33424 13.8158 2.17527 13.9331 2.05806C14.0503 1.94085 14.2092 1.875 14.375 1.875C14.5408 1.875 14.6997 1.94085 14.8169 2.05806C14.9342 2.17527 15 2.33424 15 2.5V3.75H15.625C16.288 3.75 16.9239 4.01339 17.3928 4.48223C17.8616 4.95107 18.125 5.58696 18.125 6.25V15.625C18.125 16.288 17.8616 16.9239 17.3928 17.3928C16.9239 17.8616 16.288 18.125 15.625 18.125H4.375C3.71196 18.125 3.07607 17.8616 2.60723 17.3928C2.13839 16.9239 1.875 16.288 1.875 15.625V6.25C1.875 5.58696 2.13839 4.95107 2.60723 4.48223C3.07607 4.01339 3.71196 3.75 4.375 3.75H5V2.5C5 2.33424 5.06585 2.17527 5.18306 2.05806C5.30027 1.94085 5.45924 1.875 5.625 1.875ZM16.875 9.375C16.875 9.04348 16.7433 8.72554 16.5089 8.49112C16.2745 8.2567 15.9565 8.125 15.625 8.125H4.375C4.04348 8.125 3.72554 8.2567 3.49112 8.49112C3.2567 8.72554 3.125 9.04348 3.125 9.375V15.625C3.125 15.9565 3.2567 16.2745 3.49112 16.5089C3.72554 16.7433 4.04348 16.875 4.375 16.875H15.625C15.9565 16.875 16.2745 16.7433 16.5089 16.5089C16.7433 16.2745 16.875 15.9565 16.875 15.625V9.375Z",fill:"#8F92A1"})]});case"edit":return o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{d:"M14.4873 1.51246C14.1591 1.18433 13.714 1 13.2499 1C12.7858 1 12.3408 1.18433 12.0126 1.51246L11.2413 2.28379L13.7159 4.75846L14.4873 3.98713C14.8154 3.65895 14.9997 3.21387 14.9997 2.74979C14.9997 2.28571 14.8154 1.84064 14.4873 1.51246ZM13.0086 5.46579L10.5339 2.99113L2.43393 11.0911C2.02249 11.5024 1.72004 12.0096 1.55393 12.5671L1.02059 14.3571C0.994843 14.4435 0.992923 14.5352 1.01503 14.6226C1.03715 14.71 1.08247 14.7898 1.1462 14.8535C1.20994 14.9173 1.28972 14.9626 1.3771 14.9847C1.46448 15.0068 1.55621 15.0049 1.64259 14.9791L3.43259 14.4458C3.99008 14.2797 4.49737 13.9772 4.90859 13.5658L13.0086 5.46579Z",fill:"white"})});case"delete":return o("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.5 2.9853V3.13663C12.366 3.21582 13.2285 3.32969 14.0853 3.47797C14.15 3.48917 14.2119 3.51301 14.2674 3.54812C14.3229 3.58324 14.3709 3.62893 14.4087 3.6826C14.4465 3.73628 14.4734 3.79687 14.4878 3.86093C14.5022 3.925 14.5039 3.99127 14.4927 4.05597C14.4815 4.12066 14.4576 4.18252 14.4225 4.23801C14.3874 4.29349 14.3417 4.34152 14.288 4.37934C14.2344 4.41716 14.1738 4.44405 14.1097 4.45845C14.0456 4.47286 13.9794 4.4745 13.9147 4.4633L13.7753 4.43997L13.1053 13.1533C13.0667 13.6557 12.8399 14.125 12.4702 14.4674C12.1005 14.8097 11.6152 14.9999 11.1113 15H5.88934C5.38547 14.9999 4.90017 14.8097 4.53049 14.4674C4.1608 14.125 3.93397 13.6557 3.89534 13.1533L3.22467 4.43997L3.08534 4.4633C3.02064 4.4745 2.95437 4.47286 2.89031 4.45845C2.82625 4.44405 2.76565 4.41716 2.71198 4.37934C2.60358 4.30295 2.52997 4.18663 2.50734 4.05597C2.48471 3.9253 2.51491 3.791 2.5913 3.6826C2.66769 3.57421 2.78401 3.5006 2.91467 3.47797C3.77152 3.32952 4.63399 3.21565 5.5 3.13663V2.9853C5.5 1.94263 6.30867 1.05197 7.37734 1.01797C8.12581 0.994012 8.87486 0.994012 9.62334 1.01797C10.692 1.05197 11.5 1.94263 11.5 2.9853ZM7.40934 2.0173C8.13649 1.99404 8.86419 1.99404 9.59134 2.0173C10.0933 2.0333 10.5 2.45597 10.5 2.9853V3.06063C9.1679 2.97973 7.83211 2.97973 6.5 3.06063V2.9853C6.5 2.45597 6.906 2.0333 7.40934 2.0173ZM7.17267 5.98063C7.17013 5.91497 7.15469 5.85045 7.12721 5.79076C7.09974 5.73107 7.06078 5.67738 7.01255 5.63274C6.96433 5.58811 6.90779 5.55341 6.84615 5.53063C6.78452 5.50785 6.719 5.49743 6.65334 5.49997C6.58768 5.5025 6.52316 5.51795 6.46347 5.54542C6.40378 5.5729 6.35008 5.61186 6.30545 5.66008C6.26081 5.70831 6.22611 5.76485 6.20333 5.82649C6.18055 5.88812 6.17013 5.95364 6.17267 6.0193L6.404 12.0193C6.40913 12.1518 6.46669 12.2769 6.56402 12.367C6.61222 12.4116 6.66873 12.4462 6.73032 12.469C6.79191 12.4918 6.85739 12.5022 6.923 12.4996C6.98862 12.4971 7.0531 12.4817 7.11275 12.4542C7.1724 12.4267 7.22606 12.3878 7.27066 12.3396C7.31526 12.2914 7.34994 12.2349 7.3727 12.1733C7.39547 12.1117 7.40588 12.0463 7.40334 11.9806L7.17267 5.98063ZM10.826 6.0193C10.8309 5.95238 10.8223 5.88516 10.8006 5.82164C10.779 5.75812 10.7448 5.69961 10.7001 5.64959C10.6553 5.59957 10.601 5.55907 10.5403 5.53049C10.4796 5.50191 10.4137 5.48585 10.3467 5.48325C10.2796 5.48066 10.2127 5.49158 10.15 5.51538C10.0873 5.53918 10.03 5.57536 9.9815 5.62177C9.93304 5.66818 9.89441 5.72388 9.86793 5.78553C9.84144 5.84718 9.82764 5.91353 9.82734 5.98063L9.596 11.9806C9.59088 12.1132 9.63864 12.2425 9.72878 12.3398C9.81892 12.4372 9.94406 12.4948 10.0767 12.5C10.2093 12.5051 10.3385 12.4573 10.4359 12.3672C10.5333 12.277 10.5909 12.1519 10.596 12.0193L10.826 6.0193Z",fill:"white"})});case"caret-left":return o("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("g",{"clip-path":"url(#clip0_10_5440)",children:o("path",{d:"M15 6L9 12L15 18",stroke:"#1C1C1C","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})}),o("defs",{children:o("clipPath",{id:"clip0_10_5440",children:o("rect",{width:"24",height:"24",fill:"white"})})})]});case"white-caret-left":return o("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("g",{"clip-path":"url(#clip0_10_5440)",children:o("path",{d:"M15 6L9 12L15 18",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})}),o("defs",{children:o("clipPath",{id:"clip0_10_5440",children:o("rect",{width:"24",height:"24",fill:"white"})})})]});case"caret-right":return o("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("g",{"clip-path":"url(#clip0_10_5440)",children:o("path",{d:"M9 6L15 12L9 18",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})}),o("defs",{children:o("clipPath",{id:"clip0_10_5440",children:o("rect",{width:"24",height:"24",fill:"white"})})})]});case"clock":return o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{d:"M8.00021 3.09961C4.81355 3.09961 2.22021 5.69294 2.22021 8.87961C2.22021 12.0663 4.81355 14.6663 8.00021 14.6663C11.1869 14.6663 13.7802 12.0729 13.7802 8.88628C13.7802 5.69961 11.1869 3.09961 8.00021 3.09961ZM8.50021 8.66628C8.50021 8.93961 8.27355 9.16628 8.00021 9.16628C7.72688 9.16628 7.50021 8.93961 7.50021 8.66628V5.33294C7.50021 5.05961 7.72688 4.83294 8.00021 4.83294C8.27355 4.83294 8.50021 5.05961 8.50021 5.33294V8.66628Z",fill:"#E86E18"}),o("path",{d:"M9.9266 2.29967H6.07326C5.80659 2.29967 5.59326 2.08634 5.59326 1.81967C5.59326 1.55301 5.80659 1.33301 6.07326 1.33301H9.9266C10.1933 1.33301 10.4066 1.54634 10.4066 1.81301C10.4066 2.07967 10.1933 2.29967 9.9266 2.29967Z",fill:"#E86E18"})]});case"pending":return o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{d:"M8.00016 5.5C6.80683 5.5 5.8335 6.47333 5.8335 7.66667C5.8335 8.86 6.80683 9.83333 8.00016 9.83333C9.1935 9.83333 10.1668 8.86 10.1668 7.66667C10.1668 6.47333 9.1935 5.5 8.00016 5.5ZM8.66683 7.45333C8.66683 7.86 8.44683 8.24667 8.10016 8.45333L7.58683 8.76C7.50683 8.80667 7.42016 8.83333 7.32683 8.83333C7.16016 8.83333 6.9935 8.74667 6.90016 8.59333C6.76016 8.35333 6.8335 8.04667 7.0735 7.90667L7.58016 7.6C7.6335 7.56667 7.66016 7.51333 7.66016 7.46V6.84C7.66016 6.56667 7.88683 6.34 8.16016 6.34C8.4335 6.34 8.66683 6.56 8.66683 6.83333V7.45333Z",fill:"#8F92A1"}),o("path",{d:"M12.36 2.78009L8.69337 1.40676C8.31337 1.26676 7.69337 1.26676 7.31337 1.40676L3.6467 2.78009C2.94003 3.04676 2.3667 3.87342 2.3667 4.62676V10.0268C2.3667 10.5668 2.72003 11.2801 3.15337 11.6001L6.82003 14.3401C7.4667 14.8268 8.5267 14.8268 9.17337 14.3401L12.84 11.6001C13.2734 11.2734 13.6267 10.5668 13.6267 10.0268V4.62676C13.6334 3.87342 13.06 3.04676 12.36 2.78009ZM8.00003 10.8334C6.25337 10.8334 4.83337 9.41342 4.83337 7.66676C4.83337 5.92009 6.25337 4.50009 8.00003 4.50009C9.7467 4.50009 11.1667 5.92009 11.1667 7.66676C11.1667 9.41342 9.7467 10.8334 8.00003 10.8334Z",fill:"#8F92A1"})]});case"approved":return o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.73534 2.53267C6.01664 2.20815 6.36448 1.94797 6.75525 1.76979C7.14601 1.5916 7.57053 1.49959 8 1.5C8.90467 1.5 9.71534 1.9 10.2647 2.53267C10.6931 2.50207 11.1232 2.56406 11.5255 2.7144C11.9279 2.86475 12.2932 3.09994 12.5967 3.404C12.9006 3.70738 13.1357 4.07258 13.2861 4.47484C13.4364 4.87709 13.4985 5.30698 13.468 5.73533C13.7924 6.0167 14.0525 6.36457 14.2305 6.75533C14.4086 7.14609 14.5005 7.57058 14.5 8C14.5004 8.42947 14.4084 8.854 14.2302 9.24476C14.052 9.63552 13.7919 9.98336 13.4673 10.2647C13.4978 10.693 13.4357 11.1229 13.2854 11.5252C13.1351 11.9274 12.8999 12.2926 12.596 12.596C12.2926 12.8999 11.9274 13.1351 11.5252 13.2854C11.1229 13.4357 10.693 13.4978 10.2647 13.4673C9.98336 13.7919 9.63552 14.052 9.24476 14.2302C8.854 14.4084 8.42947 14.5004 8 14.5C7.57053 14.5004 7.14601 14.4084 6.75525 14.2302C6.36448 14.052 6.01664 13.7919 5.73534 13.4673C5.30692 13.498 4.87692 13.4361 4.47454 13.2859C4.07216 13.1357 3.70682 12.9006 3.40334 12.5967C3.09931 12.2932 2.86415 11.9279 2.7138 11.5255C2.56346 11.1231 2.50145 10.6931 2.532 10.2647C2.20761 9.9833 1.94755 9.63543 1.76949 9.24467C1.59142 8.85391 1.49951 8.42942 1.5 8C1.5 7.09534 1.9 6.28467 2.53267 5.73533C2.50217 5.30698 2.5642 4.87708 2.71455 4.47482C2.86489 4.07255 3.10003 3.70735 3.404 3.404C3.70735 3.10003 4.07255 2.86489 4.47482 2.71455C4.87708 2.5642 5.30698 2.50217 5.73534 2.53267ZM10.4067 6.79067C10.4467 6.73737 10.4756 6.67661 10.4918 6.61197C10.508 6.54732 10.5111 6.4801 10.5009 6.41424C10.4907 6.34838 10.4675 6.28522 10.4326 6.22847C10.3976 6.17171 10.3517 6.12252 10.2975 6.08377C10.2433 6.04502 10.1819 6.0175 10.1169 6.00282C10.0519 5.98814 9.98459 5.98661 9.91899 5.99831C9.85338 6.01001 9.79078 6.0347 9.73485 6.07094C9.67893 6.10718 9.63081 6.15423 9.59334 6.20933L7.436 9.22933L6.35334 8.14667C6.25855 8.05835 6.13319 8.01027 6.00365 8.01255C5.87412 8.01484 5.75053 8.06731 5.65892 8.15892C5.56731 8.25053 5.51484 8.37412 5.51255 8.50365C5.51027 8.63319 5.55835 8.75855 5.64667 8.85333L7.14667 10.3533C7.198 10.4046 7.25987 10.4441 7.32799 10.4691C7.39612 10.4941 7.46886 10.5039 7.54118 10.498C7.61349 10.492 7.68364 10.4704 7.74675 10.4346C7.80987 10.3988 7.86444 10.3497 7.90667 10.2907L10.4067 6.79067Z",fill:"#008D4E"})});case"info":return o("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{d:"M12 16H12.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{d:"M12 8V12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]});case"rejected":return o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 1.5C4.41 1.5 1.5 4.41 1.5 8C1.5 11.59 4.41 14.5 8 14.5C11.59 14.5 14.5 11.59 14.5 8C14.5 4.41 11.59 1.5 8 1.5ZM6.85333 6.14667C6.80756 6.09754 6.75236 6.05814 6.69103 6.03081C6.62969 6.00348 6.56348 5.98879 6.49635 5.98761C6.42921 5.98642 6.36253 5.99877 6.30027 6.02392C6.23801 6.04907 6.18145 6.0865 6.13398 6.13398C6.0865 6.18145 6.04907 6.23801 6.02392 6.30027C5.99877 6.36253 5.98642 6.42921 5.98761 6.49635C5.98879 6.56348 6.00348 6.62969 6.03081 6.69103C6.05814 6.75236 6.09754 6.80756 6.14667 6.85333L7.29333 8L6.14667 9.14667C6.09754 9.19244 6.05814 9.24764 6.03081 9.30897C6.00348 9.37031 5.98879 9.43652 5.98761 9.50365C5.98642 9.57079 5.99877 9.63747 6.02392 9.69973C6.04907 9.76199 6.0865 9.81855 6.13398 9.86603C6.18145 9.9135 6.23801 9.95093 6.30027 9.97608C6.36253 10.0012 6.42921 10.0136 6.49635 10.0124C6.56348 10.0112 6.62969 9.99652 6.69103 9.96919C6.75236 9.94186 6.80756 9.90246 6.85333 9.85333L8 8.70667L9.14667 9.85333C9.19244 9.90246 9.24764 9.94186 9.30897 9.96919C9.37031 9.99652 9.43652 10.0112 9.50365 10.0124C9.57079 10.0136 9.63747 10.0012 9.69973 9.97608C9.76199 9.95093 9.81855 9.9135 9.86603 9.86603C9.9135 9.81855 9.95093 9.76199 9.97608 9.69973C10.0012 9.63747 10.0136 9.57079 10.0124 9.50365C10.0112 9.43652 9.99652 9.37031 9.96919 9.30897C9.94186 9.24764 9.90246 9.19244 9.85333 9.14667L8.70667 8L9.85333 6.85333C9.90246 6.80756 9.94186 6.75236 9.96919 6.69103C9.99652 6.62969 10.0112 6.56348 10.0124 6.49635C10.0136 6.42921 10.0012 6.36253 9.97608 6.30027C9.95093 6.23801 9.9135 6.18145 9.86603 6.13398C9.81855 6.0865 9.76199 6.04907 9.69973 6.02392C9.63747 5.99877 9.57079 5.98642 9.50365 5.98761C9.43652 5.98879 9.37031 6.00348 9.30897 6.03081C9.24764 6.05814 9.19244 6.09754 9.14667 6.14667L8 7.29333L6.85333 6.14667Z",fill:"#D30021"})});case"print":return o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.25 1C4.55933 1 4 1.56 4 2.25V4.24333C3.716 4.27867 3.43267 4.31667 3.15067 4.35933C2.18133 4.50467 1.5 5.348 1.5 6.304V10.5C1.5 11.0304 1.71071 11.5391 2.08579 11.9142C2.46086 12.2893 2.96957 12.5 3.5 12.5H3.68L3.57667 13.6367C3.56092 13.8096 3.58139 13.984 3.63678 14.1486C3.69217 14.3132 3.78126 14.4645 3.89837 14.5928C4.01548 14.7211 4.15804 14.8235 4.31695 14.8936C4.47586 14.9638 4.64764 15 4.82133 15H11.1787C11.3524 15 11.5241 14.9638 11.6831 14.8936C11.842 14.8235 11.9845 14.7211 12.1016 14.5928C12.2187 14.4645 12.3078 14.3132 12.3632 14.1486C12.4186 13.984 12.4391 13.8096 12.4233 13.6367L12.32 12.5H12.5C13.0304 12.5 13.5391 12.2893 13.9142 11.9142C14.2893 11.5391 14.5 11.0304 14.5 10.5V6.304C14.5 5.348 13.8187 4.504 12.8493 4.35933C12.5667 4.31715 12.2836 4.27871 12 4.244V2.25C12 1.55933 11.44 1 10.75 1H5.25ZM11 4.13667V2.25C11 2.1837 10.9737 2.12011 10.9268 2.07322C10.8799 2.02634 10.8163 2 10.75 2H5.25C5.1837 2 5.12011 2.02634 5.07322 2.07322C5.02634 2.12011 5 2.1837 5 2.25V4.13667C6.99583 3.95393 9.00417 3.95393 11 4.13667ZM10.8553 9.64667C10.974 9.65867 11.0667 9.75333 11.0773 9.87133L11.428 13.7273C11.4312 13.762 11.427 13.7969 11.4159 13.8298C11.4048 13.8628 11.387 13.893 11.3635 13.9187C11.3401 13.9444 11.3115 13.9649 11.2797 13.9788C11.2478 13.9928 11.2134 14.0001 11.1787 14H4.82133C4.78656 14.0001 4.75216 13.9928 4.72033 13.9788C4.6885 13.9649 4.65994 13.9444 4.63648 13.9187C4.61301 13.893 4.59516 13.8628 4.58405 13.8298C4.57295 13.7969 4.56885 13.762 4.572 13.7273L4.92267 9.87133C4.92792 9.81397 4.95293 9.7602 4.99342 9.71923C5.03391 9.67825 5.08737 9.65261 5.14467 9.64667C7.04319 9.45083 8.95682 9.45083 10.8553 9.64667ZM11.5 7C11.5 6.86739 11.5527 6.74022 11.6464 6.64645C11.7402 6.55268 11.8674 6.5 12 6.5H12.0053C12.1379 6.5 12.2651 6.55268 12.3589 6.64645C12.4527 6.74022 12.5053 6.86739 12.5053 7V7.00533C12.5053 7.13794 12.4527 7.26512 12.3589 7.35889C12.2651 7.45266 12.1379 7.50533 12.0053 7.50533H12C11.8674 7.50533 11.7402 7.45266 11.6464 7.35889C11.5527 7.26512 11.5 7.13794 11.5 7.00533V7ZM10 6.5C9.86739 6.5 9.74022 6.55268 9.64645 6.64645C9.55268 6.74022 9.5 6.86739 9.5 7V7.00533C9.5 7.28133 9.724 7.50533 10 7.50533H10.0053C10.1379 7.50533 10.2651 7.45266 10.3589 7.35889C10.4527 7.26512 10.5053 7.13794 10.5053 7.00533V7C10.5053 6.86739 10.4527 6.74022 10.3589 6.64645C10.2651 6.55268 10.1379 6.5 10.0053 6.5H10Z",fill:"white"})});case"renew":return o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{d:"M5.1665 2.33203V1.33203C5.1665 1.0587 4.93984 0.832031 4.6665 0.832031C4.39317 0.832031 4.1665 1.0587 4.1665 1.33203V2.37203C4.33317 2.35203 4.4865 2.33203 4.6665 2.33203H5.1665Z",fill:"white"}),o("path",{d:"M10.5 2.37203V1.33203C10.5 1.0587 10.2733 0.832031 10 0.832031C9.72667 0.832031 9.5 1.0587 9.5 1.33203V2.33203H10C10.18 2.33203 10.3333 2.35203 10.5 2.37203Z",fill:"white"}),o("path",{d:"M14.1935 9.9787C13.6802 9.57203 13.0335 9.33203 12.3335 9.33203C11.6335 9.33203 10.9735 9.5787 10.4602 9.99203C9.76683 10.5387 9.3335 11.392 9.3335 12.332C9.3335 12.892 9.4935 13.432 9.76683 13.872C9.98016 14.2187 10.2535 14.5254 10.5802 14.7587C11.0735 15.1187 11.6735 15.332 12.3335 15.332C13.0935 15.332 13.7802 15.052 14.3068 14.5854C14.5402 14.392 14.7402 14.152 14.9002 13.8787C15.1735 13.432 15.3335 12.892 15.3335 12.332C15.3335 11.3787 14.8868 10.5254 14.1935 9.9787ZM12.3335 13.7587C12.3335 12.972 11.6935 12.332 10.9068 12.332C11.6935 12.332 12.3335 11.692 12.3335 10.9054C12.3335 11.692 12.9735 12.332 13.7602 12.332C12.9735 12.332 12.3335 12.972 12.3335 13.7587Z",fill:"white"}),o("path",{d:"M10.5002 2.37203V3.33203C10.5002 3.60536 10.2735 3.83203 10.0002 3.83203C9.72683 3.83203 9.50016 3.60536 9.50016 3.33203V2.33203H5.16683V3.33203C5.16683 3.60536 4.94016 3.83203 4.66683 3.83203C4.3935 3.83203 4.16683 3.60536 4.16683 3.33203V2.37203C2.20016 2.55203 1.3335 3.8187 1.3335 5.66536V11.332C1.3335 13.332 2.3335 14.6654 4.66683 14.6654H7.42016C7.92683 14.6654 8.26683 14.0987 8.14016 13.6054C8.04683 13.2454 8.00016 12.872 8.00016 12.4987C8.00016 11.112 8.62016 9.83203 9.6935 8.98536C10.4735 8.35203 11.4735 7.9987 12.5002 7.9987H12.5268C12.9468 7.9987 13.3335 7.69203 13.3335 7.27203V5.66536C13.3335 3.8187 12.4668 2.55203 10.5002 2.37203ZM6.00016 11.1654H4.66683C4.3935 11.1654 4.16683 10.9387 4.16683 10.6654C4.16683 10.392 4.3935 10.1654 4.66683 10.1654H6.00016C6.2735 10.1654 6.50016 10.392 6.50016 10.6654C6.50016 10.9387 6.2735 11.1654 6.00016 11.1654ZM8.00016 7.83203H4.66683C4.3935 7.83203 4.16683 7.60536 4.16683 7.33203C4.16683 7.0587 4.3935 6.83203 4.66683 6.83203H8.00016C8.2735 6.83203 8.50016 7.0587 8.50016 7.33203C8.50016 7.60536 8.2735 7.83203 8.00016 7.83203Z",fill:"white"})]});case"increase":return o("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.735 1.23467C5.80531 1.16444 5.90062 1.125 6 1.125C6.09937 1.125 6.19469 1.16444 6.265 1.23467L8.14 3.10967C8.20624 3.18076 8.2423 3.27478 8.24059 3.37193C8.23887 3.46908 8.19952 3.56177 8.13081 3.63048C8.0621 3.69919 7.96941 3.73854 7.87226 3.74026C7.77511 3.74197 7.68109 3.70591 7.61 3.63967L6.375 2.40467V10.4997C6.375 10.5991 6.33549 10.6945 6.26516 10.7648C6.19484 10.8352 6.09946 10.8747 6 10.8747C5.90054 10.8747 5.80516 10.8352 5.73483 10.7648C5.66451 10.6945 5.625 10.5991 5.625 10.4997V2.40467L4.39 3.63967C4.31891 3.70591 4.22489 3.74197 4.12774 3.74026C4.03059 3.73854 3.9379 3.69919 3.86919 3.63048C3.80048 3.56177 3.76113 3.46908 3.75941 3.37193C3.7577 3.27478 3.79376 3.18076 3.86 3.10967L5.735 1.23467Z",fill:"#008D4E"})});case"report":return o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{d:"M10.7933 1.33594H5.20668C2.78001 1.33594 1.33334 2.7826 1.33334 5.20927V10.7893C1.33334 13.2226 2.78001 14.6693 5.20668 14.6693H10.7867C13.2133 14.6693 14.66 13.2226 14.66 10.7959V5.20927C14.6667 2.7826 13.22 1.33594 10.7933 1.33594ZM5.08668 12.1026C5.08668 12.3759 4.86001 12.6026 4.58668 12.6026C4.31334 12.6026 4.08668 12.3759 4.08668 12.1026V10.7226C4.08668 10.4493 4.31334 10.2226 4.58668 10.2226C4.86001 10.2226 5.08668 10.4493 5.08668 10.7226V12.1026ZM8.50001 12.1026C8.50001 12.3759 8.27334 12.6026 8.00001 12.6026C7.72668 12.6026 7.50001 12.3759 7.50001 12.1026V9.33594C7.50001 9.0626 7.72668 8.83594 8.00001 8.83594C8.27334 8.83594 8.50001 9.0626 8.50001 9.33594V12.1026ZM11.9133 12.1026C11.9133 12.3759 11.6867 12.6026 11.4133 12.6026C11.14 12.6026 10.9133 12.3759 10.9133 12.1026V7.95594C10.9133 7.6826 11.14 7.45594 11.4133 7.45594C11.6867 7.45594 11.9133 7.6826 11.9133 7.95594V12.1026ZM11.9133 5.84927C11.9133 6.1226 11.6867 6.34927 11.4133 6.34927C11.14 6.34927 10.9133 6.1226 10.9133 5.84927V5.2026C9.21334 6.94927 7.08668 8.1826 4.70668 8.77594C4.66668 8.78927 4.62668 8.78927 4.58668 8.78927C4.36001 8.78927 4.16001 8.63594 4.10001 8.40927C4.03334 8.1426 4.19334 7.86927 4.46668 7.8026C6.71334 7.2426 8.71334 6.0626 10.3 4.39594H9.46668C9.19334 4.39594 8.96668 4.16927 8.96668 3.89594C8.96668 3.6226 9.19334 3.39594 9.46668 3.39594H11.42C11.4467 3.39594 11.4667 3.40927 11.4933 3.40927C11.5267 3.41594 11.56 3.41594 11.5933 3.42927C11.6267 3.4426 11.6533 3.4626 11.6867 3.4826C11.7067 3.49594 11.7267 3.5026 11.7467 3.51594C11.7533 3.5226 11.7533 3.52927 11.76 3.52927C11.7867 3.55594 11.8067 3.5826 11.8267 3.60927C11.8467 3.63594 11.8667 3.65594 11.8733 3.6826C11.8867 3.70927 11.8867 3.73594 11.8933 3.76927C11.9 3.8026 11.9133 3.83594 11.9133 3.87594C11.9133 3.8826 11.92 3.88927 11.92 3.89594V5.84927H11.9133Z",fill:"white"})});default:return null}}function se(r){const{initialValues:e={},onSubmit:t,validationSchema:n}=r,[i,a]=O(e),[s,c]=O({}),[l,d]=O({}),u=Ot({});Z(()=>{h(i)},[JSON.stringify(i)]);async function h(v=i){var _;try{return await n.validate(v,{abortEarly:!1}),c({}),!0}catch(y){const w={};return(_=y.inner)==null||_.map(b=>w[b.path]=b.message),c(w),!1}}async function p(v){v.preventDefault(),d(u.current),await h()&&t(i)}function f({currentTarget:{value:v,name:_}}){const y={...i,[_]:v};a(y)}function g(v){return u.current={...u.current,[v]:!0},{name:v,value:i[v],error:s[v],onChange:f,onBlur:()=>d(_=>({..._,[v]:!0})),isTouched:!!l[v]}}function m(v,_){const y={...i,[v]:_};a(y)}return{values:i,errors:s,handleSubmit:p,getFieldProps:g,setFieldValue:m,isValid:Object.keys(s).length===0,reset:()=>{c({}),d({}),a(e)}}}function d6(r,e){for(var t in e)r[t]=e[t];return r}function Th(r,e){for(var t in r)if(t!=="__source"&&!(t in e))return!0;for(var n in e)if(n!=="__source"&&r[n]!==e[n])return!0;return!1}function Pl(r,e){this.props=r,this.context=e}function df(r,e){function t(i){var a=this.props.ref,s=a==i.ref;return!s&&a&&(a.call?a(null):a.current=null),e?!e(this.props,i)||!s:Th(this.props,i)}function n(i){return this.shouldComponentUpdate=t,Re(r,i)}return n.displayName="Memo("+(r.displayName||r.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n}(Pl.prototype=new Le).isPureReactComponent=!0,Pl.prototype.shouldComponentUpdate=function(r,e){return Th(this.props,r)||Th(this.state,e)};var hg=Ce.__b;Ce.__b=function(r){r.type&&r.type.__f&&r.ref&&(r.props.ref=r.ref,r.ref=null),hg&&hg(r)};var Y7=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Sa(r){function e(t){var n=d6({},t);return delete n.ref,r(n,t.ref||null)}return e.$$typeof=Y7,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(r.displayName||r.name)+")",e}var pg=function(r,e){return r==null?null:qn(qn(r).map(e))},Aa={map:pg,forEach:pg,count:function(r){return r?qn(r).length:0},only:function(r){var e=qn(r);if(e.length!==1)throw"Children.only";return e[0]},toArray:qn},W7=Ce.__e;Ce.__e=function(r,e,t,n){if(r.then){for(var i,a=e;a=a.__;)if((i=a.__c)&&i.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),i.__c(r,e)}W7(r,e,t,n)};var fg=Ce.unmount;function u6(r,e,t){return r&&(r.__c&&r.__c.__H&&(r.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),r.__c.__H=null),(r=d6({},r)).__c!=null&&(r.__c.__P===t&&(r.__c.__P=e),r.__c=null),r.__k=r.__k&&r.__k.map(function(n){return u6(n,e,t)})),r}function h6(r,e,t){return r&&t&&(r.__v=null,r.__k=r.__k&&r.__k.map(function(n){return h6(n,e,t)}),r.__c&&r.__c.__P===e&&(r.__e&&t.appendChild(r.__e),r.__c.__e=!0,r.__c.__P=t)),r}function ds(){this.__u=0,this.t=null,this.__b=null}function p6(r){var e=r.__.__c;return e&&e.__a&&e.__a(r)}function f6(r){var e,t,n;function i(a){if(e||(e=r()).then(function(s){t=s.default||s},function(s){n=s}),n)throw n;if(!t)throw e;return Re(t,a)}return i.displayName="Lazy",i.__f=!0,i}function Ko(){this.u=null,this.o=null}Ce.unmount=function(r){var e=r.__c;e&&e.__R&&e.__R(),e&&32&r.__u&&(r.type=null),fg&&fg(r)},(ds.prototype=new Le).__c=function(r,e){var t=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(t);var i=p6(n.__v),a=!1,s=function(){a||(a=!0,t.__R=null,i?i(c):c())};t.__R=s;var c=function(){if(!--n.__u){if(n.state.__a){var l=n.state.__a;n.__v.__k[0]=h6(l,l.__c.__P,l.__c.__O)}var d;for(n.setState({__a:n.__b=null});d=n.t.pop();)d.forceUpdate()}};n.__u++||32&e.__u||n.setState({__a:n.__b=n.__v.__k[0]}),r.then(s,s)},ds.prototype.componentWillUnmount=function(){this.t=[]},ds.prototype.render=function(r,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=u6(this.__b,t,n.__O=n.__P)}this.__b=null}var i=e.__a&&Re(P,null,r.fallback);return i&&(i.__u&=-33),[Re(P,null,e.__a?null:r.children),i]};var mg=function(r,e,t){if(++t[1]===t[0]&&r.o.delete(e),r.props.revealOrder&&(r.props.revealOrder[0]!=="t"||!r.o.size))for(t=r.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;r.u=t=t[2]}};function z7(r){return this.getChildContext=function(){return r.context},r.children}function j7(r){var e=this,t=r.i;e.componentWillUnmount=function(){na(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,i){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),na(Re(z7,{context:e.context},r.__v),e.l)}function m6(r,e){var t=Re(j7,{__v:r,i:e});return t.containerInfo=e,t}(Ko.prototype=new Le).__a=function(r){var e=this,t=p6(e.__v),n=e.o.get(r);return n[0]++,function(i){var a=function(){e.props.revealOrder?(n.push(i),mg(e,r,n)):i()};t?t(a):a()}},Ko.prototype.render=function(r){this.u=null,this.o=new Map;var e=qn(r.children);r.revealOrder&&r.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return r.children},Ko.prototype.componentDidUpdate=Ko.prototype.componentDidMount=function(){var r=this;this.o.forEach(function(e,t){mg(r,t,e)})};var g6=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,q7=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,K7=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,G7=/[A-Z0-9]/g,Q7=typeof document<"u",Z7=function(r){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(r)};function v6(r,e,t){return e.__k==null&&(e.textContent=""),na(r,e),typeof t=="function"&&t(),r?r.__c:null}function _6(r,e,t){return d3(r,e),typeof t=="function"&&t(),r?r.__c:null}Le.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(r){Object.defineProperty(Le.prototype,r,{configurable:!0,get:function(){return this["UNSAFE_"+r]},set:function(e){Object.defineProperty(this,r,{configurable:!0,writable:!0,value:e})}})});var gg=Ce.event;function X7(){}function J7(){return this.cancelBubble}function e4(){return this.defaultPrevented}Ce.event=function(r){return gg&&(r=gg(r)),r.persist=X7,r.isPropagationStopped=J7,r.isDefaultPrevented=e4,r.nativeEvent=r};var uf,t4={enumerable:!1,configurable:!0,get:function(){return this.class}},vg=Ce.vnode;Ce.vnode=function(r){typeof r.type=="string"&&function(e){var t=e.props,n=e.type,i={};for(var a in t){var s=t[a];if(!(a==="value"&&"defaultValue"in t&&s==null||Q7&&a==="children"&&n==="noscript"||a==="class"||a==="className")){var c=a.toLowerCase();a==="defaultValue"&&"value"in t&&t.value==null?a="value":a==="download"&&s===!0?s="":c==="translate"&&s==="no"?s=!1:c==="ondoubleclick"?a="ondblclick":c!=="onchange"||n!=="input"&&n!=="textarea"||Z7(t.type)?c==="onfocus"?a="onfocusin":c==="onblur"?a="onfocusout":K7.test(a)?a=c:n.indexOf("-")===-1&&q7.test(a)?a=a.replace(G7,"-$&").toLowerCase():s===null&&(s=void 0):c=a="oninput",c==="oninput"&&i[a=c]&&(a="oninputCapture"),i[a]=s}}n=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=qn(t.children).forEach(function(l){l.props.selected=i.value.indexOf(l.props.value)!=-1})),n=="select"&&i.defaultValue!=null&&(i.value=qn(t.children).forEach(function(l){l.props.selected=i.multiple?i.defaultValue.indexOf(l.props.value)!=-1:i.defaultValue==l.props.value})),t.class&&!t.className?(i.class=t.class,Object.defineProperty(i,"className",t4)):(t.className&&!t.class||t.class&&t.className)&&(i.class=i.className=t.className),e.props=i}(r),r.$$typeof=g6,vg&&vg(r)};var _g=Ce.__r;Ce.__r=function(r){_g&&_g(r),uf=r.__c};var yg=Ce.diffed;Ce.diffed=function(r){yg&&yg(r);var e=r.props,t=r.__e;t!=null&&r.type==="textarea"&&"value"in e&&e.value!==t.value&&(t.value=e.value==null?"":e.value),uf=null};var y6={ReactCurrentDispatcher:{current:{readContext:function(r){return uf.__n[r.__c].props.value}}}},n4="17.0.2";function C6(r){return Re.bind(null,r)}function $s(r){return!!r&&r.$$typeof===g6}function b6(r){return $s(r)&&r.type===P}function w6(r){return!!r&&!!r.displayName&&(typeof r.displayName=="string"||r.displayName instanceof String)&&r.displayName.startsWith("Memo(")}function Ao(r){return $s(r)?u3.apply(null,arguments):r}function S6(r){return!!r.__k&&(na(null,r),!0)}function A6(r){return r&&(r.base||r.nodeType===1&&r)||null}var N6=function(r,e){return r(e)},hf=function(r,e){return r(e)},E6=P;function pf(r){r()}function T6(r){return r}function k6(){return[!1,pf]}var I6=xi,x6=$s;function P6(r,e){var t=e(),n=O({h:{__:t,v:e}}),i=n[0].h,a=n[1];return xi(function(){i.__=t,i.v=e,vu(i)&&a({h:i})},[r,t,e]),Z(function(){return vu(i)&&a({h:i}),r(function(){vu(i)&&a({h:i})})},[r]),t}function vu(r){var e,t,n=r.v,i=r.__;try{var a=n();return!((e=i)===(t=a)&&(e!==0||1/e==1/t)||e!=e&&t!=t)}catch{return!0}}var W={useState:O,useId:m3,useReducer:hd,useEffect:Z,useLayoutEffect:xi,useInsertionEffect:I6,useTransition:k6,useDeferredValue:T6,useSyncExternalStore:P6,startTransition:pf,useRef:Ot,useImperativeHandle:p3,useMemo:Me,useCallback:nn,useContext:Yt,useDebugValue:f3,version:"17.0.2",Children:Aa,render:v6,hydrate:_6,unmountComponentAtNode:S6,createPortal:m6,createElement:Re,createContext:Ft,createFactory:C6,cloneElement:Ao,createRef:wr,Fragment:P,isValidElement:$s,isElement:x6,isFragment:b6,isMemo:w6,findDOMNode:A6,Component:Le,PureComponent:Pl,memo:df,forwardRef:Sa,flushSync:hf,unstable_batchedUpdates:N6,StrictMode:E6,Suspense:ds,SuspenseList:Ko,lazy:f6,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:y6};const D6=Object.freeze(Object.defineProperty({__proto__:null,Children:Aa,Component:Le,Fragment:P,PureComponent:Pl,StrictMode:E6,Suspense:ds,SuspenseList:Ko,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:y6,cloneElement:Ao,createContext:Ft,createElement:Re,createFactory:C6,createPortal:m6,createRef:wr,default:W,findDOMNode:A6,flushSync:hf,forwardRef:Sa,hydrate:_6,isElement:x6,isFragment:b6,isMemo:w6,isValidElement:$s,lazy:f6,memo:df,render:v6,startTransition:pf,unmountComponentAtNode:S6,unstable_batchedUpdates:N6,useCallback:nn,useContext:Yt,useDebugValue:f3,useDeferredValue:T6,useEffect:Z,useErrorBoundary:J5,useId:m3,useImperativeHandle:p3,useInsertionEffect:I6,useLayoutEffect:xi,useMemo:Me,useReducer:hd,useRef:Ot,useState:O,useSyncExternalStore:P6,useTransition:k6,version:n4},Symbol.toStringTag,{value:"Module"}));function X(r,e,t=!1){const[n,i]=O(e),[a,s]=O(t),[[c,l],d]=O([null,null]);Z(()=>{t&&u()},[JSON.stringify(e)]);async function u(h=e){s(!0),i(h),d([null,null]);const[p,f]=await r(h);return d([p,f]),s(!1),[p,f]}return{makeRequest:u,response:c,error:l,isLoading:a,variables:n}}let r4={data:""},i4=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||r4,o4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a4=/\/\*[^]*?\*\/|  +/g,Cg=/\n+/g,fi=(r,e)=>{let t="",n="",i="";for(let a in r){let s=r[a];a[0]=="@"?a[1]=="i"?t=a+" "+s+";":n+=a[1]=="f"?fi(s,a):a+"{"+fi(s,a[1]=="k"?"":e)+"}":typeof s=="object"?n+=fi(s,e?e.replace(/([^,])+/g,c=>a.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,c):c?c+" "+l:l)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=fi.p?fi.p(a,s):a+":"+s+";")}return t+(e&&i?e+"{"+i+"}":i)+n},Dr={},O6=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+O6(r[t]);return e}return r},s4=(r,e,t,n,i)=>{let a=O6(r),s=Dr[a]||(Dr[a]=(l=>{let d=0,u=11;for(;d<l.length;)u=101*u+l.charCodeAt(d++)>>>0;return"go"+u})(a));if(!Dr[s]){let l=a!==r?r:(d=>{let u,h,p=[{}];for(;u=o4.exec(d.replace(a4,""));)u[4]?p.shift():u[3]?(h=u[3].replace(Cg," ").trim(),p.unshift(p[0][h]=p[0][h]||{})):p[0][u[1]]=u[2].replace(Cg," ").trim();return p[0]})(r);Dr[s]=fi(i?{["@keyframes "+s]:l}:l,t?"":"."+s)}let c=t&&Dr.g?Dr.g:null;return t&&(Dr.g=Dr[s]),((l,d,u,h)=>{h?d.data=d.data.replace(h,l):d.data.indexOf(l)===-1&&(d.data=u?l+d.data:d.data+l)})(Dr[s],e,n,c),s},c4=(r,e,t)=>r.reduce((n,i,a)=>{let s=e[a];if(s&&s.call){let c=s(t),l=c&&c.props&&c.props.className||/^go/.test(c)&&c;s=l?"."+l:c&&typeof c=="object"?c.props?"":fi(c,""):c===!1?"":c}return n+i+(s??"")},"");function Ed(r){let e=this||{},t=r.call?r(e.p):r;return s4(t.unshift?t.raw?c4(t,[].slice.call(arguments,1),e.p):t.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):t,i4(e.target),e.g,e.o,e.k)}let R6,kh,Ih;Ed.bind({g:1});let ri=Ed.bind({k:1});function l4(r,e,t,n){fi.p=e,R6=r,kh=t,Ih=n}function Pi(r,e){let t=this||{};return function(){let n=arguments;function i(a,s){let c=Object.assign({},a),l=c.className||i.className;t.p=Object.assign({theme:kh&&kh()},c),t.o=/ *go\d+/.test(l),c.className=Ed.apply(t,n)+(l?" "+l:""),e&&(c.ref=s);let d=r;return r[0]&&(d=c.as||r,delete c.as),Ih&&d[0]&&Ih(c),R6(d,c)}return e?e(i):i}}var d4=r=>typeof r=="function",Dl=(r,e)=>d4(r)?r(e):r,u4=(()=>{let r=0;return()=>(++r).toString()})(),M6=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),h4=20,Zc=new Map,p4=1e3,bg=r=>{if(Zc.has(r))return;let e=setTimeout(()=>{Zc.delete(r),No({type:4,toastId:r})},p4);Zc.set(r,e)},f4=r=>{let e=Zc.get(r);e&&clearTimeout(e)},xh=(r,e)=>{switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,h4)};case 1:return e.toast.id&&f4(e.toast.id),{...r,toasts:r.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:t}=e;return r.toasts.find(a=>a.id===t.id)?xh(r,{type:1,toast:t}):xh(r,{type:0,toast:t});case 3:let{toastId:n}=e;return n?bg(n):r.toasts.forEach(a=>{bg(a.id)}),{...r,toasts:r.toasts.map(a=>a.id===n||n===void 0?{...a,visible:!1}:a)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let i=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},Xc=[],Jc={toasts:[],pausedAt:void 0},No=r=>{Jc=xh(Jc,r),Xc.forEach(e=>{e(Jc)})},m4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},g4=(r={})=>{let[e,t]=O(Jc);Z(()=>(Xc.push(t),()=>{let i=Xc.indexOf(t);i>-1&&Xc.splice(i,1)}),[e]);let n=e.toasts.map(i=>{var a,s;return{...r,...r[i.type],...i,duration:i.duration||((a=r[i.type])==null?void 0:a.duration)||(r==null?void 0:r.duration)||m4[i.type],style:{...r.style,...(s=r[i.type])==null?void 0:s.style,...i.style}}});return{...e,toasts:n}},v4=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:(t==null?void 0:t.id)||u4()}),Bs=r=>(e,t)=>{let n=v4(e,r,t);return No({type:2,toast:n}),n.id},In=(r,e)=>Bs("blank")(r,e);In.error=Bs("error");In.success=Bs("success");In.loading=Bs("loading");In.custom=Bs("custom");In.dismiss=r=>{No({type:3,toastId:r})};In.remove=r=>No({type:4,toastId:r});In.promise=(r,e,t)=>{let n=In.loading(e.loading,{...t,...t==null?void 0:t.loading});return r.then(i=>(In.success(Dl(e.success,i),{id:n,...t,...t==null?void 0:t.success}),i)).catch(i=>{In.error(Dl(e.error,i),{id:n,...t,...t==null?void 0:t.error})}),r};var _4=(r,e)=>{No({type:1,toast:{id:r,height:e}})},y4=()=>{No({type:5,time:Date.now()})},C4=r=>{let{toasts:e,pausedAt:t}=g4(r);Z(()=>{if(t)return;let a=Date.now(),s=e.map(c=>{if(c.duration===1/0)return;let l=(c.duration||0)+c.pauseDuration-(a-c.createdAt);if(l<0){c.visible&&In.dismiss(c.id);return}return setTimeout(()=>In.dismiss(c.id),l)});return()=>{s.forEach(c=>c&&clearTimeout(c))}},[e,t]);let n=nn(()=>{t&&No({type:6,time:Date.now()})},[t]),i=nn((a,s)=>{let{reverseOrder:c=!1,gutter:l=8,defaultPosition:d}=s||{},u=e.filter(f=>(f.position||d)===(a.position||d)&&f.height),h=u.findIndex(f=>f.id===a.id),p=u.filter((f,g)=>g<h&&f.visible).length;return u.filter(f=>f.visible).slice(...c?[p+1]:[0,p]).reduce((f,g)=>f+(g.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:_4,startPause:y4,endPause:n,calculateOffset:i}}},b4=ri`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,w4=ri`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,S4=ri`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,A4=Pi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${b4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${w4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${S4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,N4=ri`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,E4=Pi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${N4} 1s linear infinite;
`,T4=ri`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,k4=ri`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,I4=Pi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${T4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${k4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,x4=Pi("div")`
  position: absolute;
`,P4=Pi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,D4=ri`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,O4=Pi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${D4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,R4=({toast:r})=>{let{icon:e,type:t,iconTheme:n}=r;return e!==void 0?typeof e=="string"?Re(O4,null,e):e:t==="blank"?null:Re(P4,null,Re(E4,{...n}),t!=="loading"&&Re(x4,null,t==="error"?Re(A4,{...n}):Re(I4,{...n})))},M4=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,L4=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,F4="0%{opacity:0;} 100%{opacity:1;}",H4="0%{opacity:1;} 100%{opacity:0;}",U4=Pi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,$4=Pi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,B4=(r,e)=>{let t=r.includes("top")?1:-1,[n,i]=M6()?[F4,H4]:[M4(t),L4(t)];return{animation:e?`${ri(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ri(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},V4=df(({toast:r,position:e,style:t,children:n})=>{let i=r.height?B4(r.position||e||"top-center",r.visible):{opacity:0},a=Re(R4,{toast:r}),s=Re($4,{...r.ariaProps},Dl(r.message,r));return Re(U4,{className:r.className,style:{...i,...t,...r.style}},typeof n=="function"?n({icon:a,message:s}):Re(P,null,a,s))});l4(Re);var Y4=({id:r,className:e,style:t,onHeightUpdate:n,children:i})=>{let a=nn(s=>{if(s){let c=()=>{let l=s.getBoundingClientRect().height;n(r,l)};c(),new MutationObserver(c).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[r,n]);return Re("div",{ref:a,className:e,style:t},i)},W4=(r,e)=>{let t=r.includes("top"),n=t?{top:0}:{bottom:0},i=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:M6()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...n,...i}},z4=Ed`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,uc=16,j4=({reverseOrder:r,position:e="top-center",toastOptions:t,gutter:n,children:i,containerStyle:a,containerClassName:s})=>{let{toasts:c,handlers:l}=C4(t);return Re("div",{style:{position:"fixed",zIndex:9999,top:uc,left:uc,right:uc,bottom:uc,pointerEvents:"none",...a},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},c.map(d=>{let u=d.position||e,h=l.calculateOffset(d,{reverseOrder:r,gutter:n,defaultPosition:e}),p=W4(u,h);return Re(Y4,{id:d.id,key:d.id,onHeightUpdate:l.updateHeight,className:d.visible?z4:"",style:p},d.type==="custom"?Dl(d.message,d):i?i(d):Re(V4,{toast:d,position:u}))}))};function q4(r){let e,t,n,i=r.split("");for(n=i.length-1;n>0;n--)e=Math.floor(Math.random()*(n+1)),t=i[n],i[n]=i[e],i[e]=t;return i.join("")}const Ge=r=>{let e="",t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";const n=t.length;t=q4(t);for(let i=0;i<r;i++)e+=t.charAt(Math.floor(Math.random()*n));return e};function Ar(r){return r?r.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "):"-"}function ff(r){const e=new URLSearchParams;return Object.keys(r).map(t=>{typeof r[t]=="string"&&(r[t]=`${r[t]}`.trim()),r[t]&&e.set(t,r[t])}),e}const L6=r=>{const e=n=>n.replace(/([A-Z])/g," $1").replace(/([a-z])([A-Z])/g,"$1 $2").replace(/^./,i=>i.toUpperCase()).replace(/Cert$/," Cert").replace(/Doc$/," Doc").trim(),t=[];for(const[n,i]of Object.entries(r))if(n.endsWith("Type")||n.endsWith("Doc")){const a=n.replace(/Type$|Doc$/,""),s=e(a);n==="otherCertName"?t.push({name:"Other Cert",type:r.otherCertType,doc:r.otherCert,otherCertName:i}):t.some(c=>c.name===s)||t.push({name:s,type:r[`${a}Type`]||null,doc:r[`${a}Doc`]||null})}return t.filter(n=>n.type||n.doc)};function gn(r){return r.toLowerCase().split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}function K4(r){return r.split(" ").map(e=>e.charAt(0).toUpperCase()).join("")}function Er(r,e,t){const n=(e-1)*t,i=n+t;return r.slice(n,i)}const F6=[{label:"Full Access",value:"FULL_ACCESS"},{label:"Create Permit",value:"CREATE_PERMIT"},{label:"Process Permit",value:"PROCESS_PERMIT"},{label:"Delete User",value:"DELETE_USER"},{label:"Create Internal User",value:"CREATE_INTERNAL_USER"},{label:"Edit Internal User",value:"EDIT_INTERNAL_USER"},{label:"Create External User",value:"CREATE_EXTERNAL_USER"},{label:"Edit External User",value:"EDIT_EXTERNAL_USER"},{label:"Create Role",value:"CREATE_ROLE"},{label:"Edit Role",value:"EDIT_ROLE"},{label:"Create Location",value:"CREATE_LOCATION"},{label:"Edit Location",value:"EDIT_LOCATION"},{label:"Create Company",value:"CREATE_COMPANY"},{label:"Edit Company",value:"EDIT_COMPANY"}],H6=[{label:"Performing Authority",value:"PERFORMING"},{label:"Issuing Authority",value:"ISSUING"},{label:"HSE Authority",value:"HSE"},{label:"Authorizing Authority",value:"AUTHORIZING"},{label:"Performing Authorizing Supervisor",value:"PERFORMING_SUPERVISOR"},{label:"Safety Officer",value:"SAFETY_OFFICER"},{label:"Issuing Authorizing Supervisor",value:"ISSUING_SUPERVISOR"}];function q({variant:r,message:e}){const t={success:{icon:"✅",style:{borderLeft:"4px solid green"}},error:{icon:"❌",style:{borderLeft:"4px solid red"}}};In(Ar(e.toString()),t[r])}function G4(){return o(j4,{position:"top-right",reverseOrder:!1,gutter:4,containerClassName:"",containerStyle:{},toastOptions:{className:"",duration:5e3,style:{background:"#fff",color:"#393d45",borderRadius:"4px"}}})}const U6=Ft({});function Q4({children:r}){const e=Me(()=>{try{return JSON.parse(localStorage.getItem("auth_profile"))}catch{return null}},[]),[t,n]=O(localStorage.getItem("auth_token")),[i,a]=O(e),s=!!t;function c(d){d!=null&&d.token&&(localStorage.setItem("auth_token",d==null?void 0:d.token),n(d.token)),d!=null&&d.profile&&(localStorage.setItem("auth_profile",JSON.stringify(d.profile)),a(d.profile)),V("/select-permit-role")}function l(){localStorage.removeItem("auth_token"),localStorage.removeItem("auth_profile"),n(""),a(""),V("/login")}return o(U6.Provider,{value:{login:c,logout:l,profile:i,isAuthenticated:s},children:r})}function vn(){return Yt(U6)}async function K(r,e,t,n){try{const i={method:e,headers:{"Content-Type":`${n==="multipart/form-data"?"":"application/json"}`,Authorization:`Bearer ${localStorage.getItem("auth_token")}`}};t&&(i.body=JSON.stringify(t));const a=await fetch(`https://eptw.ankursolutions.com/api${r}`,i),s=await a.json();if(a.status==401)localStorage.removeItem("auth_token"),localStorage.removeItem("auth_profile"),V("/login");else return a.ok?[s,null]:[null,s]}catch(i){return console.log(i),[null,{message:"Something went wrong, please try again"}]}}function Z4(r){return K("/auth/login","post",r)}function X4(r){return K("/auth/microsoft","post",r)}function $6(r){return K("/auth/forgot-password","post",r)}function J4(r){return K("/auth/forgot-password/verify","post",r)}function eb(r){return K("/auth/forgot-password/reset","post",r)}function tb(r){return K("/auth/external-user/onboard","POST",r)}function Eo(r){this._maxSize=r,this.clear()}Eo.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Eo.prototype.get=function(r){return this._values[r]};Eo.prototype.set=function(r,e){return this._size>=this._maxSize&&this.clear(),r in this._values||this._size++,this._values[r]=e};var nb=/[^.^\]^[]+|(?=\[\]|\.\.)/g,B6=/^\d+$/,rb=/^\d/,ib=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,ob=/^\s*(['"]?)(.*?)(\1)\s*$/,mf=512,wg=new Eo(mf),Sg=new Eo(mf),Ag=new Eo(mf),eo={Cache:Eo,split:Ph,normalizePath:_u,setter:function(r){var e=_u(r);return Sg.get(r)||Sg.set(r,function(n,i){for(var a=0,s=e.length,c=n;a<s-1;){var l=e[a];if(l==="__proto__"||l==="constructor"||l==="prototype")return n;c=c[e[a++]]}c[e[a]]=i})},getter:function(r,e){var t=_u(r);return Ag.get(r)||Ag.set(r,function(i){for(var a=0,s=t.length;a<s;)if(i!=null||!e)i=i[t[a++]];else return;return i})},join:function(r){return r.reduce(function(e,t){return e+(gf(t)||B6.test(t)?"["+t+"]":(e?".":"")+t)},"")},forEach:function(r,e,t){ab(Array.isArray(r)?r:Ph(r),e,t)}};function _u(r){return wg.get(r)||wg.set(r,Ph(r).map(function(e){return e.replace(ob,"$2")}))}function Ph(r){return r.match(nb)||[""]}function ab(r,e,t){var n=r.length,i,a,s,c;for(a=0;a<n;a++)i=r[a],i&&(lb(i)&&(i='"'+i+'"'),c=gf(i),s=!c&&/^\d+$/.test(i),e.call(t,i,c,s,a,r))}function gf(r){return typeof r=="string"&&r&&["'",'"'].indexOf(r.charAt(0))!==-1}function sb(r){return r.match(rb)&&!r.match(B6)}function cb(r){return ib.test(r)}function lb(r){return!gf(r)&&(sb(r)||cb(r))}const db=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Td=r=>r.match(db)||[],kd=r=>r[0].toUpperCase()+r.slice(1),vf=(r,e)=>Td(r).join(e).toLowerCase(),V6=r=>Td(r).reduce((e,t)=>`${e}${e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}`,""),ub=r=>kd(V6(r)),hb=r=>vf(r,"_"),pb=r=>vf(r,"-"),fb=r=>kd(vf(r," ")),mb=r=>Td(r).map(kd).join(" ");var yu={words:Td,upperFirst:kd,camelCase:V6,pascalCase:ub,snakeCase:hb,kebabCase:pb,sentenceCase:fb,titleCase:mb},_f={exports:{}};_f.exports=function(r){return Y6(gb(r),r)};_f.exports.array=Y6;function Y6(r,e){var t=r.length,n=new Array(t),i={},a=t,s=vb(e),c=_b(r);for(e.forEach(function(d){if(!c.has(d[0])||!c.has(d[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});a--;)i[a]||l(r[a],a,new Set);return n;function l(d,u,h){if(h.has(d)){var p;try{p=", node was:"+JSON.stringify(d)}catch{p=""}throw new Error("Cyclic dependency"+p)}if(!c.has(d))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(d));if(!i[u]){i[u]=!0;var f=s.get(d)||new Set;if(f=Array.from(f),u=f.length){h.add(d);do{var g=f[--u];l(g,c.get(g),h)}while(u);h.delete(d)}n[--t]=d}}}function gb(r){for(var e=new Set,t=0,n=r.length;t<n;t++){var i=r[t];e.add(i[0]),e.add(i[1])}return Array.from(e)}function vb(r){for(var e=new Map,t=0,n=r.length;t<n;t++){var i=r[t];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function _b(r){for(var e=new Map,t=0,n=r.length;t<n;t++)e.set(r[t],t);return e}var yb=_f.exports;const Cb=Us(yb),bb=Object.prototype.toString,wb=Error.prototype.toString,Sb=RegExp.prototype.toString,Ab=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Nb=/^Symbol\((.*)\)(.*)$/;function Eb(r){return r!=+r?"NaN":r===0&&1/r<0?"-0":""+r}function Ng(r,e=!1){if(r==null||r===!0||r===!1)return""+r;const t=typeof r;if(t==="number")return Eb(r);if(t==="string")return e?`"${r}"`:r;if(t==="function")return"[Function "+(r.name||"anonymous")+"]";if(t==="symbol")return Ab.call(r).replace(Nb,"Symbol($1)");const n=bb.call(r).slice(8,-1);return n==="Date"?isNaN(r.getTime())?""+r:r.toISOString(r):n==="Error"||r instanceof Error?"["+wb.call(r)+"]":n==="RegExp"?Sb.call(r):null}function Kr(r,e){let t=Ng(r,e);return t!==null?t:JSON.stringify(r,function(n,i){let a=Ng(this[n],e);return a!==null?a:i},2)}function W6(r){return r==null?[]:[].concat(r)}let z6,j6,q6,Tb=/\$\{\s*(\w+)\s*\}/g;z6=Symbol.toStringTag;class Eg{constructor(e,t,n,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[z6]="Error",this.name="ValidationError",this.value=t,this.path=n,this.type=i,this.errors=[],this.inner=[],W6(e).forEach(a=>{if(pn.isError(a)){this.errors.push(...a.errors);const s=a.inner.length?a.inner:[a];this.inner.push(...s)}else this.errors.push(a)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}j6=Symbol.hasInstance;q6=Symbol.toStringTag;class pn extends Error{static formatError(e,t){const n=t.label||t.path||"this";return n!==t.path&&(t=Object.assign({},t,{path:n})),typeof e=="string"?e.replace(Tb,(i,a)=>Kr(t[a])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,n,i,a){const s=new Eg(e,t,n,i);if(a)return s;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[q6]="Error",this.name=s.name,this.message=s.message,this.type=s.type,this.value=s.value,this.path=s.path,this.errors=s.errors,this.inner=s.inner,Error.captureStackTrace&&Error.captureStackTrace(this,pn)}static[j6](e){return Eg[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let sr={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:r,type:e,value:t,originalValue:n})=>{const i=n!=null&&n!==t?` (cast from the value \`${Kr(n,!0)}\`).`:".";return e!=="mixed"?`${r} must be a \`${e}\` type, but the final value was: \`${Kr(t,!0)}\``+i:`${r} must match the configured type. The validated value was: \`${Kr(t,!0)}\``+i}},un={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},pi={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Dh={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},kb={isValue:"${path} field must be ${value}"},Oh={noUnknown:"${path} field has unspecified keys: ${unknown}"},el={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Ib={notType:r=>{const{path:e,value:t,spec:n}=r,i=n.types.length;if(Array.isArray(t)){if(t.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${t.length} for value: \`${Kr(t,!0)}\``;if(t.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${t.length} for value: \`${Kr(t,!0)}\``}return pn.formatError(sr.notType,r)}};Object.assign(Object.create(null),{mixed:sr,string:un,number:pi,date:Dh,object:Oh,array:el,boolean:kb,tuple:Ib});const Id=r=>r&&r.__isYupSchema__;class Ol{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:i,otherwise:a}=t,s=typeof n=="function"?n:(...c)=>c.every(l=>l===n);return new Ol(e,(c,l)=>{var d;let u=s(...c)?i:a;return(d=u==null?void 0:u(l))!=null?d:l})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let n=this.refs.map(a=>a.getValue(t==null?void 0:t.value,t==null?void 0:t.parent,t==null?void 0:t.context)),i=this.fn(n,e,t);if(i===void 0||i===e)return e;if(!Id(i))throw new TypeError("conditions must return a schema object");return i.resolve(t)}}const hc={context:"$",value:"."};function xb(r,e){return new Di(r,e)}class Di{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===hc.context,this.isValue=this.key[0]===hc.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?hc.context:this.isValue?hc.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&eo.getter(this.path,!0),this.map=t.map}getValue(e,t,n){let i=this.isContext?n:this.isValue?e:t;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,t){return this.getValue(e,t==null?void 0:t.parent,t==null?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Di.prototype.__isYupRef=!0;const Yr=r=>r==null;function Oo(r){function e({value:t,path:n="",options:i,originalValue:a,schema:s},c,l){const{name:d,test:u,params:h,message:p,skipAbsent:f}=r;let{parent:g,context:m,abortEarly:v=s.spec.abortEarly,disableStackTrace:_=s.spec.disableStackTrace}=i;function y(E){return Di.isRef(E)?E.getValue(t,g,m):E}function w(E={}){const I=Object.assign({value:t,originalValue:a,label:s.spec.label,path:E.path||n,spec:s.spec,disableStackTrace:E.disableStackTrace||_},h,E.params);for(const M of Object.keys(I))I[M]=y(I[M]);const R=new pn(pn.formatError(E.message||p,I),t,I.path,E.type||d,I.disableStackTrace);return R.params=I,R}const b=v?c:l;let C={path:n,parent:g,type:d,from:i.from,createError:w,resolve:y,options:i,originalValue:a,schema:s};const N=E=>{pn.isError(E)?b(E):E?l(null):b(w())},S=E=>{pn.isError(E)?b(E):c(E)};if(f&&Yr(t))return N(!0);let T;try{var A;if(T=u.call(C,t,C),typeof((A=T)==null?void 0:A.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${C.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(T).then(N,S)}}catch(E){S(E);return}N(T)}return e.OPTIONS=r,e}function Pb(r,e,t,n=t){let i,a,s;return e?(eo.forEach(e,(c,l,d)=>{let u=l?c.slice(1,c.length-1):c;r=r.resolve({context:n,parent:i,value:t});let h=r.type==="tuple",p=d?parseInt(u,10):0;if(r.innerType||h){if(h&&!d)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${s}" must contain an index to the tuple element, e.g. "${s}[0]"`);if(t&&p>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${c}, in the path: ${e}. because there is no value at that index. `);i=t,t=t&&t[p],r=h?r.spec.types[p]:r.innerType}if(!d){if(!r.fields||!r.fields[u])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${s} which is a type: "${r.type}")`);i=t,t=t&&t[u],r=r.fields[u]}a=u,s=l?"["+c+"]":"."+c}),{schema:r,parent:i,parentPath:a}):{parent:i,parentPath:e,schema:r}}class Rl extends Set{describe(){const e=[];for(const t of this.values())e.push(Di.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const n of this.values())t.push(e(n));return t}clone(){return new Rl(this.values())}merge(e,t){const n=this.clone();return e.forEach(i=>n.add(i)),t.forEach(i=>n.delete(i)),n}}function Go(r,e=new Map){if(Id(r)||!r||typeof r!="object")return r;if(e.has(r))return e.get(r);let t;if(r instanceof Date)t=new Date(r.getTime()),e.set(r,t);else if(r instanceof RegExp)t=new RegExp(r),e.set(r,t);else if(Array.isArray(r)){t=new Array(r.length),e.set(r,t);for(let n=0;n<r.length;n++)t[n]=Go(r[n],e)}else if(r instanceof Map){t=new Map,e.set(r,t);for(const[n,i]of r.entries())t.set(n,Go(i,e))}else if(r instanceof Set){t=new Set,e.set(r,t);for(const n of r)t.add(Go(n,e))}else if(r instanceof Object){t={},e.set(r,t);for(const[n,i]of Object.entries(r))t[n]=Go(i,e)}else throw Error(`Unable to clone ${r}`);return t}class Hn{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Rl,this._blacklist=new Rl,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(sr.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=Go(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=t,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,n=e.clone();const i=Object.assign({},t.spec,n.spec);return n.spec=i,n.internalTests=Object.assign({},t.internalTests,n.internalTests),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation(a=>{e.tests.forEach(s=>{a.test(s.OPTIONS)})}),n.transforms=[...t.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let n=t.conditions;t=t.clone(),t.conditions=[],t=n.reduce((i,a)=>a.resolve(i,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,n,i,a;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(a=e.disableStackTrace)!=null?a:this.spec.disableStackTrace})}cast(e,t={}){let n=this.resolve(Object.assign({value:e},t)),i=t.assert==="ignore-optionality",a=n._cast(e,t);if(t.assert!==!1&&!n.isType(a)){if(i&&Yr(a))return a;let s=Kr(e),c=Kr(a);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${s} 
`+(c!==s?`result of cast: ${c}`:""))}return a}_cast(e,t){let n=e===void 0?e:this.transforms.reduce((i,a)=>a.call(this,i,e,this),e);return n===void 0&&(n=this.getDefault(t)),n}_validate(e,t={},n,i){let{path:a,originalValue:s=e,strict:c=this.spec.strict}=t,l=e;c||(l=this._cast(l,Object.assign({assert:!1},t)));let d=[];for(let u of Object.values(this.internalTests))u&&d.push(u);this.runTests({path:a,value:l,originalValue:s,options:t,tests:d},n,u=>{if(u.length)return i(u,l);this.runTests({path:a,value:l,originalValue:s,options:t,tests:this.tests},n,i)})}runTests(e,t,n){let i=!1,{tests:a,value:s,originalValue:c,path:l,options:d}=e,u=m=>{i||(i=!0,t(m,s))},h=m=>{i||(i=!0,n(m,s))},p=a.length,f=[];if(!p)return h([]);let g={value:s,originalValue:c,path:l,options:d,schema:this};for(let m=0;m<a.length;m++){const v=a[m];v(g,u,function(y){y&&(Array.isArray(y)?f.push(...y):f.push(y)),--p<=0&&h(f)})}}asNestedTest({key:e,index:t,parent:n,parentPath:i,originalParent:a,options:s}){const c=e??t;if(c==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof c=="number";let d=n[c];const u=Object.assign({},s,{strict:!0,parent:n,value:d,originalValue:a[c],key:void 0,[l?"index":"key"]:c,path:l||c.includes(".")?`${i||""}[${l?c:`"${c}"`}]`:(i?`${i}.`:"")+e});return(h,p,f)=>this.resolve(u)._validate(d,u,p,f)}validate(e,t){var n;let i=this.resolve(Object.assign({},t,{value:e})),a=(n=t==null?void 0:t.disableStackTrace)!=null?n:i.spec.disableStackTrace;return new Promise((s,c)=>i._validate(e,t,(l,d)=>{pn.isError(l)&&(l.value=d),c(l)},(l,d)=>{l.length?c(new pn(l,d,void 0,void 0,a)):s(d)}))}validateSync(e,t){var n;let i=this.resolve(Object.assign({},t,{value:e})),a,s=(n=t==null?void 0:t.disableStackTrace)!=null?n:i.spec.disableStackTrace;return i._validate(e,Object.assign({},t,{sync:!0}),(c,l)=>{throw pn.isError(c)&&(c.value=l),c},(c,l)=>{if(c.length)throw new pn(c,e,void 0,void 0,s);a=l}),a}isValid(e,t){return this.validate(e,t).then(()=>!0,n=>{if(pn.isError(n))return!1;throw n})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(n){if(pn.isError(n))return!1;throw n}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):Go(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const n=this.clone({nullable:e});return n.internalTests.nullable=Oo({message:t,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),n}optionality(e,t){const n=this.clone({optional:e});return n.internalTests.optionality=Oo({message:t,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=sr.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=sr.notNull){return this.nullability(!1,e)}required(e=sr.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=sr.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),i=Oo(t),a=t.exclusive||t.name&&n.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(n.exclusiveTests[t.name]=!!t.exclusive),n.tests=n.tests.filter(s=>!(s.OPTIONS.name===t.name&&(a||s.OPTIONS.test===i.OPTIONS.test))),n.tests.push(i),n}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let n=this.clone(),i=W6(e).map(a=>new Di(a));return i.forEach(a=>{a.isSibling&&n.deps.push(a.key)}),n.conditions.push(typeof t=="function"?new Ol(i,t):Ol.fromOptions(i,t)),n}typeError(e){let t=this.clone();return t.internalTests.typeError=Oo({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=sr.oneOf){let n=this.clone();return e.forEach(i=>{n._whitelist.add(i),n._blacklist.delete(i)}),n.internalTests.whiteList=Oo({message:t,name:"oneOf",skipAbsent:!0,test(i){let a=this.schema._whitelist,s=a.resolveAll(this.resolve);return s.includes(i)?!0:this.createError({params:{values:Array.from(a).join(", "),resolved:s}})}}),n}notOneOf(e,t=sr.notOneOf){let n=this.clone();return e.forEach(i=>{n._blacklist.add(i),n._whitelist.delete(i)}),n.internalTests.blacklist=Oo({message:t,name:"notOneOf",test(i){let a=this.schema._blacklist,s=a.resolveAll(this.resolve);return s.includes(i)?this.createError({params:{values:Array.from(a).join(", "),resolved:s}}):!0}}),n}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:n,meta:i,optional:a,nullable:s}=t.spec;return{meta:i,label:n,optional:a,nullable:s,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,d,u)=>u.findIndex(h=>h.name===l.name)===d)}}}Hn.prototype.__isYupSchema__=!0;for(const r of["validate","validateSync"])Hn.prototype[`${r}At`]=function(e,t,n={}){const{parent:i,parentPath:a,schema:s}=Pb(this,e,t,n.context);return s[r](i&&i[a],Object.assign({},n,{parent:i,path:e}))};for(const r of["equals","is"])Hn.prototype[r]=Hn.prototype.oneOf;for(const r of["not","nope"])Hn.prototype[r]=Hn.prototype.notOneOf;const Db=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Ob(r){const e=Rh(r);if(!e)return Date.parse?Date.parse(r):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function Rh(r){var e,t;const n=Db.exec(r);return n?{year:Or(n[1]),month:Or(n[2],1)-1,day:Or(n[3],1),hour:Or(n[4]),minute:Or(n[5]),second:Or(n[6]),millisecond:n[7]?Or(n[7].substring(0,3)):0,precision:(e=(t=n[7])==null?void 0:t.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:Or(n[10]),minuteOffset:Or(n[11])}:null}function Or(r,e=0){return Number(r)||e}let Rb=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Mb=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Lb=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Fb="^\\d{4}-\\d{2}-\\d{2}",Hb="\\d{2}:\\d{2}:\\d{2}",Ub="(([+-]\\d{2}(:?\\d{2})?)|Z)",$b=new RegExp(`${Fb}T${Hb}(\\.\\d+)?${Ub}$`),Bb=r=>Yr(r)||r===r.trim(),Vb={}.toString();function oe(){return new K6}class K6 extends Hn{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===Vb?e:i})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||sr.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=un.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,t=un.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,t=un.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,t){let n=!1,i,a;return t&&(typeof t=="object"?{excludeEmptyString:n=!1,message:i,name:a}=t:i=t),this.test({name:a||"matches",message:i||un.matches,params:{regex:e},skipAbsent:!0,test:s=>s===""&&n||s.search(e)!==-1})}email(e=un.email){return this.matches(Rb,{name:"email",message:e,excludeEmptyString:!0})}url(e=un.url){return this.matches(Mb,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=un.uuid){return this.matches(Lb,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",n,i;return e&&(typeof e=="object"?{message:t="",allowOffset:n=!1,precision:i=void 0}=e:t=e),this.matches($b,{name:"datetime",message:t||un.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||un.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:a=>{if(!a||n)return!0;const s=Rh(a);return s?!!s.z:!1}}).test({name:"datetime_precision",message:t||un.datetime_precision,params:{precision:i},skipAbsent:!0,test:a=>{if(!a||i==null)return!0;const s=Rh(a);return s?s.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=un.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:Bb})}lowercase(e=un.lowercase){return this.transform(t=>Yr(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Yr(t)||t===t.toLowerCase()})}uppercase(e=un.uppercase){return this.transform(t=>Yr(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Yr(t)||t===t.toUpperCase()})}}oe.prototype=K6.prototype;let Yb=r=>r!=+r;function fo(){return new G6}class G6 extends Hn{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!Yb(e)}}),this.withMutation(()=>{this.transform((e,t,n)=>{if(!n.spec.coerce)return e;let i=e;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return n.isType(i)||i===null?i:parseFloat(i)})})}min(e,t=pi.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(e)}})}max(e,t=pi.max){return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(e)}})}lessThan(e,t=pi.lessThan){return this.test({message:t,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(n){return n<this.resolve(e)}})}moreThan(e,t=pi.moreThan){return this.test({message:t,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(n){return n>this.resolve(e)}})}positive(e=pi.positive){return this.moreThan(0,e)}negative(e=pi.negative){return this.lessThan(0,e)}integer(e=pi.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:t=>Number.isInteger(t)})}truncate(){return this.transform(e=>Yr(e)?e:e|0)}round(e){var t;let n=["ceil","floor","round","trunc"];if(e=((t=e)==null?void 0:t.toLowerCase())||"round",e==="trunc")return this.truncate();if(n.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(i=>Yr(i)?i:Math[e](i))}}fo.prototype=G6.prototype;let Wb=new Date(""),zb=r=>Object.prototype.toString.call(r)==="[object Date]";class xd extends Hn{constructor(){super({type:"date",check(e){return zb(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=Ob(e),isNaN(e)?xd.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let n;if(Di.isRef(e))n=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);n=i}return n}min(e,t=Dh.min){let n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(n)}})}max(e,t=Dh.max){let n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(n)}})}}xd.INVALID_DATE=Wb;xd.prototype;function jb(r,e=[]){let t=[],n=new Set,i=new Set(e.map(([s,c])=>`${s}-${c}`));function a(s,c){let l=eo.split(s)[0];n.add(l),i.has(`${c}-${l}`)||t.push([c,l])}for(const s of Object.keys(r)){let c=r[s];n.add(s),Di.isRef(c)&&c.isSibling?a(c.path,s):Id(c)&&"deps"in c&&c.deps.forEach(l=>a(l,s))}return Cb.array(Array.from(n),t).reverse()}function Tg(r,e){let t=1/0;return r.some((n,i)=>{var a;if((a=e.path)!=null&&a.includes(n))return t=i,!0}),t}function Q6(r){return(e,t)=>Tg(r,e)-Tg(r,t)}const Z6=(r,e,t)=>{if(typeof r!="string")return r;let n=r;try{n=JSON.parse(r)}catch{}return t.isType(n)?n:r};function tl(r){if("fields"in r){const e={};for(const[t,n]of Object.entries(r.fields))e[t]=tl(n);return r.setFields(e)}if(r.type==="array"){const e=r.optional();return e.innerType&&(e.innerType=tl(e.innerType)),e}return r.type==="tuple"?r.optional().clone({types:r.spec.types.map(tl)}):"optional"in r?r.optional():r}const qb=(r,e)=>{const t=[...eo.normalizePath(e)];if(t.length===1)return t[0]in r;let n=t.pop(),i=eo.getter(eo.join(t),!0)(r);return!!(i&&n in i)};let kg=r=>Object.prototype.toString.call(r)==="[object Object]";function Kb(r,e){let t=Object.keys(r.fields);return Object.keys(e).filter(n=>t.indexOf(n)===-1)}const Gb=Q6([]);function re(r){return new X6(r)}class X6 extends Hn{constructor(e){super({type:"object",check(t){return kg(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=Gb,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var n;let i=super._cast(e,t);if(i===void 0)return this.getDefault(t);if(!this._typeCheck(i))return i;let a=this.fields,s=(n=t.stripUnknown)!=null?n:this.spec.noUnknown,c=[].concat(this._nodes,Object.keys(i).filter(h=>!this._nodes.includes(h))),l={},d=Object.assign({},t,{parent:l,__validating:t.__validating||!1}),u=!1;for(const h of c){let p=a[h],f=h in i;if(p){let g,m=i[h];d.path=(t.path?`${t.path}.`:"")+h,p=p.resolve({value:m,context:t.context,parent:l});let v=p instanceof Hn?p.spec:void 0,_=v==null?void 0:v.strict;if(v!=null&&v.strip){u=u||h in i;continue}g=!t.__validating||!_?p.cast(i[h],d):i[h],g!==void 0&&(l[h]=g)}else f&&!s&&(l[h]=i[h]);(f!==h in l||l[h]!==i[h])&&(u=!0)}return u?l:i}_validate(e,t={},n,i){let{from:a=[],originalValue:s=e,recursive:c=this.spec.recursive}=t;t.from=[{schema:this,value:s},...a],t.__validating=!0,t.originalValue=s,super._validate(e,t,n,(l,d)=>{if(!c||!kg(d)){i(l,d);return}s=s||d;let u=[];for(let h of this._nodes){let p=this.fields[h];!p||Di.isRef(p)||u.push(p.asNestedTest({options:t,key:h,parent:d,parentPath:t.path,originalParent:s}))}this.runTests({tests:u,value:d,originalValue:s,options:t},n,h=>{i(h.sort(this._sortErrors).concat(l),d)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),n=t.fields;for(let[i,a]of Object.entries(this.fields)){const s=n[i];n[i]=s===void 0?a:s}return t.withMutation(i=>i.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(n=>{var i;const a=this.fields[n];let s=e;(i=s)!=null&&i.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[n]})),t[n]=a&&"getDefault"in a?a.getDefault(s):void 0}),t}setFields(e,t){let n=this.clone();return n.fields=e,n._nodes=jb(e,t),n._sortErrors=Q6(Object.keys(e)),t&&(n._excludedEdges=t),n}shape(e,t=[]){return this.clone().withMutation(n=>{let i=n._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),i=[...n._excludedEdges,...t]),n.setFields(Object.assign(n.fields,e),i)})}partial(){const e={};for(const[t,n]of Object.entries(this.fields))e[t]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return tl(this)}pick(e){const t={};for(const n of e)this.fields[n]&&(t[n]=this.fields[n]);return this.setFields(t,this._excludedEdges.filter(([n,i])=>e.includes(n)&&e.includes(i)))}omit(e){const t=[];for(const n of Object.keys(this.fields))e.includes(n)||t.push(n);return this.pick(t)}from(e,t,n){let i=eo.getter(e,!0);return this.transform(a=>{if(!a)return a;let s=a;return qb(a,e)&&(s=Object.assign({},a),n||delete s[e],s[t]=i(a)),s})}json(){return this.transform(Z6)}noUnknown(e=!0,t=Oh.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:t,test(i){if(i==null)return!0;const a=Kb(this.schema,i);return!e||a.length===0||this.createError({params:{unknown:a.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,t=Oh.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const n={};for(const i of Object.keys(t))n[e(i)]=t[i];return n})}camelCase(){return this.transformKeys(yu.camelCase)}snakeCase(){return this.transformKeys(yu.snakeCase)}constantCase(){return this.transformKeys(e=>yu.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[a,s]of Object.entries(t.fields)){var i;let c=e;(i=c)!=null&&i.value&&(c=Object.assign({},c,{parent:c.value,value:c.value[a]})),n.fields[a]=s.describe(c)}return n}}re.prototype=X6.prototype;function bs(r){return new J6(r)}class J6 extends Hn{constructor(e){super({type:"array",spec:{types:e},check(t){return Array.isArray(t)}}),this.innerType=void 0,this.innerType=e}_cast(e,t){const n=super._cast(e,t);if(!this._typeCheck(n)||!this.innerType)return n;let i=!1;const a=n.map((s,c)=>{const l=this.innerType.cast(s,Object.assign({},t,{path:`${t.path||""}[${c}]`}));return l!==s&&(i=!0),l});return i?a:n}_validate(e,t={},n,i){var a;let s=this.innerType,c=(a=t.recursive)!=null?a:this.spec.recursive;t.originalValue!=null&&t.originalValue,super._validate(e,t,n,(l,d)=>{var u;if(!c||!s||!this._typeCheck(d)){i(l,d);return}let h=new Array(d.length);for(let f=0;f<d.length;f++){var p;h[f]=s.asNestedTest({options:t,index:f,parent:d,parentPath:t.path,originalParent:(p=t.originalValue)!=null?p:e})}this.runTests({value:d,tests:h,originalValue:(u=t.originalValue)!=null?u:e,options:t},n,f=>i(f.concat(l),d))})}clone(e){const t=super.clone(e);return t.innerType=this.innerType,t}json(){return this.transform(Z6)}concat(e){let t=super.concat(e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}of(e){let t=this.clone();if(!Id(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Kr(e));return t.innerType=e,t.spec=Object.assign({},t.spec,{types:e}),t}length(e,t=el.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,t){return t=t||el.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,t){return t=t||el.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,t)=>this._typeCheck(e)?e:t==null?[]:[].concat(t))}compact(e){let t=e?(n,i,a)=>!e(n,i,a):n=>!!n;return this.transform(n=>n!=null?n.filter(t):n)}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);if(t.innerType){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[0]})),n.innerType=t.innerType.describe(a)}return n}}bs.prototype=J6.prototype;/*! @azure/msal-react v2.2.0 2024-11-05 */const Qb={instance:O7,inProgress:$t.None,accounts:[],logger:new ti({})},yf=Ft(Qb);yf.Consumer;/*! @azure/msal-react v2.2.0 2024-11-05 */function Ig(r,e){if(r.length!==e.length)return!1;const t=[...e];return r.every(n=>{const i=t.shift();return!n||!i?!1:n.homeAccountId===i.homeAccountId&&n.localAccountId===i.localAccountId&&n.username===i.username})}/*! @azure/msal-react v2.2.0 2024-11-05 */const Zb="@azure/msal-react",xg="2.2.0";/*! @azure/msal-react v2.2.0 2024-11-05 */const Ml={UNBLOCK_INPROGRESS:"UNBLOCK_INPROGRESS",EVENT:"EVENT"},Xb=(r,e)=>{const{type:t,payload:n}=e;let i=r.inProgress;switch(t){case Ml.UNBLOCK_INPROGRESS:r.inProgress===$t.Startup&&(i=$t.None,n.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case Ml.EVENT:const s=n.message,c=R7.getInteractionStatusFromEvent(s,r.inProgress);c&&(n.logger.info(`MsalProvider - ${s.eventType} results in setting inProgress from ${r.inProgress} to ${c}`),i=c);break;default:throw new Error(`Unknown action type: ${t}`)}const a=n.instance.getAllAccounts();return i!==r.inProgress&&!Ig(a,r.accounts)?{...r,inProgress:i,accounts:a}:i!==r.inProgress?{...r,inProgress:i}:Ig(a,r.accounts)?r:{...r,accounts:a}};function Jb({instance:r,children:e}){Z(()=>{r.initializeWrapperLibrary(d9.React,xg)},[r]);const t=Me(()=>r.getLogger().clone(Zb,xg),[r]),[n,i]=hd(Xb,void 0,()=>({inProgress:$t.Startup,accounts:r.getAllAccounts()}));Z(()=>{const s=r.addEventCallback(c=>{i({payload:{instance:r,logger:t,message:c},type:Ml.EVENT})});return t.verbose(`MsalProvider - Registered event callback with id: ${s}`),r.initialize().then(()=>{r.handleRedirectPromise().catch(()=>{}).finally(()=>{i({payload:{instance:r,logger:t},type:Ml.UNBLOCK_INPROGRESS})})}).catch(()=>{}),()=>{s&&(t.verbose(`MsalProvider - Removing event callback ${s}`),r.removeEventCallback(s))}},[r,t]);const a={instance:r,inProgress:n.inProgress,accounts:n.accounts,logger:t};return W.createElement(yf.Provider,{value:a},e)}/*! @azure/msal-react v2.2.0 2024-11-05 */const e8=()=>Yt(yf);var e2={exports:{}},t8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",n8=t8,r8=n8;function t2(){}function n2(){}n2.resetWarningCache=t2;var i8=function(){function r(n,i,a,s,c,l){if(l!==r8){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}r.isRequired=r;function e(){return r}var t={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:e,element:r,elementType:r,instanceOf:e,node:r,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:n2,resetWarningCache:t2};return t.PropTypes=t,t};e2.exports=i8();var o8=e2.exports;const hn=Us(o8);var a8=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function Mh(){return Mh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Mh.apply(this,arguments)}function s8(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function pc(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function c8(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,Lh(r,e)}function Lh(r,e){return Lh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Lh(r,e)}var Pd=function(r){c8(e,r);function e(){var n;return n=r.call(this)||this,n.handleExpired=n.handleExpired.bind(pc(n)),n.handleErrored=n.handleErrored.bind(pc(n)),n.handleChange=n.handleChange.bind(pc(n)),n.handleRecaptchaRef=n.handleRecaptchaRef.bind(pc(n)),n}var t=e.prototype;return t.getCaptchaFunction=function(i){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[i]:this.props.grecaptcha[i]:null},t.getValue=function(){var i=this.getCaptchaFunction("getResponse");return i&&this._widgetId!==void 0?i(this._widgetId):null},t.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},t.execute=function(){var i=this.getCaptchaFunction("execute");if(i&&this._widgetId!==void 0)return i(this._widgetId);this._executeRequested=!0},t.executeAsync=function(){var i=this;return new Promise(function(a,s){i.executionResolve=a,i.executionReject=s,i.execute()})},t.reset=function(){var i=this.getCaptchaFunction("reset");i&&this._widgetId!==void 0&&i(this._widgetId)},t.forceReset=function(){var i=this.getCaptchaFunction("reset");i&&i()},t.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},t.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},t.handleChange=function(i){this.props.onChange&&this.props.onChange(i),this.executionResolve&&(this.executionResolve(i),delete this.executionReject,delete this.executionResolve)},t.explicitRender=function(){var i=this.getCaptchaFunction("render");if(i&&this._widgetId===void 0){var a=document.createElement("div");this._widgetId=i(a,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(a)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},t.componentDidMount=function(){this.explicitRender()},t.componentDidUpdate=function(){this.explicitRender()},t.handleRecaptchaRef=function(i){this.captcha=i},t.render=function(){var i=this.props;i.sitekey,i.onChange,i.theme,i.type,i.tabindex,i.onExpired,i.onErrored,i.size,i.stoken,i.grecaptcha,i.badge,i.hl,i.isolated;var a=s8(i,a8);return Re("div",Mh({},a,{ref:this.handleRecaptchaRef}))},e}(Le);Pd.displayName="ReCAPTCHA";Pd.propTypes={sitekey:hn.string.isRequired,onChange:hn.func,grecaptcha:hn.object,theme:hn.oneOf(["dark","light"]),type:hn.oneOf(["image","audio"]),tabindex:hn.number,onExpired:hn.func,onErrored:hn.func,size:hn.oneOf(["compact","normal","invisible"]),stoken:hn.string,hl:hn.string,badge:hn.oneOf(["bottomright","bottomleft","inline"]),isolated:hn.bool};Pd.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var r2={exports:{}},qe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wt=typeof Symbol=="function"&&Symbol.for,Cf=Wt?Symbol.for("react.element"):60103,bf=Wt?Symbol.for("react.portal"):60106,Dd=Wt?Symbol.for("react.fragment"):60107,Od=Wt?Symbol.for("react.strict_mode"):60108,Rd=Wt?Symbol.for("react.profiler"):60114,Md=Wt?Symbol.for("react.provider"):60109,Ld=Wt?Symbol.for("react.context"):60110,wf=Wt?Symbol.for("react.async_mode"):60111,Fd=Wt?Symbol.for("react.concurrent_mode"):60111,Hd=Wt?Symbol.for("react.forward_ref"):60112,Ud=Wt?Symbol.for("react.suspense"):60113,l8=Wt?Symbol.for("react.suspense_list"):60120,$d=Wt?Symbol.for("react.memo"):60115,Bd=Wt?Symbol.for("react.lazy"):60116,d8=Wt?Symbol.for("react.block"):60121,u8=Wt?Symbol.for("react.fundamental"):60117,h8=Wt?Symbol.for("react.responder"):60118,p8=Wt?Symbol.for("react.scope"):60119;function Dn(r){if(typeof r=="object"&&r!==null){var e=r.$$typeof;switch(e){case Cf:switch(r=r.type,r){case wf:case Fd:case Dd:case Rd:case Od:case Ud:return r;default:switch(r=r&&r.$$typeof,r){case Ld:case Hd:case Bd:case $d:case Md:return r;default:return e}}case bf:return e}}}function i2(r){return Dn(r)===Fd}qe.AsyncMode=wf;qe.ConcurrentMode=Fd;qe.ContextConsumer=Ld;qe.ContextProvider=Md;qe.Element=Cf;qe.ForwardRef=Hd;qe.Fragment=Dd;qe.Lazy=Bd;qe.Memo=$d;qe.Portal=bf;qe.Profiler=Rd;qe.StrictMode=Od;qe.Suspense=Ud;qe.isAsyncMode=function(r){return i2(r)||Dn(r)===wf};qe.isConcurrentMode=i2;qe.isContextConsumer=function(r){return Dn(r)===Ld};qe.isContextProvider=function(r){return Dn(r)===Md};qe.isElement=function(r){return typeof r=="object"&&r!==null&&r.$$typeof===Cf};qe.isForwardRef=function(r){return Dn(r)===Hd};qe.isFragment=function(r){return Dn(r)===Dd};qe.isLazy=function(r){return Dn(r)===Bd};qe.isMemo=function(r){return Dn(r)===$d};qe.isPortal=function(r){return Dn(r)===bf};qe.isProfiler=function(r){return Dn(r)===Rd};qe.isStrictMode=function(r){return Dn(r)===Od};qe.isSuspense=function(r){return Dn(r)===Ud};qe.isValidElementType=function(r){return typeof r=="string"||typeof r=="function"||r===Dd||r===Fd||r===Rd||r===Od||r===Ud||r===l8||typeof r=="object"&&r!==null&&(r.$$typeof===Bd||r.$$typeof===$d||r.$$typeof===Md||r.$$typeof===Ld||r.$$typeof===Hd||r.$$typeof===u8||r.$$typeof===h8||r.$$typeof===p8||r.$$typeof===d8)};qe.typeOf=Dn;r2.exports=qe;var f8=r2.exports,Sf=f8,m8={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},g8={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},v8={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Af={};Af[Sf.ForwardRef]=v8;Af[Sf.Memo]=o2;function Pg(r){return Sf.isMemo(r)?o2:Af[r.$$typeof]||m8}var _8=Object.defineProperty,y8=Object.getOwnPropertyNames,Dg=Object.getOwnPropertySymbols,C8=Object.getOwnPropertyDescriptor,b8=Object.getPrototypeOf,Og=Object.prototype;function a2(r,e,t){if(typeof e!="string"){if(Og){var n=b8(e);n&&n!==Og&&a2(r,n,t)}var i=y8(e);Dg&&(i=i.concat(Dg(e)));for(var a=Pg(r),s=Pg(e),c=0;c<i.length;++c){var l=i[c];if(!g8[l]&&!(t&&t[l])&&!(s&&s[l])&&!(a&&a[l])){var d=C8(e,l);try{_8(r,l,d)}catch{}}}}return r}var w8=a2;const S8=Us(w8);function Fh(){return Fh=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Fh.apply(this,arguments)}function A8(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function N8(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}var Yn={},E8=0;function T8(r,e){return e=e||{},function(n){var i=n.displayName||n.name||"Component",a=function(c){N8(l,c);function l(u,h){var p;return p=c.call(this,u,h)||this,p.state={},p.__scriptURL="",p}var d=l.prototype;return d.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+E8++),this.__scriptLoaderID},d.setupScriptURL=function(){return this.__scriptURL=typeof r=="function"?r():r,this.__scriptURL},d.asyncScriptLoaderHandleLoad=function(h){var p=this;this.setState(h,function(){return p.props.asyncScriptOnLoad&&p.props.asyncScriptOnLoad(p.state)})},d.asyncScriptLoaderTriggerOnScriptLoaded=function(){var h=Yn[this.__scriptURL];if(!h||!h.loaded)throw new Error("Script is not loaded.");for(var p in h.observers)h.observers[p](h);delete window[e.callbackName]},d.componentDidMount=function(){var h=this,p=this.setupScriptURL(),f=this.asyncScriptLoaderGetScriptLoaderID(),g=e,m=g.globalName,v=g.callbackName,_=g.scriptId;if(m&&typeof window[m]<"u"&&(Yn[p]={loaded:!0,observers:{}}),Yn[p]){var y=Yn[p];if(y&&(y.loaded||y.errored)){this.asyncScriptLoaderHandleLoad(y);return}y.observers[f]=function(S){return h.asyncScriptLoaderHandleLoad(S)};return}var w={};w[f]=function(S){return h.asyncScriptLoaderHandleLoad(S)},Yn[p]={loaded:!1,observers:w};var b=document.createElement("script");b.src=p,b.async=!0;for(var C in e.attributes)b.setAttribute(C,e.attributes[C]);_&&(b.id=_);var N=function(k){if(Yn[p]){var T=Yn[p],A=T.observers;for(var E in A)k(A[E])&&delete A[E]}};v&&typeof window<"u"&&(window[v]=function(){return h.asyncScriptLoaderTriggerOnScriptLoaded()}),b.onload=function(){var S=Yn[p];S&&(S.loaded=!0,N(function(k){return v?!1:(k(S),!0)}))},b.onerror=function(){var S=Yn[p];S&&(S.errored=!0,N(function(k){return k(S),!0}))},document.body.appendChild(b)},d.componentWillUnmount=function(){var h=this.__scriptURL;if(e.removeOnUnmount===!0)for(var p=document.getElementsByTagName("script"),f=0;f<p.length;f+=1)p[f].src.indexOf(h)>-1&&p[f].parentNode&&p[f].parentNode.removeChild(p[f]);var g=Yn[h];g&&(delete g.observers[this.asyncScriptLoaderGetScriptLoaderID()],e.removeOnUnmount===!0&&delete Yn[h])},d.render=function(){var h=e.globalName,p=this.props;p.asyncScriptOnLoad;var f=p.forwardedRef,g=A8(p,["asyncScriptOnLoad","forwardedRef"]);return h&&typeof window<"u"&&(g[h]=typeof window[h]<"u"?window[h]:void 0),g.ref=f,Re(n,g)},l}(Le),s=Sa(function(c,l){return Re(a,Fh({},c,{forwardedRef:l}))});return s.displayName="AsyncScriptLoader("+i+")",s.propTypes={asyncScriptOnLoad:hn.func},S8(s,n)}}var Hh="onloadcallback",k8="grecaptcha";function Uh(){return typeof window<"u"&&window.recaptchaOptions||{}}function I8(){var r=Uh(),e=r.useRecaptchaNet?"recaptcha.net":"www.google.com";return r.enterprise?"https://"+e+"/recaptcha/enterprise.js?onload="+Hh+"&render=explicit":"https://"+e+"/recaptcha/api.js?onload="+Hh+"&render=explicit"}const x8=T8(I8,{callbackName:Hh,globalName:k8,attributes:Uh().nonce?{nonce:Uh().nonce}:{}})(Pd);function P8({}){const r=vn(),[e,t]=O("get_started"),[n,i]=O(!1),{makeRequest:a,isLoading:s}=X(Z4),{getFieldProps:c,handleSubmit:l}=se({initialValues:{email:"",password:""},onSubmit:d,validationSchema:D8});async function d(m){const[v,_]=await a(m);if(_)return q({message:_==null?void 0:_.message,variant:"error"});r.login(v==null?void 0:v.data)}const{instance:u}=e8();async function h(){const m=u.loginRedirect({...L7,prompt:"create"});console.log(m)}const[p,f]=O(!1);function g(){f(!0)}return o("div",{className:"app-login",children:[o("div",{className:"app-login__card",children:[o("div",{className:"app-login__card__text",children:[o("img",{src:"/svgs/logo.svg",alt:"Oando-logo",className:"app-login__card__logo"}),o("h2",{children:["Electronic Permit to Work System ",o("strong",{children:"(e-PTW)"})]})]}),e==="get_started"&&o("div",{className:"app-login__card__form",children:[o("h2",{children:"Get Started"}),o("p",{className:"app-login__card__form__desc",children:["Welcome to Oando Electronic Permit To Work System e-PTW. ",o("br",{}),"Click the button below to get started."]}),o(x,{variant:"primary",onClick:()=>t("login"),children:"Sign In to your account"})]}),e==="login"&&o("form",{onSubmit:l,className:"app-login__card__form login",children:[o("h2",{children:"Sign In"}),o(ee,{label:"Email Address",placeholder:"example@oando.com",type:"email",...c("email")}),o(ee,{label:"Password",placeholder:"Enter your password",type:n?"text":"password",...c("password"),button:o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,width:"20",height:"20",onClick:()=>i(m=>!m),style:{cursor:"pointer"},children:n?o(P,{children:[o("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12A3 3 0 1112 9a3 3 0 013 3z"}),o("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.478 0-8.268-2.943-9.542-7z"})]}):o(P,{children:o("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.792C2.824 10.17 2 11.99 2 12c1.274 4.057 5.064 7 9.542 7 1.46 0 2.844-.348 4.082-.96M10.478 5.055C11.31 5.019 12.153 5 13 5c4.478 0 8.268 2.943 9.542 7-.279.884-.703 1.702-1.236 2.44M9.212 9.212A3 3 0 0012 15a2.995 2.995 0 001.788-.63M21 21l-6.477-6.477"})})})}),o(Tt,{href:"/forgot-password",className:"app-login__card__form__link",children:"Forgot Password"}),o(x8,{sitekey:"6LerQJgqAAAAADS_o9r55abOFrkwKK92oFBaKK_p",onChange:g}),o(x,{variant:"primary",isLoading:s,disabled:!p,children:["Login to your account",o(ne,{name:"arrow-right"})]}),o("p",{className:"app-login__auth-method-divider",children:o("span",{children:"OR"})}),o(x,{variant:"outline",type:"button",onClick:h,children:[o(ne,{name:"microsoft"}),"Sign In with Microsoft"]})]})]}),o("div",{class:"app-login__footer",children:o("a",{href:"mailto:helpdesk@oandoplc.com",className:"app-link",children:"Need help?"})}),o("img",{className:"app-login__blur",src:"/svgs/auth-blur.svg",alt:"auth-blur"})]})}const D8=re({email:oe().email("Enter a valid email").required("Email is required"),password:oe().required("Password is required")});function O8({}){const{makeRequest:r,isLoading:e}=X($6),{handleSubmit:t,getFieldProps:n}=se({initialValues:{email:""},validationSchema:R8,onSubmit:i});async function i(a){const[s,c]=await r(a);if(c)return q({variant:"error",message:c.message});V(`/reset-password?email=${a.email}`)}return o("div",{className:"app-login",children:[o("div",{className:"app-login__card",children:[o("div",{className:"app-login__card__text",children:[o("img",{src:"/svgs/logo.svg",alt:"Oando-logo"}),o("h2",{children:["Electronic Permit to Work System ",o("strong",{children:"(e-PTW)"})]})]}),o("form",{onSubmit:t,className:"app-login__card__form",children:[o("h2",{children:"Forgotten Password?"}),o("p",{className:"app-login__card__form__desc",children:"Input your registered email address to recover password."}),o(ee,{placeholder:"example@oando.com",label:"Email Address",...n("email")}),o(Tt,{className:"app-link",href:"/login",children:"Back to login?"}),o(x,{isLoading:e,variant:"primary",className:"last-btn",children:["Recover Password",o(ne,{name:"arrow-right"})]})]})]}),o("div",{class:"app-login__footer",children:o("a",{href:"mailto:helpdesk@oandoplc.com",className:"app-link",children:"Need help?"})}),o("img",{className:"app-login__blur",src:"/svgs/auth-blur.svg",alt:"auth-blur"})]})}const R8=re({email:oe().email("Enter a valid email").required("Email is required")}),M8=r=>{const{length:e=6,onChange:t,onSubmit:n}=r,[i,a]=O(Array(e).fill("")),s=Ot(null);Z(()=>{const d=i.join("");t&&t(d),n&&d.length===e&&d.indexOf("")===-1&&n(d)},[i]);function c(d,u){const h=d.key,p=Array.from(s.current.querySelectorAll("input")),f=[...i];h==="Backspace"?(f[u]="",a(f),u>0&&p[u-1].focus(),d.preventDefault()):(h>="0"&&h<="9"&&(f[u]=h,a(f),u<e-1?p[u+1].focus():p[u].blur()),d.preventDefault())}function l(d){var v;d.preventDefault();const p=(((v=d.clipboardData)==null?void 0:v.getData("text").trim())||"").replace(/[^0-9]/g,"").split("").slice(0,e),f=Array.from(s.current.querySelectorAll("input")),g=[...i];p.forEach((_,y)=>{g[y]=_}),a(g);const m=p.length<e?p.length:e-1;f[m]?f[m].focus():f[e-1].blur()}return o("div",{className:"base-code-input",ref:s,children:i.map((d,u)=>o("input",{value:d,className:"base-code-input__field",type:"text",maxLength:1,onKeyDown:h=>c(h,u),onPaste:h=>l(h),onFocus:h=>h.target.select()},u))})};function L8({}){const e=er()[0].matches.email,{makeRequest:t,isLoading:n}=X(J4),i=X($6,{email:e}),{handleSubmit:a,setFieldValue:s,getFieldProps:c}=se({onSubmit:_,initialValues:{otp:"",email:e},validationSchema:re({otp:oe().required("OTP is required")})}),l=c("otp"),[d,u]=O(120),[h,p]=O(!1),[f,g]=O(!1),[m,v]=O("");Z(()=>{if(d>0){const w=setInterval(()=>{u(b=>b-1)},1e3);return()=>clearInterval(w)}else p(!0)},[d]);async function _(w){const[b,C]=await t({...w,otp:Number(w.otp)});if(C){q({variant:"error",message:C.message});return}g(!0),v(b==null?void 0:b.data)}async function y(){if(!h)return;const[w,b]=await i.makeRequest();if(b)return q({variant:"error",message:b.message});q({variant:"success",message:"OTP resent successfully"}),u(120),p(!1)}return f&&m!==""?o(F8,{token:m}):o("div",{className:"app-login",children:[o("div",{className:"app-login__card",children:[o("div",{className:"app-login__card__text",children:[o("img",{src:"/svgs/logo.svg",alt:"Oando-logo"}),o("h2",{children:["Electronic Permit to Work System ",o("strong",{children:"(e-PTW)"})]})]}),o("form",{onSubmit:a,className:"app-login__card__form",children:[o("h2",{children:"Verify Email Address"}),o("p",{className:"app-login__card__form__desc",children:["A 6-digit code has been sent to"," ",o("span",{className:"app-link",children:e}),". Input the code below to proceed."]}),o(M8,{length:6,onChange:w=>{w.length<=6&&s("otp",w)}}),o(Tt,{className:"app-link",href:"/login",children:"Back to login?"}),l.isTouched&&l.error?o("p",{className:"base-input__error",children:[o(ne,{name:"info"}),l.error]}):null,o(x,{isLoading:n,variant:"primary",className:"last-btn",children:["Verify",o(ne,{name:"arrow-right"})]}),o("p",{className:"app-login__card__footer-text",children:["Didn’t get a code?"," ",o("button",{className:"app-link",onClick:y,type:"button",disabled:!h,children:i.isLoading?"Resending...":h?"Resend Code":`Wait ${Math.floor(d/60)}:${d%60<10?"0":""}${d%60}`})]})]})]}),o("div",{className:"app-login__footer",children:o("a",{href:"mailto:helpdesk@oandoplc.com",className:"app-link",children:"Need help?"})}),o("img",{className:"app-login__blur",src:"/svgs/auth-blur.svg",alt:"auth-blur"})]})}function F8({token:r}){const{makeRequest:e,isLoading:t}=X(eb),{handleSubmit:n,getFieldProps:i}=se({initialValues:{token:r,password:"",confirmPassword:""},validationSchema:H8,onSubmit:c}),[a,s]=O(!1);async function c(l){console.log(l);const[d,u]=await e(l);if(u)return q({variant:"error",message:u.message});V("/login")}return o("div",{className:"app-login",children:[o("div",{className:"app-login__card",children:[o("div",{className:"app-login__card__text",children:[o("img",{src:"/svgs/logo.svg",alt:"Oando-logo"}),o("h2",{children:["Electronic Permit to Work System ",o("strong",{children:"(e-PTW)"})]})]}),o("form",{onSubmit:n,className:"app-login__card__form",children:[o("h2",{children:"Reset Password?"}),o("p",{className:"app-login__card__form__desc",children:"Input and confirm your new password below."}),o(ee,{label:"Password",placeholder:"Enter your password",type:"password",...i("password"),button:o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,width:"20",height:"20",onClick:()=>s(l=>!l),style:{cursor:"pointer"},children:a?o(P,{children:[o("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12A3 3 0 1112 9a3 3 0 013 3z"}),o("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.478 0-8.268-2.943-9.542-7z"})]}):o(P,{children:o("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.792C2.824 10.17 2 11.99 2 12c1.274 4.057 5.064 7 9.542 7 1.46 0 2.844-.348 4.082-.96M10.478 5.055C11.31 5.019 12.153 5 13 5c4.478 0 8.268 2.943 9.542 7-.279.884-.703 1.702-1.236 2.44M9.212 9.212A3 3 0 0012 15a2.995 2.995 0 001.788-.63M21 21l-6.477-6.477"})})})}),o(ee,{label:"Confirm Password",placeholder:"Re-enter your password",type:"password",...i("confirmPassword"),button:o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,width:"20",height:"20",onClick:()=>s(l=>!l),style:{cursor:"pointer"},children:a?o(P,{children:[o("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12A3 3 0 1112 9a3 3 0 013 3z"}),o("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.478 0-8.268-2.943-9.542-7z"})]}):o(P,{children:o("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.792C2.824 10.17 2 11.99 2 12c1.274 4.057 5.064 7 9.542 7 1.46 0 2.844-.348 4.082-.96M10.478 5.055C11.31 5.019 12.153 5 13 5c4.478 0 8.268 2.943 9.542 7-.279.884-.703 1.702-1.236 2.44M9.212 9.212A3 3 0 0012 15a2.995 2.995 0 001.788-.63M21 21l-6.477-6.477"})})})}),o(x,{isLoading:t,variant:"primary",className:"last-btn",type:"submit",children:["Save password",o(ne,{name:"arrow-right"})]})]})]}),o("div",{className:"app-login__footer",children:o("a",{href:"mailto:helpdesk@oandoplc.com",className:"app-link",children:"Need help?"})}),o("img",{className:"app-login__blur",src:"/svgs/auth-blur.svg",alt:"auth-blur"})]})}const H8=re({password:oe().required("Password is required"),confirmPassword:oe().required("Confirm your password")});function U8(){return K("/profile/dash/overview","GET")}function $8(){return K("/profile/dash/analytics","GET")}function $n({onSearch:r,...e}){const t=n=>{r&&r(n.target.value)};return o("div",{className:"base-search",children:[o("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.5 3.75001C9.61358 3.75001 8.73583 3.9246 7.91689 4.26382C7.09794 4.60304 6.35382 5.10024 5.72703 5.72704C5.10023 6.35384 4.60303 7.09795 4.26381 7.9169C3.92459 8.73585 3.75 9.61359 3.75 10.5C3.75 11.3864 3.92459 12.2642 4.26381 13.0831C4.60303 13.9021 5.10023 14.6462 5.72703 15.273C6.35382 15.8998 7.09794 16.397 7.91689 16.7362C8.73583 17.0754 9.61358 17.25 10.5 17.25C12.2902 17.25 14.0071 16.5389 15.273 15.273C16.5388 14.0071 17.25 12.2902 17.25 10.5C17.25 8.7098 16.5388 6.99291 15.273 5.72704C14.0071 4.46117 12.2902 3.75001 10.5 3.75001ZM2.25 10.5C2.25017 9.17511 2.56944 7.86973 3.18079 6.69431C3.79214 5.51889 4.67759 4.50799 5.76224 3.74713C6.84689 2.98627 8.09883 2.49784 9.41216 2.32314C10.7255 2.14843 12.0616 2.29261 13.3074 2.74347C14.5533 3.19432 15.6722 3.9386 16.5695 4.91333C17.4669 5.88807 18.1163 7.06459 18.4628 8.34337C18.8094 9.62216 18.8428 10.9656 18.5603 12.26C18.2778 13.5545 17.6878 14.7618 16.84 15.78L21.53 20.47C21.6037 20.5387 21.6628 20.6215 21.7038 20.7135C21.7448 20.8055 21.7668 20.9048 21.7686 21.0055C21.7704 21.1062 21.7518 21.2062 21.7141 21.2996C21.6764 21.393 21.6203 21.4778 21.549 21.549C21.4778 21.6203 21.393 21.6764 21.2996 21.7141C21.2062 21.7519 21.1062 21.7704 21.0055 21.7686C20.9048 21.7668 20.8055 21.7448 20.7135 21.7038C20.6215 21.6628 20.5387 21.6037 20.47 21.53L15.78 16.84C14.5752 17.8435 13.1094 18.4829 11.5543 18.6833C9.99922 18.8837 8.41922 18.6367 6.99941 17.9714C5.5796 17.3061 4.37878 16.25 3.53763 14.9267C2.69648 13.6035 2.24983 12.068 2.25 10.5Z",fill:"#8F92A1"})}),o("input",{type:"text",placeholder:"Search",...e,onChange:t})]})}function Ne({title:r}){return o("div",{className:"app-page__header",children:[o("h3",{children:r}),o($n,{onSearch:""}),o("span",{className:"app-page__header__divider"})]})}var s2={exports:{}};(function(r,e){(function(t,n){r.exports=n()})(H7,function(){var t=1e3,n=6e4,i=36e5,a="millisecond",s="second",c="minute",l="hour",d="day",u="week",h="month",p="quarter",f="year",g="date",m="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(M){var F=["th","st","nd","rd"],L=M%100;return"["+M+(F[(L-20)%10]||F[L]||F[0])+"]"}},w=function(M,F,L){var B=String(M);return!B||B.length>=F?M:""+Array(F+1-B.length).join(L)+M},b={s:w,z:function(M){var F=-M.utcOffset(),L=Math.abs(F),B=Math.floor(L/60),H=L%60;return(F<=0?"+":"-")+w(B,2,"0")+":"+w(H,2,"0")},m:function M(F,L){if(F.date()<L.date())return-M(L,F);var B=12*(L.year()-F.year())+(L.month()-F.month()),H=F.clone().add(B,h),j=L-H<0,te=F.clone().add(B+(j?-1:1),h);return+(-(B+(L-H)/(j?H-te:te-H))||0)},a:function(M){return M<0?Math.ceil(M)||0:Math.floor(M)},p:function(M){return{M:h,y:f,w:u,d,D:g,h:l,m:c,s,ms:a,Q:p}[M]||String(M||"").toLowerCase().replace(/s$/,"")},u:function(M){return M===void 0}},C="en",N={};N[C]=y;var S="$isDayjsObject",k=function(M){return M instanceof I||!(!M||!M[S])},T=function M(F,L,B){var H;if(!F)return C;if(typeof F=="string"){var j=F.toLowerCase();N[j]&&(H=j),L&&(N[j]=L,H=j);var te=F.split("-");if(!H&&te.length>1)return M(te[0])}else{var de=F.name;N[de]=F,H=de}return!B&&H&&(C=H),H||!B&&C},A=function(M,F){if(k(M))return M.clone();var L=typeof F=="object"?F:{};return L.date=M,L.args=arguments,new I(L)},E=b;E.l=T,E.i=k,E.w=function(M,F){return A(M,{locale:F.$L,utc:F.$u,x:F.$x,$offset:F.$offset})};var I=function(){function M(L){this.$L=T(L.locale,null,!0),this.parse(L),this.$x=this.$x||L.x||{},this[S]=!0}var F=M.prototype;return F.parse=function(L){this.$d=function(B){var H=B.date,j=B.utc;if(H===null)return new Date(NaN);if(E.u(H))return new Date;if(H instanceof Date)return new Date(H);if(typeof H=="string"&&!/Z$/i.test(H)){var te=H.match(v);if(te){var de=te[2]-1||0,Q=(te[7]||"0").substring(0,3);return j?new Date(Date.UTC(te[1],de,te[3]||1,te[4]||0,te[5]||0,te[6]||0,Q)):new Date(te[1],de,te[3]||1,te[4]||0,te[5]||0,te[6]||0,Q)}}return new Date(H)}(L),this.init()},F.init=function(){var L=this.$d;this.$y=L.getFullYear(),this.$M=L.getMonth(),this.$D=L.getDate(),this.$W=L.getDay(),this.$H=L.getHours(),this.$m=L.getMinutes(),this.$s=L.getSeconds(),this.$ms=L.getMilliseconds()},F.$utils=function(){return E},F.isValid=function(){return this.$d.toString()!==m},F.isSame=function(L,B){var H=A(L);return this.startOf(B)<=H&&H<=this.endOf(B)},F.isAfter=function(L,B){return A(L)<this.startOf(B)},F.isBefore=function(L,B){return this.endOf(B)<A(L)},F.$g=function(L,B,H){return E.u(L)?this[B]:this.set(H,L)},F.unix=function(){return Math.floor(this.valueOf()/1e3)},F.valueOf=function(){return this.$d.getTime()},F.startOf=function(L,B){var H=this,j=!!E.u(B)||B,te=E.p(L),de=function(Cn,Pt){var Vn=E.w(H.$u?Date.UTC(H.$y,Pt,Cn):new Date(H.$y,Pt,Cn),H);return j?Vn:Vn.endOf(d)},Q=function(Cn,Pt){return E.w(H.toDate()[Cn].apply(H.toDate("s"),(j?[0,0,0,0]:[23,59,59,999]).slice(Pt)),H)},_e=this.$W,ge=this.$M,xe=this.$D,Rt="set"+(this.$u?"UTC":"");switch(te){case f:return j?de(1,0):de(31,11);case h:return j?de(1,ge):de(0,ge+1);case u:var On=this.$locale().weekStart||0,nr=(_e<On?_e+7:_e)-On;return de(j?xe-nr:xe+(6-nr),ge);case d:case g:return Q(Rt+"Hours",0);case l:return Q(Rt+"Minutes",1);case c:return Q(Rt+"Seconds",2);case s:return Q(Rt+"Milliseconds",3);default:return this.clone()}},F.endOf=function(L){return this.startOf(L,!1)},F.$set=function(L,B){var H,j=E.p(L),te="set"+(this.$u?"UTC":""),de=(H={},H[d]=te+"Date",H[g]=te+"Date",H[h]=te+"Month",H[f]=te+"FullYear",H[l]=te+"Hours",H[c]=te+"Minutes",H[s]=te+"Seconds",H[a]=te+"Milliseconds",H)[j],Q=j===d?this.$D+(B-this.$W):B;if(j===h||j===f){var _e=this.clone().set(g,1);_e.$d[de](Q),_e.init(),this.$d=_e.set(g,Math.min(this.$D,_e.daysInMonth())).$d}else de&&this.$d[de](Q);return this.init(),this},F.set=function(L,B){return this.clone().$set(L,B)},F.get=function(L){return this[E.p(L)]()},F.add=function(L,B){var H,j=this;L=Number(L);var te=E.p(B),de=function(ge){var xe=A(j);return E.w(xe.date(xe.date()+Math.round(ge*L)),j)};if(te===h)return this.set(h,this.$M+L);if(te===f)return this.set(f,this.$y+L);if(te===d)return de(1);if(te===u)return de(7);var Q=(H={},H[c]=n,H[l]=i,H[s]=t,H)[te]||1,_e=this.$d.getTime()+L*Q;return E.w(_e,this)},F.subtract=function(L,B){return this.add(-1*L,B)},F.format=function(L){var B=this,H=this.$locale();if(!this.isValid())return H.invalidDate||m;var j=L||"YYYY-MM-DDTHH:mm:ssZ",te=E.z(this),de=this.$H,Q=this.$m,_e=this.$M,ge=H.weekdays,xe=H.months,Rt=H.meridiem,On=function(Pt,Vn,ci,$i){return Pt&&(Pt[Vn]||Pt(B,j))||ci[Vn].slice(0,$i)},nr=function(Pt){return E.s(de%12||12,Pt,"0")},Cn=Rt||function(Pt,Vn,ci){var $i=Pt<12?"AM":"PM";return ci?$i.toLowerCase():$i};return j.replace(_,function(Pt,Vn){return Vn||function(ci){switch(ci){case"YY":return String(B.$y).slice(-2);case"YYYY":return E.s(B.$y,4,"0");case"M":return _e+1;case"MM":return E.s(_e+1,2,"0");case"MMM":return On(H.monthsShort,_e,xe,3);case"MMMM":return On(xe,_e);case"D":return B.$D;case"DD":return E.s(B.$D,2,"0");case"d":return String(B.$W);case"dd":return On(H.weekdaysMin,B.$W,ge,2);case"ddd":return On(H.weekdaysShort,B.$W,ge,3);case"dddd":return ge[B.$W];case"H":return String(de);case"HH":return E.s(de,2,"0");case"h":return nr(1);case"hh":return nr(2);case"a":return Cn(de,Q,!0);case"A":return Cn(de,Q,!1);case"m":return String(Q);case"mm":return E.s(Q,2,"0");case"s":return String(B.$s);case"ss":return E.s(B.$s,2,"0");case"SSS":return E.s(B.$ms,3,"0");case"Z":return te}return null}(Pt)||te.replace(":","")})},F.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},F.diff=function(L,B,H){var j,te=this,de=E.p(B),Q=A(L),_e=(Q.utcOffset()-this.utcOffset())*n,ge=this-Q,xe=function(){return E.m(te,Q)};switch(de){case f:j=xe()/12;break;case h:j=xe();break;case p:j=xe()/3;break;case u:j=(ge-_e)/6048e5;break;case d:j=(ge-_e)/864e5;break;case l:j=ge/i;break;case c:j=ge/n;break;case s:j=ge/t;break;default:j=ge}return H?j:E.a(j)},F.daysInMonth=function(){return this.endOf(h).$D},F.$locale=function(){return N[this.$L]},F.locale=function(L,B){if(!L)return this.$L;var H=this.clone(),j=T(L,B,!0);return j&&(H.$L=j),H},F.clone=function(){return E.w(this.$d,this)},F.toDate=function(){return new Date(this.valueOf())},F.toJSON=function(){return this.isValid()?this.toISOString():null},F.toISOString=function(){return this.$d.toISOString()},F.toString=function(){return this.$d.toUTCString()},M}(),R=I.prototype;return A.prototype=R,[["$ms",a],["$s",s],["$m",c],["$H",l],["$W",d],["$M",h],["$y",f],["$D",g]].forEach(function(M){R[M[1]]=function(F){return this.$g(F,M[0],M[1])}}),A.extend=function(M,F){return M.$i||(M(F,I,A),M.$i=!0),A},A.locale=T,A.isDayjs=k,A.unix=function(M){return A(1e3*M)},A.en=N[C],A.Ls=N,A.p={},A})})(s2);var B8=s2.exports;const le=Us(B8);function Rg({drafts:r}){return o("div",{className:"app-overview__drafts",children:[o("div",{className:"app-overview__drafts__header",children:[o(ne,{name:"sidebar.draft"}),o("h1",{children:"Drafts"}),o("a",{href:"/permit-drafts",children:["View all",o(ne,{name:"diagonal-arrow"})]})]}),r?o(P,{children:r==null?void 0:r.map(e=>{var t,n;return o("div",{className:"app-overview__draft",children:[o("div",{children:[o("p",{children:e.workDescription}),o("span",{children:[e!=null&&e.contractor?o(P,{children:[" ",o("strong",{children:[(t=e==null?void 0:e.contractor)==null?void 0:t.firstname," ",(n=e==null?void 0:e.contractor)==null?void 0:n.lastname]})," ","•"," "]}):null," ",le().format("DD/MM/YYYY")]})]}),o(ne,{name:"diagonal-arrow"})]},e==null?void 0:e.id)})}):o("div",{className:"base-empty",style:{margin:"50px auto"},children:[o("img",{src:"/svgs/document.svg"}),o("p",{children:"No drafts available yet"})]})]})}function je({children:r}){return o("table",{className:"base-table",cellSpacing:0,children:r})}function Ct({children:r}){return o("thead",{className:"base-table__head",children:r})}function Qe({children:r}){return o("tbody",{children:r})}function me({children:r}){return o("tr",{className:"base-table__row",children:r})}function D({children:r}){return o("td",{className:"base-table__cell",children:r})}function V8({closedPermits:r}){return o(P,{children:[o("div",{className:"app-overview__permits-header",children:[o("h4",{children:"Recently Closed Permits"}),o("button",{onClick:()=>V("/permit-storage"),children:["View all",o(ne,{name:"diagonal-arrow"})]})]}),r!=null&&r.length?o(P,{children:[o("div",{className:"hide-display-mobile",children:o(je,{children:[o(Ct,{children:o(me,{children:[o(D,{children:"PTW ID"}),o(D,{children:"Work Type"}),o(D,{children:"Work To Be Performed"}),o(D,{children:"Work Location"}),o(D,{children:"Date Closed"})]})}),o(Qe,{children:r==null?void 0:r.map(e=>{var t;return o(me,{children:[o(D,{children:e==null?void 0:e.publicId}),o(D,{children:(t=e==null?void 0:e.type)==null?void 0:t.replace(/_/g," ")}),o(D,{children:e==null?void 0:e.workDescription}),o(D,{children:e==null?void 0:e.workArea}),o(D,{}),o(D,{})]},e==null?void 0:e.publicId)})})]})}),o("div",{className:"hide-display-web",children:[r==null?void 0:r.map(e=>{var t;return o("div",{className:"app-overview__permits-sm-table",children:[o("div",{className:"flex",children:[o("span",{children:e==null?void 0:e.publicId}),o("p",{children:(t=e==null?void 0:e.type)==null?void 0:t.replace(/_/g," ")})]}),o("h4",{children:`${e==null?void 0:e.workDescription.charAt(0).toUpperCase()}${e==null?void 0:e.workDescription.slice(1)}`}),o("p",{children:["Date Closed: ",e==null?void 0:e.workArea]})]})}),o("br",{}),o("br",{})]})]}):o("div",{className:"base-empty",style:{margin:"100px auto"},children:[o("img",{src:"/svgs/document.svg"}),o("p",{children:"No closed permits available"})]})]})}const Y8=(r,e)=>{Z(()=>{const n=i=>{const a=Array.isArray(r);(a&&r.every(s=>t(s,i))||!a&&t(r,i))&&e()};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[r]);function t(n,i){return n&&"current"in n?!n.current.contains(i.target):!1}};function kt({children:r,className:e=""}){const[t,n]=O(!1),i=Ot(null);Y8([i],()=>{n(!1)});const a=Aa.map(r,s=>Ao(s,{isOpen:t,setIsOpen:n}));return o("div",{className:l6("base-dropdown",e),ref:i,children:a})}function It({children:r,isOpen:e,setIsOpen:t}){return o("button",{className:"base-dropdown__trigger","data-active":e,onClick:()=>t(n=>!n),children:[o("span",{children:r}),o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.35334 10.8534C8.25959 10.947 8.13251 10.9996 8.00001 10.9996C7.86751 10.9996 7.74043 10.947 7.64668 10.8534L2.64668 5.85335C2.55836 5.75857 2.51027 5.63321 2.51256 5.50367C2.51485 5.37414 2.56732 5.25055 2.65893 5.15894C2.75054 5.06733 2.87413 5.01486 3.00366 5.01257C3.1332 5.01029 3.25856 5.05837 3.35334 5.14669L8.00001 9.79335L12.6467 5.14669C12.6925 5.09756 12.7477 5.05816 12.809 5.03083C12.8703 5.00351 12.9365 4.98881 13.0037 4.98763C13.0708 4.98644 13.1375 4.99879 13.1997 5.02394C13.262 5.04909 13.3186 5.08652 13.366 5.134C13.4135 5.18147 13.4509 5.23803 13.4761 5.30029C13.5012 5.36255 13.5136 5.42923 13.5124 5.49637C13.5112 5.5635 13.4965 5.62971 13.4692 5.69105C13.4419 5.75238 13.4025 5.80758 13.3533 5.85335L8.35334 10.8534Z",fill:"#8F92A1"})})]})}function xt({children:r,isOpen:e}){if(!e)return null;const t=Aa.map(r,n=>Ao(n,{isOpen:e}));return o("div",{className:"base-dropdown__content",children:t})}function c2(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=c2(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Kt(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=c2(r))&&(n&&(n+=" "),n+=e);return n}function ce(r){const e=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&e==="[object Date]"?new r.constructor(+r):typeof r=="number"||e==="[object Number]"||typeof r=="string"||e==="[object String]"?new Date(r):new Date(NaN)}function We(r,e){return r instanceof Date?new r.constructor(e):new Date(e)}function Qn(r,e){const t=ce(r);return isNaN(e)?We(r,NaN):(e&&t.setDate(t.getDate()+e),t)}function Jn(r,e){const t=ce(r);if(isNaN(e))return We(r,NaN);if(!e)return t;const n=t.getDate(),i=We(r,t.getTime());i.setMonth(t.getMonth()+e+1,0);const a=i.getDate();return n>=a?i:(t.setFullYear(i.getFullYear(),i.getMonth(),n),t)}function Nf(r,e){const t=+ce(r);return We(r,t+e)}const l2=6048e5,W8=864e5,Vd=6e4,Yd=36e5,z8=1e3;function j8(r,e){return Nf(r,e*Yd)}let q8={};function To(){return q8}function ii(r,e){var c,l,d,u;const t=To(),n=(e==null?void 0:e.weekStartsOn)??((l=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((u=(d=t.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,i=ce(r),a=i.getDay(),s=(a<n?7:0)+a-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function ca(r){return ii(r,{weekStartsOn:1})}function d2(r){const e=ce(r),t=e.getFullYear(),n=We(r,0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);const i=ca(n),a=We(r,0);a.setFullYear(t,0,4),a.setHours(0,0,0,0);const s=ca(a);return e.getTime()>=i.getTime()?t+1:e.getTime()>=s.getTime()?t:t-1}function mo(r){const e=ce(r);return e.setHours(0,0,0,0),e}function Ll(r){const e=ce(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function la(r,e){const t=mo(r),n=mo(e),i=+t-Ll(t),a=+n-Ll(n);return Math.round((i-a)/W8)}function K8(r){const e=d2(r),t=We(r,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),ca(t)}function $h(r,e){return Nf(r,e*Vd)}function Ef(r,e){const t=e*3;return Jn(r,t)}function G8(r,e){return Nf(r,e*1e3)}function Fl(r,e){const t=e*7;return Qn(r,t)}function Gr(r,e){return Jn(r,e*12)}function Mg(r){let e;return r.forEach(function(t){const n=ce(t);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function Lg(r){let e;return r.forEach(t=>{const n=ce(t);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function Q8(r,e){const t=mo(r),n=mo(e);return+t==+n}function Qr(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Hl(r){if(!Qr(r)&&typeof r!="number")return!1;const e=ce(r);return!isNaN(Number(e))}function Ul(r,e){const t=ce(r),n=ce(e),i=t.getFullYear()-n.getFullYear(),a=t.getMonth()-n.getMonth();return i*12+a}function to(r){const e=ce(r);return Math.trunc(e.getMonth()/3)+1}function $l(r,e){const t=ce(r),n=ce(e),i=t.getFullYear()-n.getFullYear(),a=to(t)-to(n);return i*4+a}function Bl(r,e){const t=ce(r),n=ce(e);return t.getFullYear()-n.getFullYear()}function Z8(r,e){const t=ce(r),n=ce(e),i=Fg(t,n),a=Math.abs(la(t,n));t.setDate(t.getDate()-i*a);const s=+(Fg(t,n)===-i),c=i*(a-s);return c===0?0:c}function Fg(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function u2(r){const e=ce(r);return e.setHours(23,59,59,999),e}function h2(r){const e=ce(r),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function Bh(r){const e=ce(r),t=e.getMonth(),n=t-t%3;return e.setMonth(n,1),e.setHours(0,0,0,0),e}function p2(r){const e=ce(r);return e.setDate(1),e.setHours(0,0,0,0),e}function f2(r){const e=ce(r),t=e.getFullYear();return e.setFullYear(t+1,0,0),e.setHours(23,59,59,999),e}function Wd(r){const e=ce(r),t=We(r,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function X8(r,e){var c,l,d,u;const t=To(),n=(e==null?void 0:e.weekStartsOn)??((l=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((u=(d=t.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,i=ce(r),a=i.getDay(),s=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}const J8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ew=(r,e,t)=>{let n;const i=J8[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Cu(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const tw={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nw={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rw={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iw={date:Cu({formats:tw,defaultWidth:"full"}),time:Cu({formats:nw,defaultWidth:"full"}),dateTime:Cu({formats:rw,defaultWidth:"full"})},ow={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},aw=(r,e,t,n)=>ow[r];function Pa(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const s=r.defaultFormattingWidth||r.defaultWidth,c=t!=null&&t.width?String(t.width):s;i=r.formattingValues[c]||r.formattingValues[s]}else{const s=r.defaultWidth,c=t!=null&&t.width?String(t.width):r.defaultWidth;i=r.values[c]||r.values[s]}const a=r.argumentCallback?r.argumentCallback(e):e;return i[a]}}const sw={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cw={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lw={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dw={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pw=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},fw={ordinalNumber:pw,era:Pa({values:sw,defaultWidth:"wide"}),quarter:Pa({values:cw,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Pa({values:lw,defaultWidth:"wide"}),day:Pa({values:dw,defaultWidth:"wide"}),dayPeriod:Pa({values:uw,defaultWidth:"wide",formattingValues:hw,defaultFormattingWidth:"wide"})};function Da(r){return(e,t={})=>{const n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],c=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],l=Array.isArray(c)?gw(c,h=>h.test(s)):mw(c,h=>h.test(s));let d;d=r.valueCallback?r.valueCallback(l):l,d=t.valueCallback?t.valueCallback(d):d;const u=e.slice(s.length);return{value:d,rest:u}}}function mw(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function gw(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function vw(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const i=n[0],a=e.match(r.parsePattern);if(!a)return null;let s=r.valueCallback?r.valueCallback(a[0]):a[0];s=t.valueCallback?t.valueCallback(s):s;const c=e.slice(i.length);return{value:s,rest:c}}}const _w=/^(\d+)(th|st|nd|rd)?/i,yw=/\d+/i,Cw={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bw={any:[/^b/i,/^(a|c)/i]},ww={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Sw={any:[/1/i,/2/i,/3/i,/4/i]},Aw={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Nw={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ew={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Tw={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kw={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Iw={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xw={ordinalNumber:vw({matchPattern:_w,parsePattern:yw,valueCallback:r=>parseInt(r,10)}),era:Da({matchPatterns:Cw,defaultMatchWidth:"wide",parsePatterns:bw,defaultParseWidth:"any"}),quarter:Da({matchPatterns:ww,defaultMatchWidth:"wide",parsePatterns:Sw,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Da({matchPatterns:Aw,defaultMatchWidth:"wide",parsePatterns:Nw,defaultParseWidth:"any"}),day:Da({matchPatterns:Ew,defaultMatchWidth:"wide",parsePatterns:Tw,defaultParseWidth:"any"}),dayPeriod:Da({matchPatterns:kw,defaultMatchWidth:"any",parsePatterns:Iw,defaultParseWidth:"any"})},m2={code:"en-US",formatDistance:ew,formatLong:iw,formatRelative:aw,localize:fw,match:xw,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Pw(r){const e=ce(r);return la(e,Wd(e))+1}function Tf(r){const e=ce(r),t=+ca(e)-+K8(e);return Math.round(t/l2)+1}function kf(r,e){var u,h,p,f;const t=ce(r),n=t.getFullYear(),i=To(),a=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(p=i.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,s=We(r,0);s.setFullYear(n+1,0,a),s.setHours(0,0,0,0);const c=ii(s,e),l=We(r,0);l.setFullYear(n,0,a),l.setHours(0,0,0,0);const d=ii(l,e);return t.getTime()>=c.getTime()?n+1:t.getTime()>=d.getTime()?n:n-1}function Dw(r,e){var c,l,d,u;const t=To(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((u=(d=t.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,i=kf(r,e),a=We(r,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),ii(a,e)}function g2(r,e){const t=ce(r),n=+ii(t,e)-+Dw(t,e);return Math.round(n/l2)+1}function Ve(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const di={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return Ve(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):Ve(t+1,2)},d(r,e){return Ve(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return Ve(r.getHours()%12||12,e.length)},H(r,e){return Ve(r.getHours(),e.length)},m(r,e){return Ve(r.getMinutes(),e.length)},s(r,e){return Ve(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return Ve(i,e.length)}},Ro={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Hg={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return di.y(r,e)},Y:function(r,e,t,n){const i=kf(r,n),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return Ve(s,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):Ve(a,e.length)},R:function(r,e){const t=d2(r);return Ve(t,e.length)},u:function(r,e){const t=r.getFullYear();return Ve(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Ve(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Ve(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return di.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return Ve(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const i=g2(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Ve(i,e.length)},I:function(r,e,t){const n=Tf(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):Ve(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):di.d(r,e)},D:function(r,e,t){const n=Pw(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):Ve(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const i=r.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Ve(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const i=r.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Ve(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Ve(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let i;switch(n===12?i=Ro.noon:n===0?i=Ro.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let i;switch(n>=17?i=Ro.evening:n>=12?i=Ro.afternoon:n>=4?i=Ro.morning:i=Ro.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return di.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):di.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):Ve(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):Ve(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):di.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):di.s(r,e)},S:function(r,e){return di.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return $g(n);case"XXXX":case"XX":return zi(n);case"XXXXX":case"XXX":default:return zi(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return $g(n);case"xxxx":case"xx":return zi(n);case"xxxxx":case"xxx":default:return zi(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Ug(n,":");case"OOOO":default:return"GMT"+zi(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Ug(n,":");case"zzzz":default:return"GMT"+zi(n,":")}},t:function(r,e,t){const n=Math.trunc(r.getTime()/1e3);return Ve(n,e.length)},T:function(r,e,t){const n=r.getTime();return Ve(n,e.length)}};function Ug(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),a=n%60;return a===0?t+String(i):t+String(i)+e+Ve(a,2)}function $g(r,e){return r%60===0?(r>0?"-":"+")+Ve(Math.abs(r)/60,2):zi(r,e)}function zi(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Ve(Math.trunc(n/60),2),a=Ve(n%60,2);return t+i+e+a}const Bg=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},v2=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Ow=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return Bg(r,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",Bg(n,e)).replace("{{time}}",v2(i,e))},Vl={p:v2,P:Ow},Rw=/^D+$/,Mw=/^Y+$/,Lw=["D","DD","YY","YYYY"];function _2(r){return Rw.test(r)}function y2(r){return Mw.test(r)}function Vh(r,e,t){const n=Fw(r,e,t);if(console.warn(n),Lw.includes(r))throw new RangeError(n)}function Fw(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Hw=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Uw=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$w=/^'([^]*?)'?$/,Bw=/''/g,Vw=/[a-zA-Z]/;function Vg(r,e,t){var u,h,p,f,g,m,v,_;const n=To(),i=(t==null?void 0:t.locale)??n.locale??m2,a=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(p=n.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,s=(t==null?void 0:t.weekStartsOn)??((m=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((_=(v=n.locale)==null?void 0:v.options)==null?void 0:_.weekStartsOn)??0,c=ce(r);if(!Hl(c))throw new RangeError("Invalid time value");let l=e.match(Uw).map(y=>{const w=y[0];if(w==="p"||w==="P"){const b=Vl[w];return b(y,i.formatLong)}return y}).join("").match(Hw).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:Yw(y)};if(Hg[w])return{isToken:!0,value:y};if(w.match(Vw))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(c,l));const d={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&y2(w)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&_2(w))&&Vh(w,e,String(r));const b=Hg[w[0]];return b(c,w,i.localize,d)}).join("")}function Yw(r){const e=r.match($w);return e?e[1].replace(Bw,"'"):r}function Yg(r){return ce(r).getDate()}function Ww(r){return ce(r).getDay()}function zw(r){const e=ce(r),t=e.getFullYear(),n=e.getMonth(),i=We(r,0);return i.setFullYear(t,n+1,0),i.setHours(0,0,0,0),i.getDate()}function jw(){return Object.assign({},To())}function _r(r){return ce(r).getHours()}function qw(r){let t=ce(r).getDay();return t===0&&(t=7),t}function yr(r){return ce(r).getMinutes()}function sn(r){return ce(r).getMonth()}function Zr(r){return ce(r).getSeconds()}function Yh(r){return ce(r).getTime()}function Se(r){return ce(r).getFullYear()}function Ei(r,e){const t=ce(r),n=ce(e);return t.getTime()>n.getTime()}function go(r,e){const t=ce(r),n=ce(e);return+t<+n}function Kw(r,e){const t=ce(r),n=ce(e);return+t==+n}function Gw(r,e){const t=e instanceof Date?We(e,0):new e(0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}const Qw=10;class C2{constructor(){$(this,"subPriority",0)}validate(e,t){return!0}}class Zw extends C2{constructor(e,t,n,i,a){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=i,a&&(this.subPriority=a)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class Xw extends C2{constructor(){super(...arguments);$(this,"priority",Qw);$(this,"subPriority",-1)}set(t,n){return n.timestampIsSet?t:We(t,Gw(t,Date))}}class He{run(e,t,n,i){const a=this.parse(e,t,n,i);return a?{setter:new Zw(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(e,t,n){return!0}}class Jw extends He{constructor(){super(...arguments);$(this,"priority",140);$(this,"incompatibleTokens",["R","u","t","T"])}parse(t,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,n,i){return n.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const At={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},hr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Nt(r,e){return r&&{value:e(r.value),rest:r.rest}}function gt(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function pr(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,s=t[5]?parseInt(t[5],10):0;return{value:n*(i*Yd+a*Vd+s*z8),rest:e.slice(t[0].length)}}function b2(r){return gt(At.anyDigitsSigned,r)}function bt(r,e){switch(r){case 1:return gt(At.singleDigit,e);case 2:return gt(At.twoDigits,e);case 3:return gt(At.threeDigits,e);case 4:return gt(At.fourDigits,e);default:return gt(new RegExp("^\\d{1,"+r+"}"),e)}}function Yl(r,e){switch(r){case 1:return gt(At.singleDigitSigned,e);case 2:return gt(At.twoDigitsSigned,e);case 3:return gt(At.threeDigitsSigned,e);case 4:return gt(At.fourDigitsSigned,e);default:return gt(new RegExp("^-?\\d{1,"+r+"}"),e)}}function If(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function w2(r,e){const t=e>0,n=t?e:1-e;let i;if(n<=50)i=r||100;else{const a=n+50,s=Math.trunc(a/100)*100,c=r>=a%100;i=r+s-(c?100:0)}return t?i:1-i}function S2(r){return r%400===0||r%4===0&&r%100!==0}class eS extends He{constructor(){super(...arguments);$(this,"priority",130);$(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,n,i){const a=s=>({year:s,isTwoDigitYear:n==="yy"});switch(n){case"y":return Nt(bt(4,t),a);case"yo":return Nt(i.ordinalNumber(t,{unit:"year"}),a);default:return Nt(bt(n.length,t),a)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i){const a=t.getFullYear();if(i.isTwoDigitYear){const c=w2(i.year,a);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}const s=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class tS extends He{constructor(){super(...arguments);$(this,"priority",130);$(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,n,i){const a=s=>({year:s,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Nt(bt(4,t),a);case"Yo":return Nt(i.ordinalNumber(t,{unit:"year"}),a);default:return Nt(bt(n.length,t),a)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i,a){const s=kf(t,a);if(i.isTwoDigitYear){const l=w2(i.year,s);return t.setFullYear(l,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),ii(t,a)}const c=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(c,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),ii(t,a)}}class nS extends He{constructor(){super(...arguments);$(this,"priority",130);$(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,n){return Yl(n==="R"?4:n.length,t)}set(t,n,i){const a=We(t,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),ca(a)}}class rS extends He{constructor(){super(...arguments);$(this,"priority",130);$(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,n){return Yl(n==="u"?4:n.length,t)}set(t,n,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class iS extends He{constructor(){super(...arguments);$(this,"priority",120);$(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"Q":case"QQ":return bt(n.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class oS extends He{constructor(){super(...arguments);$(this,"priority",120);$(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"q":case"qq":return bt(n.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class aS extends He{constructor(){super(...arguments);$(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);$(this,"priority",110)}parse(t,n,i){const a=s=>s-1;switch(n){case"M":return Nt(gt(At.month,t),a);case"MM":return Nt(bt(2,t),a);case"Mo":return Nt(i.ordinalNumber(t,{unit:"month"}),a);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class sS extends He{constructor(){super(...arguments);$(this,"priority",110);$(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,n,i){const a=s=>s-1;switch(n){case"L":return Nt(gt(At.month,t),a);case"LL":return Nt(bt(2,t),a);case"Lo":return Nt(i.ordinalNumber(t,{unit:"month"}),a);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function cS(r,e,t){const n=ce(r),i=g2(n,t)-e;return n.setDate(n.getDate()-i*7),n}class lS extends He{constructor(){super(...arguments);$(this,"priority",100);$(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,n,i){switch(n){case"w":return gt(At.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return bt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i,a){return ii(cS(t,i,a),a)}}function dS(r,e){const t=ce(r),n=Tf(t)-e;return t.setDate(t.getDate()-n*7),t}class uS extends He{constructor(){super(...arguments);$(this,"priority",100);$(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,n,i){switch(n){case"I":return gt(At.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return bt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i){return ca(dS(t,i))}}const hS=[31,28,31,30,31,30,31,31,30,31,30,31],pS=[31,29,31,30,31,30,31,31,30,31,30,31];class fS extends He{constructor(){super(...arguments);$(this,"priority",90);$(this,"subPriority",1);$(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"d":return gt(At.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return bt(n.length,t)}}validate(t,n){const i=t.getFullYear(),a=S2(i),s=t.getMonth();return a?n>=1&&n<=pS[s]:n>=1&&n<=hS[s]}set(t,n,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class mS extends He{constructor(){super(...arguments);$(this,"priority",90);$(this,"subpriority",1);$(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,n,i){switch(n){case"D":case"DD":return gt(At.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return bt(n.length,t)}}validate(t,n){const i=t.getFullYear();return S2(i)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function xf(r,e,t){var h,p,f,g;const n=To(),i=(t==null?void 0:t.weekStartsOn)??((p=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((g=(f=n.locale)==null?void 0:f.options)==null?void 0:g.weekStartsOn)??0,a=ce(r),s=a.getDay(),l=(e%7+7)%7,d=7-i,u=e<0||e>6?e-(s+d)%7:(l+d)%7-(s+d)%7;return Qn(a,u)}class gS extends He{constructor(){super(...arguments);$(this,"priority",90);$(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,a){return t=xf(t,i,a),t.setHours(0,0,0,0),t}}class vS extends He{constructor(){super(...arguments);$(this,"priority",90);$(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,n,i,a){const s=c=>{const l=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+l};switch(n){case"e":case"ee":return Nt(bt(n.length,t),s);case"eo":return Nt(i.ordinalNumber(t,{unit:"day"}),s);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,a){return t=xf(t,i,a),t.setHours(0,0,0,0),t}}class _S extends He{constructor(){super(...arguments);$(this,"priority",90);$(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,n,i,a){const s=c=>{const l=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+l};switch(n){case"c":case"cc":return Nt(bt(n.length,t),s);case"co":return Nt(i.ordinalNumber(t,{unit:"day"}),s);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,a){return t=xf(t,i,a),t.setHours(0,0,0,0),t}}function yS(r,e){const t=ce(r),n=qw(t),i=e-n;return Qn(t,i)}class CS extends He{constructor(){super(...arguments);$(this,"priority",90);$(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,n,i){const a=s=>s===0?7:s;switch(n){case"i":case"ii":return bt(n.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return Nt(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return Nt(i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Nt(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Nt(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,n){return n>=1&&n<=7}set(t,n,i){return t=yS(t,i),t.setHours(0,0,0,0),t}}class bS extends He{constructor(){super(...arguments);$(this,"priority",80);$(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(If(i),0,0,0),t}}class wS extends He{constructor(){super(...arguments);$(this,"priority",80);$(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(If(i),0,0,0),t}}class SS extends He{constructor(){super(...arguments);$(this,"priority",80);$(this,"incompatibleTokens",["a","b","t","T"])}parse(t,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(If(i),0,0,0),t}}class AS extends He{constructor(){super(...arguments);$(this,"priority",70);$(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,n,i){switch(n){case"h":return gt(At.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return bt(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,i){const a=t.getHours()>=12;return a&&i<12?t.setHours(i+12,0,0,0):!a&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class NS extends He{constructor(){super(...arguments);$(this,"priority",70);$(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,n,i){switch(n){case"H":return gt(At.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return bt(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,i){return t.setHours(i,0,0,0),t}}class ES extends He{constructor(){super(...arguments);$(this,"priority",70);$(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,n,i){switch(n){case"K":return gt(At.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return bt(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class TS extends He{constructor(){super(...arguments);$(this,"priority",70);$(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,n,i){switch(n){case"k":return gt(At.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return bt(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,i){const a=i<=24?i%24:i;return t.setHours(a,0,0,0),t}}class kS extends He{constructor(){super(...arguments);$(this,"priority",60);$(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"m":return gt(At.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return bt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setMinutes(i,0,0),t}}class IS extends He{constructor(){super(...arguments);$(this,"priority",50);$(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"s":return gt(At.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return bt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setSeconds(i,0),t}}class xS extends He{constructor(){super(...arguments);$(this,"priority",30);$(this,"incompatibleTokens",["t","T"])}parse(t,n){const i=a=>Math.trunc(a*Math.pow(10,-n.length+3));return Nt(bt(n.length,t),i)}set(t,n,i){return t.setMilliseconds(i),t}}class PS extends He{constructor(){super(...arguments);$(this,"priority",10);$(this,"incompatibleTokens",["t","T","x"])}parse(t,n){switch(n){case"X":return pr(hr.basicOptionalMinutes,t);case"XX":return pr(hr.basic,t);case"XXXX":return pr(hr.basicOptionalSeconds,t);case"XXXXX":return pr(hr.extendedOptionalSeconds,t);case"XXX":default:return pr(hr.extended,t)}}set(t,n,i){return n.timestampIsSet?t:We(t,t.getTime()-Ll(t)-i)}}class DS extends He{constructor(){super(...arguments);$(this,"priority",10);$(this,"incompatibleTokens",["t","T","X"])}parse(t,n){switch(n){case"x":return pr(hr.basicOptionalMinutes,t);case"xx":return pr(hr.basic,t);case"xxxx":return pr(hr.basicOptionalSeconds,t);case"xxxxx":return pr(hr.extendedOptionalSeconds,t);case"xxx":default:return pr(hr.extended,t)}}set(t,n,i){return n.timestampIsSet?t:We(t,t.getTime()-Ll(t)-i)}}class OS extends He{constructor(){super(...arguments);$(this,"priority",40);$(this,"incompatibleTokens","*")}parse(t){return b2(t)}set(t,n,i){return[We(t,i*1e3),{timestampIsSet:!0}]}}class RS extends He{constructor(){super(...arguments);$(this,"priority",20);$(this,"incompatibleTokens","*")}parse(t){return b2(t)}set(t,n,i){return[We(t,i),{timestampIsSet:!0}]}}const MS={G:new Jw,y:new eS,Y:new tS,R:new nS,u:new rS,Q:new iS,q:new oS,M:new aS,L:new sS,w:new lS,I:new uS,d:new fS,D:new mS,E:new gS,e:new vS,c:new _S,i:new CS,a:new bS,b:new wS,B:new SS,h:new AS,H:new NS,K:new ES,k:new TS,m:new kS,s:new IS,S:new xS,X:new PS,x:new DS,t:new OS,T:new RS},LS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FS=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,HS=/^'([^]*?)'?$/,US=/''/g,$S=/\S/,BS=/[a-zA-Z]/;function bu(r,e,t,n){var m,v,_,y,w,b,C,N;const i=jw(),a=(n==null?void 0:n.locale)??i.locale??m2,s=(n==null?void 0:n.firstWeekContainsDate)??((v=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(_=i.locale)==null?void 0:_.options)==null?void 0:y.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((b=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:b.weekStartsOn)??i.weekStartsOn??((N=(C=i.locale)==null?void 0:C.options)==null?void 0:N.weekStartsOn)??0;if(e==="")return r===""?ce(t):We(t,NaN);const l={firstWeekContainsDate:s,weekStartsOn:c,locale:a},d=[new Xw],u=e.match(FS).map(S=>{const k=S[0];if(k in Vl){const T=Vl[k];return T(S,a.formatLong)}return S}).join("").match(LS),h=[];for(let S of u){!(n!=null&&n.useAdditionalWeekYearTokens)&&y2(S)&&Vh(S,e,r),!(n!=null&&n.useAdditionalDayOfYearTokens)&&_2(S)&&Vh(S,e,r);const k=S[0],T=MS[k];if(T){const{incompatibleTokens:A}=T;if(Array.isArray(A)){const I=h.find(R=>A.includes(R.token)||R.token===k);if(I)throw new RangeError(`The format string mustn't contain \`${I.fullToken}\` and \`${S}\` at the same time`)}else if(T.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${S}\` and any other token at the same time`);h.push({token:k,fullToken:S});const E=T.run(r,S,a.match,l);if(!E)return We(t,NaN);d.push(E.setter),r=E.rest}else{if(k.match(BS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");if(S==="''"?S="'":k==="'"&&(S=VS(S)),r.indexOf(S)===0)r=r.slice(S.length);else return We(t,NaN)}}if(r.length>0&&$S.test(r))return We(t,NaN);const p=d.map(S=>S.priority).sort((S,k)=>k-S).filter((S,k,T)=>T.indexOf(S)===k).map(S=>d.filter(k=>k.priority===S).sort((k,T)=>T.subPriority-k.subPriority)).map(S=>S[0]);let f=ce(t);if(isNaN(f.getTime()))return We(t,NaN);const g={};for(const S of p){if(!S.validate(f,l))return We(t,NaN);const k=S.set(f,g,l);Array.isArray(k)?(f=k[0],Object.assign(g,k[1])):f=k}return We(t,f)}function VS(r){return r.match(HS)[1].replace(US,"'")}function YS(r,e){const t=ce(r),n=ce(e);return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()}function WS(r,e){const t=Bh(r),n=Bh(e);return+t==+n}function zS(r,e){const t=ce(r),n=ce(e);return t.getFullYear()===n.getFullYear()}function ws(r,e){const t=+ce(r),[n,i]=[+ce(e.start),+ce(e.end)].sort((a,s)=>a-s);return t>=n&&t<=i}function jS(r,e){return Qn(r,-e)}function qS(r,e){const t=(e==null?void 0:e.additionalDigits)??2,n=ZS(r);let i;if(n.date){const l=XS(n.date,t);i=JS(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let s=0,c;if(n.time&&(s=eA(n.time),isNaN(s)))return new Date(NaN);if(n.timezone){if(c=tA(n.timezone),isNaN(c))return new Date(NaN)}else{const l=new Date(a+s),d=new Date(0);return d.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),d.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),d}return new Date(a+s+c)}const fc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},KS=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,GS=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,QS=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ZS(r){const e={},t=r.split(fc.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],fc.timeZoneDelimiter.test(e.date)&&(e.date=r.split(fc.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const i=fc.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function XS(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:r.slice((n[1]||n[2]).length)}}function JS(r,e){if(e===null)return new Date(NaN);const t=r.match(KS);if(!t)return new Date(NaN);const n=!!t[4],i=Oa(t[1]),a=Oa(t[2])-1,s=Oa(t[3]),c=Oa(t[4]),l=Oa(t[5])-1;if(n)return aA(e,c,l)?nA(e,c,l):new Date(NaN);{const d=new Date(0);return!iA(e,a,s)||!oA(e,i)?new Date(NaN):(d.setUTCFullYear(e,a,Math.max(i,s)),d)}}function Oa(r){return r?parseInt(r):1}function eA(r){const e=r.match(GS);if(!e)return NaN;const t=wu(e[1]),n=wu(e[2]),i=wu(e[3]);return sA(t,n,i)?t*Yd+n*Vd+i*1e3:NaN}function wu(r){return r&&parseFloat(r.replace(",","."))||0}function tA(r){if(r==="Z")return 0;const e=r.match(QS);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return cA(n,i)?t*(n*Yd+i*Vd):NaN}function nA(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const i=n.getUTCDay()||7,a=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const rA=[31,null,31,30,31,30,31,31,30,31,30,31];function A2(r){return r%400===0||r%4===0&&r%100!==0}function iA(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(rA[e]||(A2(r)?29:28))}function oA(r,e){return e>=1&&e<=(A2(r)?366:365)}function aA(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function sA(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function cA(r,e){return e>=0&&e<=59}function An(r,e){const t=ce(r),n=t.getFullYear(),i=t.getDate(),a=We(r,0);a.setFullYear(n,e,15),a.setHours(0,0,0,0);const s=zw(a);return t.setMonth(e,Math.min(i,s)),t}function lA(r,e){let t=ce(r);return isNaN(+t)?We(r,NaN):(e.year!=null&&t.setFullYear(e.year),e.month!=null&&(t=An(t,e.month)),e.date!=null&&t.setDate(e.date),e.hours!=null&&t.setHours(e.hours),e.minutes!=null&&t.setMinutes(e.minutes),e.seconds!=null&&t.setSeconds(e.seconds),e.milliseconds!=null&&t.setMilliseconds(e.milliseconds),t)}function nl(r,e){const t=ce(r);return t.setHours(e),t}function rl(r,e){const t=ce(r);return t.setMinutes(e),t}function Yo(r,e){const t=ce(r),n=Math.trunc(t.getMonth()/3)+1,i=e-n;return An(t,t.getMonth()+i*3)}function il(r,e){const t=ce(r);return t.setSeconds(e),t}function cr(r,e){const t=ce(r);return isNaN(+t)?We(r,NaN):(t.setFullYear(e),t)}function no(r,e){return Jn(r,-e)}function N2(r,e){return Ef(r,-e)}function Wg(r,e){return Fl(r,-e)}function da(r,e){return Gr(r,-e)}function zd(){return typeof window<"u"}function Na(r){return E2(r)?(r.nodeName||"").toLowerCase():"#document"}function xn(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function Tr(r){var e;return(e=(E2(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function E2(r){return zd()?r instanceof Node||r instanceof xn(r).Node:!1}function cn(r){return zd()?r instanceof Element||r instanceof xn(r).Element:!1}function Nr(r){return zd()?r instanceof HTMLElement||r instanceof xn(r).HTMLElement:!1}function zg(r){return!zd()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof xn(r).ShadowRoot}function Vs(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=Un(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(i)}function dA(r){return["table","td","th"].includes(Na(r))}function jd(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch{return!1}})}function Pf(r){const e=Df(),t=cn(r)?Un(r):r;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function uA(r){let e=Ti(r);for(;Nr(e)&&!ua(e);){if(Pf(e))return e;if(jd(e))return null;e=Ti(e)}return null}function Df(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ua(r){return["html","body","#document"].includes(Na(r))}function Un(r){return xn(r).getComputedStyle(r)}function qd(r){return cn(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Ti(r){if(Na(r)==="html")return r;const e=r.assignedSlot||r.parentNode||zg(r)&&r.host||Tr(r);return zg(e)?e.host:e}function T2(r){const e=Ti(r);return ua(e)?r.ownerDocument?r.ownerDocument.body:r.body:Nr(e)&&Vs(e)?e:T2(e)}function Ss(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=T2(r),a=i===((n=r.ownerDocument)==null?void 0:n.body),s=xn(i);if(a){const c=Wh(s);return e.concat(s,s.visualViewport||[],Vs(i)?i:[],c&&t?Ss(c):[])}return e.concat(i,Ss(i,[],t))}function Wh(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const ha=Math.min,ro=Math.max,Wl=Math.round,mc=Math.floor,Cr=r=>({x:r,y:r}),hA={left:"right",right:"left",bottom:"top",top:"bottom"},pA={start:"end",end:"start"};function fA(r,e,t){return ro(r,ha(e,t))}function Kd(r,e){return typeof r=="function"?r(e):r}function pa(r){return r.split("-")[0]}function Ys(r){return r.split("-")[1]}function mA(r){return r==="x"?"y":"x"}function Of(r){return r==="y"?"height":"width"}function As(r){return["top","bottom"].includes(pa(r))?"y":"x"}function Rf(r){return mA(As(r))}function gA(r,e,t){t===void 0&&(t=!1);const n=Ys(r),i=Rf(r),a=Of(i);let s=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=zl(s)),[s,zl(s)]}function vA(r){const e=zl(r);return[zh(r),e,zh(e)]}function zh(r){return r.replace(/start|end/g,e=>pA[e])}function _A(r,e,t){const n=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(r){case"top":case"bottom":return t?e?i:n:e?n:i;case"left":case"right":return e?a:s;default:return[]}}function yA(r,e,t,n){const i=Ys(r);let a=_A(pa(r),t==="start",n);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(zh)))),a}function zl(r){return r.replace(/left|right|bottom|top/g,e=>hA[e])}function CA(r){return{top:0,right:0,bottom:0,left:0,...r}}function k2(r){return typeof r!="number"?CA(r):{top:r,right:r,bottom:r,left:r}}function jl(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}function jg(r,e,t){let{reference:n,floating:i}=r;const a=As(e),s=Rf(e),c=Of(s),l=pa(e),d=a==="y",u=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,p=n[c]/2-i[c]/2;let f;switch(l){case"top":f={x:u,y:n.y-i.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-i.width,y:h};break;default:f={x:n.x,y:n.y}}switch(Ys(e)){case"start":f[s]-=p*(t&&d?-1:1);break;case"end":f[s]+=p*(t&&d?-1:1);break}return f}const bA=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=t,c=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let d=await s.getElementRects({reference:r,floating:e,strategy:i}),{x:u,y:h}=jg(d,n,l),p=n,f={},g=0;for(let m=0;m<c.length;m++){const{name:v,fn:_}=c[m],{x:y,y:w,data:b,reset:C}=await _({x:u,y:h,initialPlacement:n,placement:p,strategy:i,middlewareData:f,rects:d,platform:s,elements:{reference:r,floating:e}});u=y??u,h=w??h,f={...f,[v]:{...f[v],...b}},C&&g<=50&&(g++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(d=C.rects===!0?await s.getElementRects({reference:r,floating:e,strategy:i}):C.rects),{x:u,y:h}=jg(d,p,l)),m=-1)}return{x:u,y:h,placement:p,strategy:i,middlewareData:f}};async function wA(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:s,elements:c,strategy:l}=r,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=Kd(e,r),g=k2(f),v=c[p?h==="floating"?"reference":"floating":h],_=jl(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(v)))==null||t?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:d,rootBoundary:u,strategy:l})),y=h==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),b=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},C=jl(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:y,offsetParent:w,strategy:l}):y);return{top:(_.top-C.top+g.top)/b.y,bottom:(C.bottom-_.bottom+g.bottom)/b.y,left:(_.left-C.left+g.left)/b.x,right:(C.right-_.right+g.right)/b.x}}const SA=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:a,platform:s,elements:c,middlewareData:l}=e,{element:d,padding:u=0}=Kd(r,e)||{};if(d==null)return{};const h=k2(u),p={x:t,y:n},f=Rf(i),g=Of(f),m=await s.getDimensions(d),v=f==="y",_=v?"top":"left",y=v?"bottom":"right",w=v?"clientHeight":"clientWidth",b=a.reference[g]+a.reference[f]-p[f]-a.floating[g],C=p[f]-a.reference[f],N=await(s.getOffsetParent==null?void 0:s.getOffsetParent(d));let S=N?N[w]:0;(!S||!await(s.isElement==null?void 0:s.isElement(N)))&&(S=c.floating[w]||a.floating[g]);const k=b/2-C/2,T=S/2-m[g]/2-1,A=ha(h[_],T),E=ha(h[y],T),I=A,R=S-m[g]-E,M=S/2-m[g]/2+k,F=fA(I,M,R),L=!l.arrow&&Ys(i)!=null&&M!==F&&a.reference[g]/2-(M<I?A:E)-m[g]/2<0,B=L?M<I?M-I:M-R:0;return{[f]:p[f]+B,data:{[f]:F,centerOffset:M-F-B,...L&&{alignmentOffset:B}},reset:L}}}),AA=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:a,rects:s,initialPlacement:c,platform:l,elements:d}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=Kd(r,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const _=pa(i),y=As(c),w=pa(c)===c,b=await(l.isRTL==null?void 0:l.isRTL(d.floating)),C=p||(w||!m?[zl(c)]:vA(c)),N=g!=="none";!p&&N&&C.push(...yA(c,m,g,b));const S=[c,...C],k=await wA(e,v),T=[];let A=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&T.push(k[_]),h){const M=gA(i,s,b);T.push(k[M[0]],k[M[1]])}if(A=[...A,{placement:i,overflows:T}],!T.every(M=>M<=0)){var E,I;const M=(((E=a.flip)==null?void 0:E.index)||0)+1,F=S[M];if(F)return{data:{index:M,overflows:A},reset:{placement:F}};let L=(I=A.filter(B=>B.overflows[0]<=0).sort((B,H)=>B.overflows[1]-H.overflows[1])[0])==null?void 0:I.placement;if(!L)switch(f){case"bestFit":{var R;const B=(R=A.filter(H=>{if(N){const j=As(H.placement);return j===y||j==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(j=>j>0).reduce((j,te)=>j+te,0)]).sort((H,j)=>H[1]-j[1])[0])==null?void 0:R[0];B&&(L=B);break}case"initialPlacement":L=c;break}if(i!==L)return{reset:{placement:L}}}return{}}}};async function NA(r,e){const{placement:t,platform:n,elements:i}=r,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=pa(t),c=Ys(t),l=As(t)==="y",d=["left","top"].includes(s)?-1:1,u=a&&l?-1:1,h=Kd(e,r);let{mainAxis:p,crossAxis:f,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return c&&typeof g=="number"&&(f=c==="end"?g*-1:g),l?{x:f*u,y:p*d}:{x:p*d,y:f*u}}const EA=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:a,placement:s,middlewareData:c}=e,l=await NA(e,r);return s===((t=c.offset)==null?void 0:t.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}};function I2(r){const e=Un(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Nr(r),a=i?r.offsetWidth:t,s=i?r.offsetHeight:n,c=Wl(t)!==a||Wl(n)!==s;return c&&(t=a,n=s),{width:t,height:n,$:c}}function Mf(r){return cn(r)?r:r.contextElement}function Xo(r){const e=Mf(r);if(!Nr(e))return Cr(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:a}=I2(e);let s=(a?Wl(t.width):t.width)/n,c=(a?Wl(t.height):t.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const TA=Cr(0);function x2(r){const e=xn(r);return!Df()||!e.visualViewport?TA:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kA(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==xn(r)?!1:e}function vo(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),a=Mf(r);let s=Cr(1);e&&(n?cn(n)&&(s=Xo(n)):s=Xo(r));const c=kA(a,t,n)?x2(a):Cr(0);let l=(i.left+c.x)/s.x,d=(i.top+c.y)/s.y,u=i.width/s.x,h=i.height/s.y;if(a){const p=xn(a),f=n&&cn(n)?xn(n):n;let g=p,m=Wh(g);for(;m&&n&&f!==g;){const v=Xo(m),_=m.getBoundingClientRect(),y=Un(m),w=_.left+(m.clientLeft+parseFloat(y.paddingLeft))*v.x,b=_.top+(m.clientTop+parseFloat(y.paddingTop))*v.y;l*=v.x,d*=v.y,u*=v.x,h*=v.y,l+=w,d+=b,g=xn(m),m=Wh(g)}}return jl({width:u,height:h,x:l,y:d})}function Lf(r,e){const t=qd(r).scrollLeft;return e?e.left+t:vo(Tr(r)).left+t}function P2(r,e,t){t===void 0&&(t=!1);const n=r.getBoundingClientRect(),i=n.left+e.scrollLeft-(t?0:Lf(r,n)),a=n.top+e.scrollTop;return{x:i,y:a}}function IA(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const a=i==="fixed",s=Tr(n),c=e?jd(e.floating):!1;if(n===s||c&&a)return t;let l={scrollLeft:0,scrollTop:0},d=Cr(1);const u=Cr(0),h=Nr(n);if((h||!h&&!a)&&((Na(n)!=="body"||Vs(s))&&(l=qd(n)),Nr(n))){const f=vo(n);d=Xo(n),u.x=f.x+n.clientLeft,u.y=f.y+n.clientTop}const p=s&&!h&&!a?P2(s,l,!0):Cr(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-l.scrollLeft*d.x+u.x+p.x,y:t.y*d.y-l.scrollTop*d.y+u.y+p.y}}function xA(r){return Array.from(r.getClientRects())}function PA(r){const e=Tr(r),t=qd(r),n=r.ownerDocument.body,i=ro(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=ro(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-t.scrollLeft+Lf(r);const c=-t.scrollTop;return Un(n).direction==="rtl"&&(s+=ro(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:s,y:c}}function DA(r,e){const t=xn(r),n=Tr(r),i=t.visualViewport;let a=n.clientWidth,s=n.clientHeight,c=0,l=0;if(i){a=i.width,s=i.height;const d=Df();(!d||d&&e==="fixed")&&(c=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:c,y:l}}function OA(r,e){const t=vo(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,a=Nr(r)?Xo(r):Cr(1),s=r.clientWidth*a.x,c=r.clientHeight*a.y,l=i*a.x,d=n*a.y;return{width:s,height:c,x:l,y:d}}function qg(r,e,t){let n;if(e==="viewport")n=DA(r,t);else if(e==="document")n=PA(Tr(r));else if(cn(e))n=OA(e,t);else{const i=x2(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return jl(n)}function D2(r,e){const t=Ti(r);return t===e||!cn(t)||ua(t)?!1:Un(t).position==="fixed"||D2(t,e)}function RA(r,e){const t=e.get(r);if(t)return t;let n=Ss(r,[],!1).filter(c=>cn(c)&&Na(c)!=="body"),i=null;const a=Un(r).position==="fixed";let s=a?Ti(r):r;for(;cn(s)&&!ua(s);){const c=Un(s),l=Pf(s);!l&&c.position==="fixed"&&(i=null),(a?!l&&!i:!l&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Vs(s)&&!l&&D2(r,s))?n=n.filter(u=>u!==s):i=c,s=Ti(s)}return e.set(r,n),n}function MA(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const s=[...t==="clippingAncestors"?jd(e)?[]:RA(e,this._c):[].concat(t),n],c=s[0],l=s.reduce((d,u)=>{const h=qg(e,u,i);return d.top=ro(h.top,d.top),d.right=ha(h.right,d.right),d.bottom=ha(h.bottom,d.bottom),d.left=ro(h.left,d.left),d},qg(e,c,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function LA(r){const{width:e,height:t}=I2(r);return{width:e,height:t}}function FA(r,e,t){const n=Nr(e),i=Tr(e),a=t==="fixed",s=vo(r,!0,a,e);let c={scrollLeft:0,scrollTop:0};const l=Cr(0);if(n||!n&&!a)if((Na(e)!=="body"||Vs(i))&&(c=qd(e)),n){const p=vo(e,!0,a,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=Lf(i));const d=i&&!n&&!a?P2(i,c):Cr(0),u=s.left+c.scrollLeft-l.x-d.x,h=s.top+c.scrollTop-l.y-d.y;return{x:u,y:h,width:s.width,height:s.height}}function Su(r){return Un(r).position==="static"}function Kg(r,e){if(!Nr(r)||Un(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return Tr(r)===t&&(t=t.ownerDocument.body),t}function O2(r,e){const t=xn(r);if(jd(r))return t;if(!Nr(r)){let i=Ti(r);for(;i&&!ua(i);){if(cn(i)&&!Su(i))return i;i=Ti(i)}return t}let n=Kg(r,e);for(;n&&dA(n)&&Su(n);)n=Kg(n,e);return n&&ua(n)&&Su(n)&&!Pf(n)?t:n||uA(r)||t}const HA=async function(r){const e=this.getOffsetParent||O2,t=this.getDimensions,n=await t(r.floating);return{reference:FA(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function UA(r){return Un(r).direction==="rtl"}const $A={convertOffsetParentRelativeRectToViewportRelativeRect:IA,getDocumentElement:Tr,getClippingRect:MA,getOffsetParent:O2,getElementRects:HA,getClientRects:xA,getDimensions:LA,getScale:Xo,isElement:cn,isRTL:UA};function R2(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function BA(r,e){let t=null,n;const i=Tr(r);function a(){var c;clearTimeout(n),(c=t)==null||c.disconnect(),t=null}function s(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),a();const d=r.getBoundingClientRect(),{left:u,top:h,width:p,height:f}=d;if(c||e(),!p||!f)return;const g=mc(h),m=mc(i.clientWidth-(u+p)),v=mc(i.clientHeight-(h+f)),_=mc(u),w={rootMargin:-g+"px "+-m+"px "+-v+"px "+-_+"px",threshold:ro(0,ha(1,l))||1};let b=!0;function C(N){const S=N[0].intersectionRatio;if(S!==l){if(!b)return s();S?s(!1,S):n=setTimeout(()=>{s(!1,1e-7)},1e3)}S===1&&!R2(d,r.getBoundingClientRect())&&s(),b=!1}try{t=new IntersectionObserver(C,{...w,root:i.ownerDocument})}catch{t=new IntersectionObserver(C,w)}t.observe(r)}return s(!0),a}function VA(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,d=Mf(r),u=i||a?[...d?Ss(d):[],...Ss(e)]:[];u.forEach(_=>{i&&_.addEventListener("scroll",t,{passive:!0}),a&&_.addEventListener("resize",t)});const h=d&&c?BA(d,t):null;let p=-1,f=null;s&&(f=new ResizeObserver(_=>{let[y]=_;y&&y.target===d&&f&&(f.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(e)})),t()}),d&&!l&&f.observe(d),f.observe(e));let g,m=l?vo(r):null;l&&v();function v(){const _=vo(r);m&&!R2(m,_)&&t(),m=_,g=requestAnimationFrame(v)}return t(),()=>{var _;u.forEach(y=>{i&&y.removeEventListener("scroll",t),a&&y.removeEventListener("resize",t)}),h==null||h(),(_=f)==null||_.disconnect(),f=null,l&&cancelAnimationFrame(g)}}const YA=EA,WA=AA,Gg=SA,zA=(r,e,t)=>{const n=new Map,i={platform:$A,...t},a={...i.platform,_c:n};return bA(r,e,{...i,platform:a})};var ol=typeof document<"u"?xi:Z;function ql(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!ql(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const a=i[n];if(!(a==="_owner"&&r.$$typeof)&&!ql(r[a],e[a]))return!1}return!0}return r!==r&&e!==e}function M2(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function Qg(r,e){const t=M2(r);return Math.round(e*t)/t}function Au(r){const e=Ot(r);return ol(()=>{e.current=r}),e}function jA(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:s}={},transform:c=!0,whileElementsMounted:l,open:d}=r,[u,h]=O({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,f]=O(n);ql(p,n)||f(n);const[g,m]=O(null),[v,_]=O(null),y=nn(H=>{H!==N.current&&(N.current=H,m(H))},[]),w=nn(H=>{H!==S.current&&(S.current=H,_(H))},[]),b=a||g,C=s||v,N=Ot(null),S=Ot(null),k=Ot(u),T=l!=null,A=Au(l),E=Au(i),I=Au(d),R=nn(()=>{if(!N.current||!S.current)return;const H={placement:e,strategy:t,middleware:p};E.current&&(H.platform=E.current),zA(N.current,S.current,H).then(j=>{const te={...j,isPositioned:I.current!==!1};M.current&&!ql(k.current,te)&&(k.current=te,hf(()=>{h(te)}))})},[p,e,t,E,I]);ol(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(H=>({...H,isPositioned:!1})))},[d]);const M=Ot(!1);ol(()=>(M.current=!0,()=>{M.current=!1}),[]),ol(()=>{if(b&&(N.current=b),C&&(S.current=C),b&&C){if(A.current)return A.current(b,C,R);R()}},[b,C,R,A,T]);const F=Me(()=>({reference:N,floating:S,setReference:y,setFloating:w}),[y,w]),L=Me(()=>({reference:b,floating:C}),[b,C]),B=Me(()=>{const H={position:t,left:0,top:0};if(!L.floating)return H;const j=Qg(L.floating,u.x),te=Qg(L.floating,u.y);return c?{...H,transform:"translate("+j+"px, "+te+"px)",...M2(L.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:j,top:te}},[t,c,L.floating,u.x,u.y]);return Me(()=>({...u,update:R,refs:F,elements:L,floatingStyles:B}),[u,R,F,L,B])}const qA=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:i}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?Gg({element:n.current,padding:i}).fn(t):{}:n?Gg({element:n,padding:i}).fn(t):{}}}},KA=(r,e)=>({...YA(r),options:[r,e]}),GA=(r,e)=>({...WA(r),options:[r,e]}),QA=(r,e)=>({...qA(r),options:[r,e]}),L2={...D6},ZA=L2.useInsertionEffect,XA=ZA||(r=>r());function JA(r){const e=Ot(()=>{});return XA(()=>{e.current=r}),nn(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var Kl=typeof document<"u"?xi:Z;let Zg=!1,eN=0;const Xg=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+eN++;function tN(){const[r,e]=O(()=>Zg?Xg():void 0);return Kl(()=>{r==null&&e(Xg())},[]),Z(()=>{Zg=!0},[]),r}const nN=L2.useId,F2=nN||tN,rN=Sa(function(e,t){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:a,shift:s}},width:c=14,height:l=7,tipRadius:d=0,strokeWidth:u=0,staticOffset:h,stroke:p,d:f,style:{transform:g,...m}={},...v}=e,_=F2(),[y,w]=O(!1);if(Kl(()=>{if(!i)return;Un(i).direction==="rtl"&&w(!0)},[i]),!i)return null;const[b,C]=n.split("-"),N=b==="top"||b==="bottom";let S=h;(N&&s!=null&&s.x||!N&&s!=null&&s.y)&&(S=null);const k=u*2,T=k/2,A=c/2*(d/-8+1),E=l/2*d/4,I=!!f,R=S&&C==="end"?"bottom":"top";let M=S&&C==="end"?"right":"left";S&&y&&(M=C==="end"?"left":"right");const F=(a==null?void 0:a.x)!=null?S||a.x:"",L=(a==null?void 0:a.y)!=null?S||a.y:"",B=f||"M0,0"+(" H"+c)+(" L"+(c-A)+","+(l-E))+(" Q"+c/2+","+l+" "+A+","+(l-E))+" Z",H={top:I?"rotate(180deg)":"",left:I?"rotate(90deg)":"rotate(-90deg)",bottom:I?"":"rotate(180deg)",right:I?"rotate(-90deg)":"rotate(90deg)"}[b];return o("svg",{...v,"aria-hidden":!0,ref:t,width:I?c:c+k,height:c,viewBox:"0 0 "+c+" "+(l>c?l:c),style:{position:"absolute",pointerEvents:"none",[M]:F,[R]:L,[b]:N||I?"100%":"calc(100% - "+k/2+"px)",transform:[H,g].filter(j=>!!j).join(" "),...m},children:[k>0&&o("path",{clipPath:"url(#"+_+")",fill:"none",stroke:p,strokeWidth:k+(f?0:1),d:B}),o("path",{stroke:k&&!f?v.fill:"none",d:B}),o("clipPath",{id:_,children:o("rect",{x:-T,y:T*(I?-1:1),width:c+k,height:c})})]})});function iN(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(i=>i(t))},on(e,t){r.set(e,[...r.get(e)||[],t])},off(e,t){var n;r.set(e,((n=r.get(e))==null?void 0:n.filter(i=>i!==t))||[])}}}const oN=Ft(null),aN=Ft(null),sN=()=>{var r;return((r=Yt(oN))==null?void 0:r.id)||null},cN=()=>Yt(aN);function lN(r){const{open:e=!1,onOpenChange:t,elements:n}=r,i=F2(),a=Ot({}),[s]=O(()=>iN()),c=sN()!=null,[l,d]=O(n.reference),u=JA((f,g,m)=>{a.current.openEvent=f?g:void 0,s.emit("openchange",{open:f,event:g,reason:m,nested:c}),t==null||t(f,g,m)}),h=Me(()=>({setPositionReference:d}),[]),p=Me(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return Me(()=>({dataRef:a,open:e,onOpenChange:u,elements:p,events:s,floatingId:i,refs:h}),[e,u,p,s,i,h])}function dN(r){r===void 0&&(r={});const{nodeId:e}=r,t=lN({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,i=n.elements,[a,s]=O(null),[c,l]=O(null),u=(i==null?void 0:i.domReference)||a,h=Ot(null),p=cN();Kl(()=>{u&&(h.current=u)},[u]);const f=jA({...r,elements:{...i,...c&&{reference:c}}}),g=nn(w=>{const b=cn(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;l(b),f.refs.setReference(b)},[f.refs]),m=nn(w=>{(cn(w)||w===null)&&(h.current=w,s(w)),(cn(f.refs.reference.current)||f.refs.reference.current===null||w!==null&&!cn(w))&&f.refs.setReference(w)},[f.refs]),v=Me(()=>({...f.refs,setReference:m,setPositionReference:g,domReference:h}),[f.refs,m,g]),_=Me(()=>({...f.elements,domReference:u}),[f.elements,u]),y=Me(()=>({...f,...n,refs:v,elements:_,nodeId:e}),[f,v,_,e,n]);return Kl(()=>{n.dataRef.current.floatingContext=y;const w=p==null?void 0:p.nodesRef.current.find(b=>b.id===e);w&&(w.context=y)}),Me(()=>({...f,context:y,refs:v,elements:_}),[f,v,_,y])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var jh=function(e,t){return jh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},jh(e,t)};function zt(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");jh(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Pe=function(){return Pe=Object.assign||function(t){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Pe.apply(this,arguments)};function gr(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}var uN=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,i=n===void 0?!1:n,a=r.className,s=r.children,c=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return W.createElement("div",{className:a,role:"dialog","aria-label":c,"aria-modal":"true"},s)},hN=function(r,e){var t=Ot(null),n=Ot(r);n.current=r;var i=nn(function(a){var s;t.current&&!t.current.contains(a.target)&&(e&&a.target instanceof HTMLElement&&a.target.classList.contains(e)||(s=n.current)===null||s===void 0||s.call(n,a))},[e]);return Z(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},Gd=function(r){var e=r.children,t=r.onClickOutside,n=r.className,i=r.containerRef,a=r.style,s=r.ignoreClass,c=hN(t,s);return W.createElement("div",{className:n,style:a,ref:function(l){c.current=l,i&&(i.current=l)}},e)},ae;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(ae||(ae={}));function H2(){var r=typeof window<"u"?window:globalThis;return r}var Ws=12,pN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function ze(r){if(r==null)return new Date;var e=typeof r=="string"?qS(r):ce(r);return Hr(e)?e:new Date}function Nu(r,e,t,n,i){var a,s=null,c=io(t)||io(us()),l=!0;if(Array.isArray(e))return e.forEach(function(u){var h=bu(r,u,new Date,{locale:c,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});n&&(l=Hr(h,i)&&r===at(h,u,t)),Hr(h,i)&&l&&(s=h)}),s;if(s=bu(r,e,new Date,{locale:c,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),n)l=Hr(s)&&r===at(s,e,t);else if(!Hr(s)){var d=((a=e.match(pN))!==null&&a!==void 0?a:[]).map(function(u){var h=u[0];if(h==="p"||h==="P"){var p=Vl[h];return c?p(u,c.formatLong):h}return u}).join("");r.length>0&&(s=bu(r,d.slice(0,r.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Hr(s)||(s=new Date(r))}return Hr(s)&&l?s:null}function Hr(r,e){return Hl(r)&&!go(r,e??new Date("1/1/1800"))}function at(r,e,t){if(t==="en")return Vg(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?io(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),!n&&us()&&io(us())&&(n=io(us())),Vg(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Mn(r,e){var t=e.dateFormat,n=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return r&&at(r,i,n)||""}function fN(r,e,t){if(!r)return"";var n=Mn(r,t),i=e?Mn(e,t):"";return"".concat(n," - ").concat(i)}function mN(r,e){if(!(r!=null&&r.length))return"";var t=r[0]?Mn(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=Mn(r[1],e);return"".concat(t,", ").concat(n)}var i=r.length-1;return"".concat(t," (+").concat(i,")")}function Eu(r,e){var t=e.hour,n=t===void 0?0:t,i=e.minute,a=i===void 0?0:i,s=e.second,c=s===void 0?0:s;return nl(rl(il(r,c),a),n)}function gN(r){return Tf(r)}function vN(r,e){return at(r,"ddd",e)}function al(r){return mo(r)}function Si(r,e,t){var n=io(e||us());return ii(r,{locale:n,weekStartsOn:t})}function Xr(r){return p2(r)}function ja(r){return Wd(r)}function Jg(r){return Bh(r)}function e1(){return mo(ze())}function t1(r){return u2(r)}function _N(r){return X8(r)}function yN(r){return h2(r)}function lr(r,e){return r&&e?zS(r,e):!r&&!e}function an(r,e){return r&&e?YS(r,e):!r&&!e}function Gl(r,e){return r&&e?WS(r,e):!r&&!e}function ke(r,e){return r&&e?Q8(r,e):!r&&!e}function Zi(r,e){return r&&e?Kw(r,e):!r&&!e}function qa(r,e,t){var n,i=mo(e),a=u2(t);try{n=ws(r,{start:i,end:a})}catch{n=!1}return n}function us(){var r=H2();return r.__localeId__}function io(r){if(typeof r=="string"){var e=H2();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function CN(r,e,t){return e(at(r,"EEEE",t))}function bN(r,e){return at(r,"EEEEEE",e)}function wN(r,e){return at(r,"EEE",e)}function Ff(r,e){return at(An(ze(),r),"LLLL",e)}function U2(r,e){return at(An(ze(),r),"LLL",e)}function SN(r,e){return at(Yo(ze(),r),"QQQ",e)}function Fn(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.excludeDateIntervals,c=t.includeDates,l=t.includeDateIntervals,d=t.filterDate;return zs(r,{minDate:n,maxDate:i})||a&&a.some(function(u){return u instanceof Date?ke(r,u):ke(r,u.date)})||s&&s.some(function(u){var h=u.start,p=u.end;return ws(r,{start:h,end:p})})||c&&!c.some(function(u){return ke(r,u)})||l&&!l.some(function(u){var h=u.start,p=u.end;return ws(r,{start:h,end:p})})||d&&!d(ze(r))||!1}function Hf(r,e){var t=e===void 0?{}:e,n=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(a){var s=a.start,c=a.end;return ws(r,{start:s,end:c})}):n&&n.some(function(a){var s;return a instanceof Date?ke(r,a):ke(r,(s=a.date)!==null&&s!==void 0?s:new Date)})||!1}function $2(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,c=t.filterDate;return zs(r,{minDate:n?p2(n):void 0,maxDate:i?h2(i):void 0})||(a==null?void 0:a.some(function(l){return an(r,l instanceof Date?l:l.date)}))||s&&!s.some(function(l){return an(r,l)})||c&&!c(ze(r))||!1}function gc(r,e,t,n){var i=Se(r),a=sn(r),s=Se(e),c=sn(e),l=Se(n);return i===s&&i===l?a<=t&&t<=c:i<s?l===i&&a<=t||l===s&&c>=t||l<s&&l>i:!1}function AN(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates;return zs(r,{minDate:n,maxDate:i})||a&&a.some(function(c){return an(c instanceof Date?c:c.date,r)})||s&&!s.some(function(c){return an(c,r)})||!1}function vc(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,c=t.filterDate;return zs(r,{minDate:n,maxDate:i})||(a==null?void 0:a.some(function(l){return Gl(r,l instanceof Date?l:l.date)}))||s&&!s.some(function(l){return Gl(r,l)})||c&&!c(ze(r))||!1}function _c(r,e,t){if(!e||!t||!Hl(e)||!Hl(t))return!1;var n=Se(e),i=Se(t);return n<=r&&i>=r}function sl(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,c=t.filterDate,l=new Date(r,0,1);return zs(l,{minDate:n?Wd(n):void 0,maxDate:i?f2(i):void 0})||(a==null?void 0:a.some(function(d){return lr(l,d instanceof Date?d:d.date)}))||s&&!s.some(function(d){return lr(l,d)})||c&&!c(ze(l))||!1}function yc(r,e,t,n){var i=Se(r),a=to(r),s=Se(e),c=to(e),l=Se(n);return i===s&&i===l?a<=t&&t<=c:i<s?l===i&&a<=t||l===s&&c>=t||l<s&&l>i:!1}function zs(r,e){var t,n=e===void 0?{}:e,i=n.minDate,a=n.maxDate;return(t=i&&la(r,i)<0||a&&la(r,a)>0)!==null&&t!==void 0?t:!1}function n1(r,e){return e.some(function(t){return _r(t)===_r(r)&&yr(t)===yr(r)&&Zr(t)===Zr(r)})}function r1(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,i=t.includeTimes,a=t.filterTime;return n&&n1(r,n)||i&&!n1(r,i)||a&&!a(r)||!1}function i1(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var i=ze();i=nl(i,_r(r)),i=rl(i,yr(r)),i=il(i,Zr(r));var a=ze();a=nl(a,_r(t)),a=rl(a,yr(t)),a=il(a,Zr(t));var s=ze();s=nl(s,_r(n)),s=rl(s,yr(n)),s=il(s,Zr(n));var c;try{c=!ws(i,{start:a,end:s})}catch{c=!1}return c}function o1(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,a=no(r,1);return n&&Ul(n,a)>0||i&&i.every(function(s){return Ul(s,a)>0})||!1}function a1(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,a=Jn(r,1);return n&&Ul(a,n)>0||i&&i.every(function(s){return Ul(a,s)>0})||!1}function NN(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,a=Wd(r),s=N2(a,1);return n&&$l(n,s)>0||i&&i.every(function(c){return $l(c,s)>0})||!1}function EN(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,a=f2(r),s=Ef(a,1);return n&&$l(s,n)>0||i&&i.every(function(c){return $l(s,c)>0})||!1}function s1(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,a=da(r,1);return n&&Bl(n,a)>0||i&&i.every(function(s){return Bl(s,a)>0})||!1}function TN(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.yearItemNumber,a=i===void 0?Ws:i,s=ja(da(r,a)),c=vi(s,a).endPeriod,l=n&&Se(n);return l&&l>c||!1}function c1(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,a=Gr(r,1);return n&&Bl(a,n)>0||i&&i.every(function(s){return Bl(a,s)>0})||!1}function kN(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.yearItemNumber,a=i===void 0?Ws:i,s=Gr(r,a),c=vi(s,a).startPeriod,l=n&&Se(n);return l&&l<c||!1}function B2(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return la(i,e)>=0});return Lg(n)}else return t?Lg(t):e}function V2(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return la(i,e)<=0});return Mg(n)}else return t?Mg(t):e}function l1(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,i=0,a=r.length;i<a;i++){var s=r[i];if(Qr(s)){var c=at(s,"MM.dd.yyyy"),l=n.get(c)||[];l.includes(e)||(l.push(e),n.set(c,l))}else if(typeof s=="object"){var d=Object.keys(s),u=(t=d[0])!==null&&t!==void 0?t:"",h=s[u];if(typeof u=="string"&&Array.isArray(h))for(var p=0,f=h.length;p<f;p++){var g=h[p];if(g){var c=at(g,"MM.dd.yyyy"),l=n.get(c)||[];l.includes(u)||(l.push(u),n.set(c,l))}}}}return n}function IN(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function xN(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var i=n.date,a=n.holidayName;if(Qr(i)){var s=at(i,"MM.dd.yyyy"),c=t.get(s)||{className:"",holidayNames:[]};if(!("className"in c&&c.className===e&&IN(c.holidayNames,[a]))){c.className=e;var l=c.holidayNames;c.holidayNames=l?gr(gr([],l,!0),[a],!1):[a],t.set(s,c)}}}),t}function PN(r,e,t,n,i){for(var a=i.length,s=[],c=0;c<a;c++){var l=r,d=i[c];d&&(l=j8(l,_r(d)),l=$h(l,yr(d)),l=G8(l,Zr(d)));var u=$h(r,(t+1)*n);Ei(l,e)&&go(l,u)&&d!=null&&s.push(d)}return s}function d1(r){return r<10?"0".concat(r):"".concat(r)}function vi(r,e){e===void 0&&(e=Ws);var t=Math.ceil(Se(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function DN(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function u1(r){var e=r.getSeconds(),t=r.getMilliseconds();return ce(r.getTime()-e*1e3-t)}function ON(r,e){return u1(r).getTime()===u1(e).getTime()}function h1(r){if(!Qr(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function p1(r,e){if(!Qr(r)||!Qr(e))throw new Error("Invalid date received");var t=h1(r),n=h1(e);return go(t,n)}function Y2(r){return r.key===ae.Space}var RN=function(r){zt(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=W.createRef(),n.onTimeChange=function(i){var a,s;n.setState({time:i});var c=n.props.date,l=c instanceof Date&&!isNaN(+c),d=l?c:new Date;if(i!=null&&i.includes(":")){var u=i.split(":"),h=u[0],p=u[1];d.setHours(Number(h)),d.setMinutes(Number(p))}(s=(a=n.props).onChange)===null||s===void 0||s.call(a,d)},n.renderTimeInput=function(){var i=n.state.time,a=n.props,s=a.date,c=a.timeString,l=a.customTimeInput;return l?Ao(l,{date:s,value:i,onChange:n.onTimeChange}):W.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var d;(d=n.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:i,onChange:function(d){n.onTimeChange(d.target.value||c)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return W.createElement("div",{className:"react-datepicker__input-time-container"},W.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),W.createElement("div",{className:"react-datepicker-time__input-container"},W.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(Le),MN=function(r){zt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=wr(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var i,a,s=n.key;s===ae.Space&&(n.preventDefault(),n.key=ae.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,n)},t.isSameDay=function(n){return ke(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected),a=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!a},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),Fn(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return Hf(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return ke(t.props.day,Si(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&ke(n,Si(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,i=n.day,a=n.highlightDates;if(!a)return!1;var s=at(i,"MM.dd.yyyy");return a.get(s)},t.getHolidaysClass=function(){var n,i=t.props,a=i.day,s=i.holidays;if(!s)return[void 0];var c=at(a,"MM.dd.yyyy");return s.has(c)?[(n=s.get(c))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,i=n.day,a=n.startDate,s=n.endDate;return!a||!s?!1:qa(i,a,s)},t.isInSelectingRange=function(){var n,i=t.props,a=i.day,s=i.selectsStart,c=i.selectsEnd,l=i.selectsRange,d=i.selectsDisabledDaysInRange,u=i.startDate,h=i.endDate,p=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(s||c||l)||!p||!d&&t.isDisabled()?!1:s&&h&&(go(p,h)||Zi(p,h))?qa(a,p,h):c&&u&&(Ei(p,u)||Zi(p,u))||l&&u&&!h&&(Ei(p,u)||Zi(p,u))?qa(a,u,p):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,s=i.startDate,c=i.selectsStart,l=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c?ke(a,l):ke(a,s)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,s=i.endDate,c=i.selectsEnd,l=i.selectsRange,d=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c||l?ke(a,d):ke(a,s)},t.isRangeStart=function(){var n=t.props,i=n.day,a=n.startDate,s=n.endDate;return!a||!s?!1:ke(a,i)},t.isRangeEnd=function(){var n=t.props,i=n.day,a=n.startDate,s=n.endDate;return!a||!s?!1:ke(s,i)},t.isWeekend=function(){var n=Ww(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===sn(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(sn(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(ze())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var i=t.props.dayClassName?t.props.dayClassName(n):void 0;return Kt("react-datepicker__day",i,"react-datepicker__day--"+vN(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,i=n.day,a=n.ariaLabelPrefixWhenEnabled,s=a===void 0?"Choose":a,c=n.ariaLabelPrefixWhenDisabled,l=c===void 0?"Not available":c,d=t.isDisabled()||t.isExcluded()?l:s;return"".concat(d," ").concat(at(i,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,i=n.day,a=n.holidays,s=a===void 0?new Map:a,c=n.excludeDates,l=at(i,"MM.dd.yyyy"),d=[];return s.has(l)&&d.push.apply(d,s.get(l).holidayNames),t.isExcluded()&&d.push(c==null?void 0:c.filter(function(u){return u instanceof Date?ke(u,i):ke(u==null?void 0:u.date,i)}).map(function(u){if(!(u instanceof Date))return u==null?void 0:u.message})),d.join(", ")},t.getTabIndex=function(){var n=t.props.selected,i=t.props.preSelection,a=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&ke(i,n))?0:-1;return a},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(Yg(t.props.day),t.props.day):Yg(t.props.day)},t.render=function(){return W.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&W.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,i;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(Le),LN=function(r){zt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=wr(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var i,a,s=n.key;s===ae.Space&&(n.preventDefault(),n.key=ae.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!ke(t.props.date,t.props.selected)&&ke(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||ke(t.props.date,t.props.selected)&&ke(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var i=!1;t.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&ke(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,i=t.isWeekDisabled,a=t.ariaLabelPrefix,s=a===void 0?e.defaultProps.ariaLabelPrefix:a,c=t.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!c&&!i,"react-datepicker__week-number--selected":!!c&&ke(this.props.date,this.props.selected)};return W.createElement("div",{ref:this.weekNumberEl,className:Kt(l),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},e}(Le),FN=function(r){zt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return Fn(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,i){t.props.onDayClick&&t.props.onDayClick(n,i)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,i,a){for(var s,c,l,d=new Date(n),u=0;u<7;u++){var h=new Date(n);h.setDate(h.getDate()+u);var p=!t.isDisabled(h);if(p){d=h;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(d,i,a),t.props.showWeekPicker&&t.handleDayClick(d,a),((s=t.props.shouldCloseOnSelect)!==null&&s!==void 0?s:e.defaultProps.shouldCloseOnSelect)&&((l=(c=t.props).setOpen)===null||l===void 0||l.call(c,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):gN(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),i=Qn(n,6),a=new Date(n);a<=i;){if(!t.isDisabled(a))return!1;a=Qn(a,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),i=[],a=t.formatWeekNumber(n);if(t.props.showWeekNumber){var s=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,a):void 0;i.push(W.createElement(LN,Pe({key:"W"},e.defaultProps,t.props,{weekNumber:a,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:s})))}return i.concat([0,1,2,3,4,5,6].map(function(c){var l=Qn(n,c);return W.createElement(MN,Pe({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:t.handleDayClick.bind(t,l),onMouseEnter:t.handleDayMouseEnter.bind(t,l)}))}))},t.startOfWeek=function(){return Si(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!ke(t.startOfWeek(),t.props.selected)&&ke(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":ke(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return W.createElement("div",{className:Kt(t)},this.renderDays())},e}(Le),Ra,HN=6,Jo={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Tu=(Ra={},Ra[Jo.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Ra[Jo.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Ra[Jo.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Ra),Cc=1;function f1(r,e){return r?Jo.FOUR_COLUMNS:e?Jo.TWO_COLUMNS:Jo.THREE_COLUMNS}var UN=function(r){zt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=gr([],Array(12),!0).map(function(){return wr()}),t.QUARTER_REFS=gr([],Array(4),!0).map(function(){return wr()}),t.isDisabled=function(n){return Fn(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return Hf(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,i){var a,s;(s=(a=t.props).onDayClick)===null||s===void 0||s.call(a,n,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var i,a;(a=(i=t.props).onDayMouseEnter)===null||a===void 0||a.call(i,n)},t.handleMouseLeave=function(){var n,i;(i=(n=t.props).onMouseLeave)===null||i===void 0||i.call(n)},t.isRangeStartMonth=function(n){var i=t.props,a=i.day,s=i.startDate,c=i.endDate;return!s||!c?!1:an(An(a,n),s)},t.isRangeStartQuarter=function(n){var i=t.props,a=i.day,s=i.startDate,c=i.endDate;return!s||!c?!1:Gl(Yo(a,n),s)},t.isRangeEndMonth=function(n){var i=t.props,a=i.day,s=i.startDate,c=i.endDate;return!s||!c?!1:an(An(a,n),c)},t.isRangeEndQuarter=function(n){var i=t.props,a=i.day,s=i.startDate,c=i.endDate;return!s||!c?!1:Gl(Yo(a,n),c)},t.isInSelectingRangeMonth=function(n){var i,a=t.props,s=a.day,c=a.selectsStart,l=a.selectsEnd,d=a.selectsRange,u=a.startDate,h=a.endDate,p=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||l||d)||!p?!1:c&&h?gc(p,h,n,s):l&&u||d&&u&&!h?gc(u,p,n,s):!1},t.isSelectingMonthRangeStart=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var a=t.props,s=a.day,c=a.startDate,l=a.selectsStart,d=An(s,n),u=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return l?an(d,u):an(d,c)},t.isSelectingMonthRangeEnd=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var a=t.props,s=a.day,c=a.endDate,l=a.selectsEnd,d=a.selectsRange,u=An(s,n),h=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return l||d?an(u,h):an(u,c)},t.isInSelectingRangeQuarter=function(n){var i,a=t.props,s=a.day,c=a.selectsStart,l=a.selectsEnd,d=a.selectsRange,u=a.startDate,h=a.endDate,p=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||l||d)||!p?!1:c&&h?yc(p,h,n,s):l&&u||d&&u&&!h?yc(u,p,n,s):!1},t.isWeekInMonth=function(n){var i=t.props.day,a=Qn(n,6);return an(n,i)||an(a,i)},t.isCurrentMonth=function(n,i){return Se(n)===Se(ze())&&i===sn(ze())},t.isCurrentQuarter=function(n,i){return Se(n)===Se(ze())&&i===to(ze())},t.isSelectedMonth=function(n,i,a){return sn(a)===i&&Se(n)===Se(a)},t.isSelectMonthInList=function(n,i,a){return a.some(function(s){return t.isSelectedMonth(n,i,s)})},t.isSelectedQuarter=function(n,i,a){return to(n)===i&&Se(n)===Se(a)},t.renderWeeks=function(){for(var n=[],i=t.props.fixedHeight,a=0,s=!1,c=Si(Xr(t.props.day),t.props.locale,t.props.calendarStartDay),l=function(g){return t.props.showWeekPicker?Si(g,t.props.locale,t.props.calendarStartDay):t.props.preSelection},d=function(g){return t.props.showWeekPicker?Si(g,t.props.locale,t.props.calendarStartDay):t.props.selected},u=t.props.selected?d(t.props.selected):void 0,h=t.props.preSelection?l(t.props.preSelection):void 0;n.push(W.createElement(FN,Pe({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:a,day:c,month:sn(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:u,preSelection:h,showWeekNumber:t.props.showWeekNumbers}))),!s;){a++,c=Fl(c,1);var p=i&&a>=HN,f=!i&&!t.isWeekInMonth(c);if(p||f)if(t.props.peekNextMonth)s=!0;else break}return n},t.onMonthClick=function(n,i){var a=t.isMonthDisabledForLabelDate(i),s=a.isDisabled,c=a.labelDate;s||t.handleDayClick(Xr(c),n)},t.onMonthMouseEnter=function(n){var i=t.isMonthDisabledForLabelDate(n),a=i.isDisabled,s=i.labelDate;a||t.handleDayMouseEnter(Xr(s))},t.handleMonthNavigation=function(n,i){var a,s,c,l;(s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,i),(l=(c=t.MONTH_REFS[n])===null||c===void 0?void 0:c.current)===null||l===void 0||l.focus()},t.handleKeyboardNavigation=function(n,i,a){var s,c=t.props,l=c.selected,d=c.preSelection,u=c.setPreSelection,h=c.minDate,p=c.maxDate,f=c.showFourColumnMonthYearPicker,g=c.showTwoColumnMonthYearPicker;if(d){var m=f1(f,g),v=t.getVerticalOffset(m),_=(s=Tu[m])===null||s===void 0?void 0:s.grid,y=function(S,k,T){var A,E,I=k,R=T;switch(S){case ae.ArrowRight:I=Jn(k,Cc),R=T===11?0:T+Cc;break;case ae.ArrowLeft:I=no(k,Cc),R=T===0?11:T-Cc;break;case ae.ArrowUp:I=no(k,v),R=!((A=_==null?void 0:_[0])===null||A===void 0)&&A.includes(T)?T+12-v:T-v;break;case ae.ArrowDown:I=Jn(k,v),R=!((E=_==null?void 0:_[_.length-1])===null||E===void 0)&&E.includes(T)?T-12+v:T+v;break}return{newCalculatedDate:I,newCalculatedMonth:R}},w=function(S,k,T){for(var A=40,E=S,I=!1,R=0,M=y(E,k,T),F=M.newCalculatedDate,L=M.newCalculatedMonth;!I;){if(R>=A){F=k,L=T;break}if(h&&F<h){E=ae.ArrowRight;var B=y(E,F,L);F=B.newCalculatedDate,L=B.newCalculatedMonth}if(p&&F>p){E=ae.ArrowLeft;var B=y(E,F,L);F=B.newCalculatedDate,L=B.newCalculatedMonth}if(AN(F,t.props)){var B=y(E,F,L);F=B.newCalculatedDate,L=B.newCalculatedMonth}else I=!0;R++}return{newCalculatedDate:F,newCalculatedMonth:L}};if(i===ae.Enter){t.isMonthDisabled(a)||(t.onMonthClick(n,a),u==null||u(l));return}var b=w(i,d,a),C=b.newCalculatedDate,N=b.newCalculatedMonth;switch(i){case ae.ArrowRight:case ae.ArrowLeft:case ae.ArrowUp:case ae.ArrowDown:t.handleMonthNavigation(N,C);break}}},t.getVerticalOffset=function(n){var i,a;return(a=(i=Tu[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&a!==void 0?a:0},t.onMonthKeyDown=function(n,i){var a=t.props,s=a.disabledKeyboardNavigation,c=a.handleOnMonthKeyDown,l=n.key;l!==ae.Tab&&n.preventDefault(),s||t.handleKeyboardNavigation(n,l,i),c&&c(n)},t.onQuarterClick=function(n,i){var a=Yo(t.props.day,i);vc(a,t.props)||t.handleDayClick(Jg(a),n)},t.onQuarterMouseEnter=function(n){var i=Yo(t.props.day,n);vc(i,t.props)||t.handleDayMouseEnter(Jg(i))},t.handleQuarterNavigation=function(n,i){var a,s,c,l;t.isDisabled(i)||t.isExcluded(i)||((s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,i),(l=(c=t.QUARTER_REFS[n-1])===null||c===void 0?void 0:c.current)===null||l===void 0||l.focus())},t.onQuarterKeyDown=function(n,i){var a,s,c=n.key;if(!t.props.disabledKeyboardNavigation)switch(c){case ae.Enter:t.onQuarterClick(n,i),(s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,t.props.selected);break;case ae.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,Ef(t.props.preSelection,1));break;case ae.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,N2(t.props.preSelection,1));break}},t.isMonthDisabledForLabelDate=function(n){var i,a=t.props,s=a.day,c=a.minDate,l=a.maxDate,d=a.excludeDates,u=a.includeDates,h=An(s,n);return{isDisabled:(i=(c||l||d||u)&&$2(h,t.props))!==null&&i!==void 0?i:!1,labelDate:h}},t.isMonthDisabled=function(n){var i=t.isMonthDisabledForLabelDate(n).isDisabled;return i},t.getMonthClassNames=function(n){var i=t.props,a=i.day,s=i.startDate,c=i.endDate,l=i.preSelection,d=i.monthClassName,u=d?d(An(a,n)):void 0,h=t.getSelection();return Kt("react-datepicker__month-text","react-datepicker__month-".concat(n),u,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":h?t.isSelectMonthInList(a,n,h):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&l&&t.isSelectedMonth(a,n,l)&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":s&&c?gc(s,c,n,a):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(a,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=sn(t.props.preSelection),a=t.isMonthDisabledForLabelDate(i).isDisabled,s=n===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return s},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=to(t.props.preSelection),a=vc(t.props.day,t.props),s=n===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return s},t.getAriaLabel=function(n){var i=t.props,a=i.chooseDayAriaLabelPrefix,s=a===void 0?"Choose":a,c=i.disabledDayAriaLabelPrefix,l=c===void 0?"Not available":c,d=i.day,u=i.locale,h=An(d,n),p=t.isDisabled(h)||t.isExcluded(h)?l:s;return"".concat(p," ").concat(at(h,"MMMM yyyy",u))},t.getQuarterClassNames=function(n){var i=t.props,a=i.day,s=i.startDate,c=i.endDate,l=i.selected,d=i.minDate,u=i.maxDate,h=i.excludeDates,p=i.includeDates,f=i.filterDate,g=i.preSelection,m=i.disabledKeyboardNavigation,v=(d||u||h||p||f)&&vc(Yo(a,n),t.props);return Kt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":v,"react-datepicker__quarter-text--selected":l?t.isSelectedQuarter(a,n,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!m&&g&&t.isSelectedQuarter(a,n,g)&&!v,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":s&&c?yc(s,c,n,a):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n)})},t.getMonthContent=function(n){var i=t.props,a=i.showFullMonthYearPicker,s=i.renderMonthContent,c=i.locale,l=i.day,d=U2(n,c),u=Ff(n,c);return s?s(n,d,u,l):a?u:d},t.getQuarterContent=function(n){var i,a=t.props,s=a.renderQuarterContent,c=a.locale,l=SN(n,c);return(i=s==null?void 0:s(n,l))!==null&&i!==void 0?i:l},t.renderMonths=function(){var n,i=t.props,a=i.showTwoColumnMonthYearPicker,s=i.showFourColumnMonthYearPicker,c=i.day,l=i.selected,d=(n=Tu[f1(s,a)])===null||n===void 0?void 0:n.grid;return d==null?void 0:d.map(function(u,h){return W.createElement("div",{className:"react-datepicker__month-wrapper",key:h},u.map(function(p,f){return W.createElement("div",{ref:t.MONTH_REFS[p],key:f,onClick:function(g){t.onMonthClick(g,p)},onKeyDown:function(g){Y2(g)&&(g.preventDefault(),g.key=ae.Enter),t.onMonthKeyDown(g,p)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(p)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(p)}:void 0,tabIndex:Number(t.getTabIndex(p)),className:t.getMonthClassNames(p),"aria-disabled":t.isMonthDisabled(p),role:"option","aria-label":t.getAriaLabel(p),"aria-current":t.isCurrentMonth(c,p)?"date":void 0,"aria-selected":l?t.isSelectedMonth(c,p,l):void 0},t.getMonthContent(p))}))})},t.renderQuarters=function(){var n=t.props,i=n.day,a=n.selected,s=[1,2,3,4];return W.createElement("div",{className:"react-datepicker__quarter-wrapper"},s.map(function(c,l){return W.createElement("div",{key:l,ref:t.QUARTER_REFS[l],role:"option",onClick:function(d){t.onQuarterClick(d,c)},onKeyDown:function(d){t.onQuarterKeyDown(d,c)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(c)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(c)}:void 0,className:t.getQuarterClassNames(c),"aria-selected":a?t.isSelectedQuarter(i,c,a):void 0,tabIndex:Number(t.getQuarterTabIndex(c)),"aria-current":t.isCurrentQuarter(i,c)?"date":void 0},t.getQuarterContent(c))}))},t.getClassNames=function(){var n=t.props,i=n.selectingDate,a=n.selectsStart,s=n.selectsEnd,c=n.showMonthYearPicker,l=n.showQuarterYearPicker,d=n.showWeekPicker;return Kt("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(a||s)},{"react-datepicker__monthPicker":c},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":d})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,i=t.selectedDates,a=t.selectsMultiple;if(a)return i;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,i=t.showQuarterYearPicker,a=t.day,s=t.ariaLabelPrefix,c=s===void 0?"Month ":s,l=c?c.trim()+" ":"";return W.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(at(a,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(Le),$N=function(r){zt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,i){return W.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?W.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return W.createElement(Gd,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(Le),BN=function(r){zt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(i,a){return W.createElement("option",{key:i,value:a},i)})},t.renderSelectMode=function(n){return W.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,i){return W.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},W.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),W.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(n){return W.createElement($N,Pe({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var i=t.state.dropdownVisible,a=[t.renderReadView(!i,n)];return i&&a.unshift(t.renderDropdown(n)),a},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return U2(a,t.props.locale)}:function(a){return Ff(a,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return W.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(Le);function VN(r,e){for(var t=[],n=Xr(r),i=Xr(e);!Ei(n,i);)t.push(ze(n)),n=Jn(n,1);return t}var YN=function(r){zt(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var a=Yh(i),s=lr(n.props.date,i)&&an(n.props.date,i);return W.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:n.onChange.bind(n,a),"aria-selected":s?"true":void 0},s?W.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",at(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:VN(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=Kt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return W.createElement(Gd,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(Le),WN=function(r){zt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=Xr(t.props.minDate),i=Xr(t.props.maxDate),a=[];!Ei(n,i);){var s=Yh(n);a.push(W.createElement("option",{key:s,value:s},at(n,t.props.dateFormat,t.props.locale))),n=Jn(n,1)}return a},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return W.createElement("select",{value:Yh(Xr(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var i=at(t.props.date,t.props.dateFormat,t.props.locale);return W.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},W.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),W.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return W.createElement(YN,Pe({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown();var i=ze(n);lr(t.props.date,i)&&an(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return W.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(Le),zN=function(r){zt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,a;t.list&&(t.list.scrollTop=(a=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&a!==void 0?a:0)})},t.handleClick=function(n){var i,a;(t.props.minTime||t.props.maxTime)&&i1(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&r1(n,t.props)||(a=(i=t.props).onChange)===null||a===void 0||a.call(i,n)},t.isSelectedTime=function(n){return t.props.selected&&ON(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&i1(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&r1(n,t.props)},t.liClasses=function(n){var i,a=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&a.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&a.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(_r(n)*3600+yr(n)*60+Zr(n))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},t.handleOnKeyDown=function(n,i){var a,s;n.key===ae.Space&&(n.preventDefault(),n.key=ae.Enter),(n.key===ae.ArrowUp||n.key===ae.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===ae.ArrowDown||n.key===ae.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===ae.Enter&&t.handleClick(i),(s=(a=t.props).handleOnKeyDown)===null||s===void 0||s.call(a,n)},t.renderTimes=function(){for(var n,i=[],a=typeof t.props.format=="string"?t.props.format:"p",s=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,c=t.props.selected||t.props.openToDate||ze(),l=al(c),d=t.props.injectTimes&&t.props.injectTimes.sort(function(v,_){return v.getTime()-_.getTime()}),u=60*DN(c),h=u/s,p=0;p<h;p++){var f=$h(l,p*s);if(i.push(f),d){var g=PN(l,f,p,s,d);i=i.concat(g)}}var m=i.reduce(function(v,_){return _.getTime()<=c.getTime()?_:v},i[0]);return i.map(function(v){return W.createElement("li",{key:v.valueOf(),onClick:t.handleClick.bind(t,v),className:t.liClasses(v),ref:function(_){v===m&&(t.centerLi=_)},onKeyDown:function(_){t.handleOnKeyDown(_,v)},tabIndex:v===m?0:-1,role:"option","aria-selected":t.isSelectedTime(v)?"true":void 0,"aria-disabled":t.isDisabledTime(v)?"true":void 0},at(v,a,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?W.createElement(W.Fragment,null):W.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},W.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,i=this.state.height;return W.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),W.createElement("div",{className:"react-datepicker__time"},W.createElement("div",{className:"react-datepicker__time-box"},W.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){t.list=a},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e}(Le),m1=3,jN=function(r){zt(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=gr([],Array(n.props.yearItemNumber),!0).map(function(){return wr()}),n.isDisabled=function(i){return Fn(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return Hf(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var a=function(){var s,c;(c=(s=n.YEAR_REFS[i])===null||s===void 0?void 0:s.current)===null||c===void 0||c.focus()};window.requestAnimationFrame(a)},n.handleYearClick=function(i,a){n.props.onDayClick&&n.props.onDayClick(i,a)},n.handleYearNavigation=function(i,a){var s,c,l,d,u=n.props,h=u.date,p=u.yearItemNumber;if(!(h===void 0||p===void 0)){var f=vi(h,p).startPeriod;n.isDisabled(a)||n.isExcluded(a)||((c=(s=n.props).setPreSelection)===null||c===void 0||c.call(s,a),i-f<0?n.updateFocusOnPaginate(p-(f-i)):i-f>=p?n.updateFocusOnPaginate(Math.abs(p-(i-f))):(d=(l=n.YEAR_REFS[i-f])===null||l===void 0?void 0:l.current)===null||d===void 0||d.focus())}},n.isSameDay=function(i,a){return ke(i,a)},n.isCurrentYear=function(i){return i===Se(ze())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&lr(cr(ze(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&lr(cr(ze(),i),n.props.endDate)},n.isInRange=function(i){return _c(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var a=n.props,s=a.selectsStart,c=a.selectsEnd,l=a.selectsRange,d=a.startDate,u=a.endDate;return!(s||c||l)||!n.selectingDate()?!1:s&&u?_c(i,n.selectingDate(),u):c&&d||l&&d&&!u?_c(i,d,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var a;if(!n.isInSelectingRange(i))return!1;var s=n.props,c=s.startDate,l=s.selectsStart,d=cr(ze(),i);return l?lr(d,(a=n.selectingDate())!==null&&a!==void 0?a:null):lr(d,c??null)},n.isSelectingRangeEnd=function(i){var a;if(!n.isInSelectingRange(i))return!1;var s=n.props,c=s.endDate,l=s.selectsEnd,d=s.selectsRange,u=cr(ze(),i);return l||d?lr(u,(a=n.selectingDate())!==null&&a!==void 0?a:null):lr(u,c??null)},n.isKeyboardSelected=function(i){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var a=n.props,s=a.minDate,c=a.maxDate,l=a.excludeDates,d=a.includeDates,u=a.filterDate,h=ja(cr(n.props.date,i)),p=(s||c||l||d||u)&&sl(i,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!ke(h,ja(n.props.selected))&&ke(h,ja(n.props.preSelection))&&!p}},n.onYearClick=function(i,a){var s=n.props.date;s!==void 0&&n.handleYearClick(ja(cr(s,a)),i)},n.onYearKeyDown=function(i,a){var s,c,l=i.key,d=n.props,u=d.date,h=d.yearItemNumber,p=d.handleOnKeyDown;if(l!==ae.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(l){case ae.Enter:if(n.props.selected==null)break;n.onYearClick(i,a),(c=(s=n.props).setPreSelection)===null||c===void 0||c.call(s,n.props.selected);break;case ae.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(a+1,Gr(n.props.preSelection,1));break;case ae.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(a-1,da(n.props.preSelection,1));break;case ae.ArrowUp:{if(u===void 0||h===void 0||n.props.preSelection==null)break;var f=vi(u,h).startPeriod,g=m1,m=a-g;if(m<f){var v=h%g;a>=f&&a<f+v?g=v:g+=v,m=a-g}n.handleYearNavigation(m,da(n.props.preSelection,g));break}case ae.ArrowDown:{if(u===void 0||h===void 0||n.props.preSelection==null)break;var _=vi(u,h).endPeriod,g=m1,m=a+g;if(m>_){var v=h%g;a<=_&&a>_-v?g=v:g+=v,m=a+g}n.handleYearNavigation(m,Gr(n.props.preSelection,g));break}}p&&p(i)},n.getYearClassNames=function(i){var a=n.props,s=a.date,c=a.minDate,l=a.maxDate,d=a.selected,u=a.excludeDates,h=a.includeDates,p=a.filterDate,f=a.yearClassName;return Kt("react-datepicker__year-text","react-datepicker__year-".concat(i),s?f==null?void 0:f(cr(s,i)):void 0,{"react-datepicker__year-text--selected":d?i===Se(d):void 0,"react-datepicker__year-text--disabled":(c||l||u||h||p)&&sl(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var a=Se(n.props.preSelection),s=sl(i,n.props);return i===a&&!s?"0":"-1"},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return e.prototype.render=function(){var t=this,n=[],i=this.props,a=i.date,s=i.yearItemNumber,c=i.onYearMouseEnter,l=i.onYearMouseLeave;if(a===void 0)return null;for(var d=vi(a,s),u=d.startPeriod,h=d.endPeriod,p=function(m){n.push(W.createElement("div",{ref:f.YEAR_REFS[m-u],onClick:function(v){t.onYearClick(v,m)},onKeyDown:function(v){Y2(v)&&(v.preventDefault(),v.key=ae.Enter),t.onYearKeyDown(v,m)},tabIndex:Number(f.getYearTabIndex(m)),className:f.getYearClassNames(m),onMouseEnter:f.props.usePointerEvent?void 0:function(v){return c(v,m)},onPointerEnter:f.props.usePointerEvent?function(v){return c(v,m)}:void 0,onMouseLeave:f.props.usePointerEvent?void 0:function(v){return l(v,m)},onPointerLeave:f.props.usePointerEvent?function(v){return l(v,m)}:void 0,key:m,"aria-current":f.isCurrentYear(m)?"date":void 0},f.getYearContent(m)))},f=this,g=u;g<=h;g++)p(g);return W.createElement("div",{className:"react-datepicker__year"},W.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e}(Le);function qN(r,e,t,n){for(var i=[],a=0;a<2*e+1;a++){var s=r+e-a,c=!0;t&&(c=Se(t)<=s),n&&c&&(c=Se(n)>=s),c&&i.push(s)}return i}var KN=function(r){zt(e,r);function e(t){var n=r.call(this,t)||this;n.renderOptions=function(){var c=n.props.year,l=n.state.yearsList.map(function(h){return W.createElement("div",{className:c===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:n.onChange.bind(n,h),"aria-selected":c===h?"true":void 0},c===h?W.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",h)}),d=n.props.minDate?Se(n.props.minDate):null,u=n.props.maxDate?Se(n.props.maxDate):null;return(!u||!n.state.yearsList.find(function(h){return h===u}))&&l.unshift(W.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},W.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!n.state.yearsList.find(function(h){return h===d}))&&l.push(W.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},W.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},n.onChange=function(c){n.props.onChange(c)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(c){var l=n.state.yearsList.map(function(d){return d+c});n.setState({yearsList:l})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=t.yearDropdownItemNumber,a=t.scrollableYearDropdown,s=i||(a?10:5);return n.state={yearsList:qN(n.props.year,s,n.props.minDate,n.props.maxDate)},n.dropdownRef=wr(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,i=n?n.find(function(a){return a.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=Kt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return W.createElement(Gd,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(Le),GN=function(r){zt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Se(t.props.minDate):1900,i=t.props.maxDate?Se(t.props.maxDate):2100,a=[],s=n;s<=i;s++)a.push(W.createElement("option",{key:s,value:s},s));return a},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return W.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return W.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},W.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),W.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return W.createElement(KN,Pe({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,i){var a;(a=t.onSelect)===null||a===void 0||a.call(t,n,i),t.setOpen()},t.onSelect=function(n,i){var a,s;(s=(a=t.props).onSelect)===null||s===void 0||s.call(a,n,i)},t.setOpen=function(){var n,i;(i=(n=t.props).setOpen)===null||i===void 0||i.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return W.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(Le),QN=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],ZN=function(r){var e=(r.className||"").split(/\s+/);return QN.some(function(t){return e.indexOf(t)>=0})},XN=function(r){zt(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var a,s;ZN(i.target)&&((s=(a=n.props).onDropdownFocus)===null||s===void 0||s.call(a,i))},n.getDateInView=function(){var i=n.props,a=i.preSelection,s=i.selected,c=i.openToDate,l=B2(n.props),d=V2(n.props),u=ze(),h=c||s||a;return h||(l&&go(u,l)?l:d&&Ei(u,d)?d:u)},n.increaseMonth=function(){n.setState(function(i){var a=i.date;return{date:Jn(a,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var a=i.date;return{date:no(a,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,a,s){n.props.onSelect(i,a,s),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,a){n.setState({selectingDate:cr(ze(),a)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,a)},n.handleYearMouseLeave=function(i,a){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,a)},n.handleYearChange=function(i){var a,s,c,l;(s=(a=n.props).onYearChange)===null||s===void 0||s.call(a,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(l=(c=n.props).setOpen)===null||l===void 0||l.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!Fn(i,n.props))return i;for(var a=Xr(i),s=yN(i),c=Z8(s,a),l=null,d=0;d<=c;d++){var u=Qn(a,d);if(!Fn(u,n.props)){l=u;break}}return l},n.handleMonthChange=function(i){var a,s,c,l=(a=n.getEnabledPreSelectionDateForMonth(i))!==null&&a!==void 0?a:i;n.handleCustomMonthChange(l),n.props.adjustDateOnChange&&(n.props.onSelect(l),(c=(s=n.props).setOpen)===null||c===void 0||c.call(s,!0)),n.props.setPreSelection&&n.props.setPreSelection(l)},n.handleCustomMonthChange=function(i){var a,s;(s=(a=n.props).onMonthChange)===null||s===void 0||s.call(a,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(a){var s=a.date;return{date:cr(s,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(a){var s=a.date;return{date:An(s,Number(i))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(i){n.setState(function(a){var s=a.date;return{date:cr(An(s,sn(i)),Se(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i){i===void 0&&(i=n.state.date);var a=Si(i,n.props.locale,n.props.calendarStartDay),s=[];return n.props.showWeekNumbers&&s.push(W.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),s.concat([0,1,2,3,4,5,6].map(function(c){var l=Qn(a,c),d=n.formatWeekday(l,n.props.locale),u=n.props.weekDayClassName?n.props.weekDayClassName(l):void 0;return W.createElement("div",{key:c,"aria-label":at(l,"EEEE",n.props.locale),className:Kt("react-datepicker__day-name",u)},d)}))},n.formatWeekday=function(i,a){return n.props.formatWeekDay?CN(i,n.props.formatWeekDay,a):n.props.useWeekdaysShort?wN(i,a):bN(i,a)},n.decreaseYear=function(){n.setState(function(i){var a,s=i.date;return{date:da(s,n.props.showYearPicker?(a=n.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i,a,s;if(!n.props.renderCustomHeader){var c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=n.props.showPreviousMonths?c-1:0,d=(a=n.props.monthSelectedIn)!==null&&a!==void 0?a:l,u=no(n.state.date,d),h;switch(!0){case n.props.showMonthYearPicker:h=s1(n.state.date,n.props);break;case n.props.showYearPicker:h=TN(n.state.date,n.props);break;case n.props.showQuarterYearPicker:h=NN(n.state.date,n.props);break;default:h=o1(u,n.props);break}if(!(!((s=n.props.forceShowMonthNavigation)!==null&&s!==void 0?s:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&h||n.props.showTimeSelectOnly)){var p=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],f=["react-datepicker__navigation","react-datepicker__navigation--previous"],g=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(g=n.decreaseYear),h&&n.props.showDisabledMonthNavigation&&(f.push("react-datepicker__navigation--previous--disabled"),g=void 0);var m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,v=n.props,_=v.previousMonthButtonLabel,y=_===void 0?e.defaultProps.previousMonthButtonLabel:_,w=v.previousYearButtonLabel,b=w===void 0?e.defaultProps.previousYearButtonLabel:w,C=n.props,N=C.previousMonthAriaLabel,S=N===void 0?typeof y=="string"?y:"Previous Month":N,k=C.previousYearAriaLabel,T=k===void 0?typeof b=="string"?b:"Previous Year":k;return W.createElement("button",{type:"button",className:f.join(" "),onClick:g,onKeyDown:n.props.handleOnKeyDown,"aria-label":m?T:S},W.createElement("span",{className:p.join(" ")},m?b:y))}}},n.increaseYear=function(){n.setState(function(i){var a,s=i.date;return{date:Gr(s,n.props.showYearPicker?(a=n.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var a;switch(!0){case n.props.showMonthYearPicker:a=c1(n.state.date,n.props);break;case n.props.showYearPicker:a=kN(n.state.date,n.props);break;case n.props.showQuarterYearPicker:a=EN(n.state.date,n.props);break;default:a=a1(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&a||n.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],c=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var l=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(l=n.increaseYear),a&&n.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),l=void 0);var d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,u=n.props,h=u.nextMonthButtonLabel,p=h===void 0?e.defaultProps.nextMonthButtonLabel:h,f=u.nextYearButtonLabel,g=f===void 0?e.defaultProps.nextYearButtonLabel:f,m=n.props,v=m.nextMonthAriaLabel,_=v===void 0?typeof p=="string"?p:"Next Month":v,y=m.nextYearAriaLabel,w=y===void 0?typeof g=="string"?g:"Next Year":y;return W.createElement("button",{type:"button",className:s.join(" "),onClick:l,onKeyDown:n.props.handleOnKeyDown,"aria-label":d?w:_},W.createElement("span",{className:c.join(" ")},d?g:p))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var a=["react-datepicker__current-month"];return n.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),W.createElement("h2",{className:a.join(" ")},at(i,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return W.createElement(GN,Pe({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Se(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return W.createElement(BN,Pe({},e.defaultProps,n.props,{month:sn(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return W.createElement(WN,Pe({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(e1(),i),n.props.setPreSelection&&n.props.setPreSelection(e1())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return W.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(i){var a=i.monthDate,s=i.i;return W.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(a),W.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(s!==0),n.renderMonthYearDropdown(s!==0),n.renderYearDropdown(s!==0)),W.createElement("div",{className:"react-datepicker__day-names"},n.header(a)))},n.renderCustomHeader=function(i){var a,s,c=i.monthDate,l=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var d=o1(n.state.date,n.props),u=a1(n.state.date,n.props),h=s1(n.state.date,n.props),p=c1(n.state.date,n.props),f=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return W.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(s=(a=n.props).renderCustomHeader)===null||s===void 0?void 0:s.call(a,Pe(Pe({},n.state),{customHeaderCount:l,monthDate:c,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:d,nextMonthButtonDisabled:u,prevYearButtonDisabled:h,nextYearButtonDisabled:p})),f&&W.createElement("div",{className:"react-datepicker__day-names"},n.header(c)))},n.renderYearHeader=function(i){var a=i.monthDate,s=n.props,c=s.showYearPicker,l=s.yearItemNumber,d=l===void 0?e.defaultProps.yearItemNumber:l,u=vi(a,d),h=u.startPeriod,p=u.endPeriod;return W.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},c?"".concat(h," - ").concat(p):Se(a))},n.renderHeader=function(i){var a=i.monthDate,s=i.i,c=s===void 0?0:s,l={monthDate:a,i:c};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(l);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(l);default:return n.renderDefaultHeader(l)}},n.renderMonths=function(){var i,a;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var s=[],c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=n.props.showPreviousMonths?c-1:0,d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Gr(n.state.date,l):no(n.state.date,l),u=(a=n.props.monthSelectedIn)!==null&&a!==void 0?a:l,h=0;h<c;++h){var p=h-u+l,f=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Gr(d,p):Jn(d,p),g="month-".concat(h),m=h<c-1,v=h>0;s.push(W.createElement("div",{key:g,ref:function(_){n.monthContainer=_??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:f,i:h}),W.createElement(UN,Pe({},e.defaultProps,n.props,{ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:f,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:h,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:m,monthShowsDuplicateDaysStart:v}))))}return s}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return W.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),W.createElement(jN,Pe({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return W.createElement(zN,Pe({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i=n.props.selected?new Date(n.props.selected):void 0,a=i&&Hr(i)&&!!n.props.selected,s=a?"".concat(d1(i.getHours()),":").concat(d1(i.getMinutes())):"";if(n.props.showTimeInput)return W.createElement(RN,Pe({},e.defaultProps,n.props,{date:i,timeString:s,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var i,a=vi(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),s=a.startPeriod,c=a.endPeriod,l;return n.props.showYearPicker?l="".concat(s," - ").concat(c):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?l=Se(n.state.date):l="".concat(Ff(sn(n.state.date),n.props.locale)," ").concat(Se(n.state.date)),W.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&l)},n.renderChildren=function(){if(n.props.children)return W.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=wr(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Ws}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!ke(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!an(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!ke(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||uN;return W.createElement(Gd,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},W.createElement(t,{className:Kt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(Le),JN=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,i=r.onClick,a="react-datepicker__calendar-icon";return typeof e=="string"?W.createElement("i",{className:"".concat(a," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:i}):W.isValidElement(e)?W.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(a," ").concat(n),onClick:function(s){typeof e.props.onClick=="function"&&e.props.onClick(s),typeof i=="function"&&i(s)}}):W.createElement("svg",{className:"".concat(a," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},W.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},W2=function(r){zt(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return W.createPortal(this.props.children,this.el)},e}(Le),eE="[tabindex], a, button, input, select, textarea",tE=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},z2=function(r){zt(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(eE),1,-1).filter(tE)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=wr(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?W.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},W.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,W.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(Le);function nE(r){var e=function(t){var n,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,a=Ot(null),s=dN(Pe({open:!i,whileElementsMounted:VA,placement:t.popperPlacement,middleware:gr([GA({padding:15}),KA(10),QA({element:a})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),c=Pe(Pe({},t),{hidePopper:i,popperProps:Pe(Pe({},s),{arrowRef:a})});return W.createElement(r,Pe({},c))};return e}var rE=function(r){zt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,n=t.className,i=t.wrapperClassName,a=t.hidePopper,s=a===void 0?e.defaultProps.hidePopper:a,c=t.popperComponent,l=t.targetComponent,d=t.enableTabLoop,u=t.popperOnKeyDown,h=t.portalId,p=t.portalHost,f=t.popperProps,g=t.showArrow,m=void 0;if(!s){var v=Kt("react-datepicker-popper",n);m=W.createElement(z2,{enableTabLoop:d},W.createElement("div",{ref:f.refs.setFloating,style:f.floatingStyles,className:v,"data-placement":f.placement,onKeyDown:u},c,g&&W.createElement(rN,{ref:f.arrowRef,context:f.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(m=Re(this.props.popperContainer,{},m)),h&&!s&&(m=W.createElement(W2,{portalId:h,portalHost:p},m));var _=Kt("react-datepicker-wrapper",i);return W.createElement(W.Fragment,null,W.createElement("div",{ref:f.refs.setReference,className:_},l),m)},e}(Le),iE=nE(rE),g1="react-datepicker-ignore-onclickoutside";function oE(r,e){return r&&e?sn(r)!==sn(e)||Se(r)!==Se(e):r!==e}var ku="Date input not valid.",v1=function(r){zt(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:ze()},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(a,s){var c=new Date(s.date);return Hr(c)?gr(gr([],a,!0),[Pe(Pe({},s),{date:c})],!1):a},[])},n.calcInitialState=function(){var i,a=n.getPreSelection(),s=B2(n.props),c=V2(n.props),l=s&&go(a,al(s))?s:c&&Ei(a,t1(c))?c:a;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&i!==void 0?i:l,highlightDates:l1(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Pe(Pe({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Pe(Pe({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.safeFocus=function(){setTimeout(function(){var i,a;(a=(i=n.input)===null||i===void 0?void 0:i.focus)===null||a===void 0||a.call(i,{preventScroll:!0})},0)},n.safeBlur=function(){setTimeout(function(){var i,a;(a=(i=n.input)===null||i===void 0?void 0:i.blur)===null||a===void 0||a.call(i)},0)},n.setFocus=function(){n.safeFocus()},n.setBlur=function(){n.safeBlur(),n.cancelFocusInput()},n.setOpen=function(i,a){a===void 0&&(a=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:Iu},function(){i||n.setState(function(s){return{focused:a?s.focused:!1}},function(){!a&&n.setBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Qr(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var a,s,c=n.state.wasHidden,l=c?n.state.open:!0;c&&n.resetHiddenStatus(),!n.state.preventFocus&&l&&((s=(a=n.props).onFocus)===null||s===void 0||s.call(a,i),!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(i){var a,s;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((s=(a=n.props).onBlur)===null||s===void 0||s.call(a,i)),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var a,s;n.props.inline||n.setOpen(!1),(s=(a=n.props).onClickOutside)===null||s===void 0||s.call(a,i),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,a,s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];var l=s[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,s),!l||typeof l.isDefaultPrevented!="function"||l.isDefaultPrevented()))){n.setState({inputValue:(l==null?void 0:l.target)instanceof HTMLInputElement?l.target.value:null,lastPreSelectChange:aE});var d=n.props,u=d.dateFormat,h=u===void 0?e.defaultProps.dateFormat:u,p=d.strictParsing,f=p===void 0?e.defaultProps.strictParsing:p,g=d.selectsRange,m=d.startDate,v=d.endDate,_=(l==null?void 0:l.target)instanceof HTMLInputElement?l.target.value:"";if(g){var y=_.split("-",2).map(function(A){return A.trim()}),w=y[0],b=y[1],C=Nu(w??"",h,n.props.locale,f),N=Nu(b??"",h,n.props.locale,f),S=(m==null?void 0:m.getTime())!==(C==null?void 0:C.getTime()),k=(v==null?void 0:v.getTime())!==(N==null?void 0:N.getTime());if(!S&&!k||C&&Fn(C,n.props)||N&&Fn(N,n.props))return;(a=(i=n.props).onChange)===null||a===void 0||a.call(i,[C,N],l)}else{var T=Nu(_,h,n.props.locale,f,n.props.minDate);n.props.showTimeSelectOnly&&n.props.selected&&T&&!ke(T,n.props.selected)&&(T=lA(n.props.selected,{hours:_r(T),minutes:yr(T),seconds:Zr(T)})),(T||!_)&&n.setSelected(T,l,!0)}}},n.handleSelect=function(i,a,s){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(a),n.setSelected(i,a,!1,s),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(i);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var c=n.props,l=c.startDate,d=c.endDate;l&&!d&&(n.props.swapRange||!p1(i,l))&&n.setOpen(!1)}},n.setSelected=function(i,a,s,c){var l,d,u=i;if(n.props.showYearPicker){if(u!==null&&sl(Se(u),n.props))return}else if(n.props.showMonthYearPicker){if(u!==null&&$2(u,n.props))return}else if(u!==null&&Fn(u,n.props))return;var h=n.props,p=h.onChange,f=h.selectsRange,g=h.startDate,m=h.endDate,v=h.selectsMultiple,_=h.selectedDates,y=h.minTime,w=h.swapRange;if(!Zi(n.props.selected,u)||n.props.allowSameDay||f||v)if(u!==null&&(n.props.selected&&(!s||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(u=Eu(u,{hour:_r(n.props.selected),minute:yr(n.props.selected),second:Zr(n.props.selected)})),!s&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&y&&(u=Eu(u,{hour:y.getHours(),minute:y.getMinutes(),second:y.getSeconds()})),n.props.inline||n.setState({preSelection:u}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:c})),f){var b=!g&&!m,C=g&&!m,N=g&&m;b?p==null||p([u,null],a):C&&(u===null?p==null||p([null,null],a):p1(u,g)?w?p==null||p([u,g],a):p==null||p([u,null],a):p==null||p([g,u],a)),N&&(p==null||p([u,null],a))}else if(v){if(u!==null)if(!(_!=null&&_.length))p==null||p([u],a);else{var S=_.some(function(T){return ke(T,u)});if(S){var k=_.filter(function(T){return!ke(T,u)});p==null||p(k,a)}else p==null||p(gr(gr([],_,!0),[u],!1),a)}}else p==null||p(u,a);s||((d=(l=n.props).onSelect)===null||d===void 0||d.call(l,u,a),n.setState({inputValue:null}))},n.setPreSelection=function(i){var a=Qr(n.props.minDate),s=Qr(n.props.maxDate),c=!0;if(i){var l=al(i);if(a&&s)c=qa(i,n.props.minDate,n.props.maxDate);else if(a){var d=al(n.props.minDate);c=Ei(i,d)||Zi(l,d)}else if(s){var u=t1(n.props.maxDate);c=go(i,u)||Zi(l,u)}}c&&n.setState({preSelection:i})},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i){var a,s;if(!(n.props.selectsRange||n.props.selectsMultiple)){var c=n.props.selected?n.props.selected:n.getPreSelection(),l=n.props.selected?i:Eu(c,{hour:_r(i),minute:yr(i)});n.setState({preSelection:l}),(s=(a=n.props).onChange)===null||s===void 0||s.call(a,l),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,a;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(a=(i=n.props).onInputClick)===null||a===void 0||a.call(i)},n.onInputKeyDown=function(i){var a,s,c,l,d,u;(s=(a=n.props).onKeyDown)===null||s===void 0||s.call(a,i);var h=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(h===ae.ArrowDown||h===ae.ArrowUp||h===ae.Enter)&&((c=n.onInputClick)===null||c===void 0||c.call(n));return}if(n.state.open){if(h===ae.ArrowDown||h===ae.ArrowUp){i.preventDefault();var p=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',f=((l=n.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(p);f instanceof HTMLElement&&f.focus({preventScroll:!0});return}var g=ze(n.state.preSelection);h===ae.Enter?(i.preventDefault(),i.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===Iu?(n.handleSelect(g,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(g)):n.setOpen(!1)):h===ae.Escape?(i.preventDefault(),i.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):h===ae.Tab&&n.setOpen(!1),n.inputOk()||(u=(d=n.props).onInputError)===null||u===void 0||u.call(d,{code:1,msg:ku})}},n.onPortalKeyDown=function(i){var a=i.key;a===ae.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var a,s,c,l,d,u,h=n.props,p=h.minDate,f=h.maxDate,g=h.disabledKeyboardNavigation,m=h.showWeekPicker,v=h.shouldCloseOnSelect,_=h.locale,y=h.calendarStartDay,w=h.adjustDateOnChange,b=h.inline;if((s=(a=n.props).onKeyDown)===null||s===void 0||s.call(a,i),!g){var C=i.key,N=i.shiftKey,S=ze(n.state.preSelection),k=function(F,L){var B=L;switch(F){case ae.ArrowRight:B=m?Fl(L,1):Qn(L,1);break;case ae.ArrowLeft:B=m?Wg(L,1):jS(L,1);break;case ae.ArrowUp:B=Wg(L,1);break;case ae.ArrowDown:B=Fl(L,1);break;case ae.PageUp:B=N?da(L,1):no(L,1);break;case ae.PageDown:B=N?Gr(L,1):Jn(L,1);break;case ae.Home:B=Si(L,_,y);break;case ae.End:B=_N(L);break}return B},T=function(F,L){for(var B=40,H=F,j=!1,te=0,de=k(F,L);!j;){if(te>=B){de=L;break}p&&de<p&&(H=ae.ArrowRight,de=Fn(p,n.props)?k(H,de):p),f&&de>f&&(H=ae.ArrowLeft,de=Fn(f,n.props)?k(H,de):f),Fn(de,n.props)?((H===ae.PageUp||H===ae.Home)&&(H=ae.ArrowRight),(H===ae.PageDown||H===ae.End)&&(H=ae.ArrowLeft),de=k(H,de)):j=!0,te++}return de};if(C===ae.Enter){i.preventDefault(),n.handleSelect(S,i),!v&&n.setPreSelection(S);return}else if(C===ae.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(l=(c=n.props).onInputError)===null||l===void 0||l.call(c,{code:1,msg:ku});return}var A=null;switch(C){case ae.ArrowLeft:case ae.ArrowRight:case ae.ArrowUp:case ae.ArrowDown:case ae.PageUp:case ae.PageDown:case ae.Home:case ae.End:A=T(C,S);break}if(!A){(u=(d=n.props).onInputError)===null||u===void 0||u.call(d,{code:1,msg:ku});return}if(i.preventDefault(),n.setState({lastPreSelectChange:Iu}),w&&n.setSelected(A),n.setPreSelection(A),b){var E=sn(S),I=sn(A),R=Se(S),M=Se(A);E!==I||R!==M?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(i){var a=i.key;a===ae.Escape&&(i.preventDefault(),n.sendFocusBackToInput())},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var a=n.props,s=a.selectsRange,c=a.onChange;s?c==null||c([null,null],i):c==null||c(null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.renderCalendar=function(){var i,a;return!n.props.inline&&!n.isCalendarOpen()?null:W.createElement(XN,Pe({showMonthYearDropdown:void 0,ref:function(s){n.calendar=s}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:xN(n.modifyHolidays()),outsideClickIgnoreClass:g1,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(a=n.props.dropdownMode)!==null&&a!==void 0?a:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var i=n.props,a=i.dateFormat,s=a===void 0?e.defaultProps.dateFormat:a,c=i.locale,l=n.props.showTimeInput||n.props.showTimeSelect,d=l?"PPPPp":"PPPP",u;return n.props.selectsRange?u="Selected start date: ".concat(Mn(n.props.startDate,{dateFormat:d,locale:c}),". ").concat(n.props.endDate?"End date: "+Mn(n.props.endDate,{dateFormat:d,locale:c}):""):n.props.showTimeSelectOnly?u="Selected time: ".concat(Mn(n.props.selected,{dateFormat:s,locale:c})):n.props.showYearPicker?u="Selected year: ".concat(Mn(n.props.selected,{dateFormat:"yyyy",locale:c})):n.props.showMonthYearPicker?u="Selected month: ".concat(Mn(n.props.selected,{dateFormat:"MMMM yyyy",locale:c})):n.props.showQuarterYearPicker?u="Selected quarter: ".concat(Mn(n.props.selected,{dateFormat:"yyyy, QQQ",locale:c})):u="Selected date: ".concat(Mn(n.props.selected,{dateFormat:d,locale:c})),W.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)},n.renderDateInput=function(){var i,a,s,c=Kt(n.props.className,(i={},i[g1]=n.state.open,i)),l=n.props.customInput||W.createElement("input",{type:"text"}),d=n.props.customInputRef||"ref",u=n.props,h=u.dateFormat,p=h===void 0?e.defaultProps.dateFormat:h,f=u.locale,g=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?fN(n.props.startDate,n.props.endDate,{dateFormat:p,locale:f}):n.props.selectsMultiple?mN((s=n.props.selectedDates)!==null&&s!==void 0?s:[],{dateFormat:p,locale:f}):Mn(n.props.selected,{dateFormat:p,locale:f});return Ao(l,(a={},a[d]=function(m){n.input=m},a.value=g,a.onBlur=n.handleBlur,a.onChange=n.handleChange,a.onClick=n.onInputClick,a.onFocus=n.handleFocus,a.onKeyDown=n.onInputKeyDown,a.id=n.props.id,a.name=n.props.name,a.form=n.props.form,a.autoFocus=n.props.autoFocus,a.placeholder=n.props.placeholderText,a.disabled=n.props.disabled,a.autoComplete=n.props.autoComplete,a.className=Kt(l.props.className,c),a.title=n.props.title,a.readOnly=n.props.readOnly,a.required=n.props.required,a.tabIndex=n.props.tabIndex,a["aria-describedby"]=n.props.ariaDescribedBy,a["aria-invalid"]=n.props.ariaInvalid,a["aria-labelledby"]=n.props.ariaLabelledBy,a["aria-required"]=n.props.ariaRequired,a))},n.renderClearButton=function(){var i=n.props,a=i.isClearable,s=i.disabled,c=i.selected,l=i.startDate,d=i.endDate,u=i.clearButtonTitle,h=i.clearButtonClassName,p=h===void 0?"":h,f=i.ariaLabelClose,g=f===void 0?"Close":f,m=i.selectedDates;return a&&(c!=null||l!=null||d!=null||m!=null&&m.length)?W.createElement("button",{type:"button",className:Kt("react-datepicker__close-icon",p,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":g,onClick:n.onClearClick,title:u,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Ws,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var i,a,s,c;t.inline&&oE(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:l1(this.props.highlightDates)}),!n.focused&&!Zi(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((a=(i=this.props).onCalendarOpen)===null||a===void 0||a.call(i)),n.open===!0&&this.state.open===!1&&((c=(s=this.props).onCalendarClose)===null||c===void 0||c.call(s)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,i=t.icon,a=t.calendarIconClassname,s=t.calendarIconClassName,c=t.toggleCalendarOnIconClick,l=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),W.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&W.createElement(JN,Pe({icon:i,className:Kt(s,!s&&a,l&&"react-datepicker-ignore-onclickoutside")},c?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?W.createElement(z2,{enableTabLoop:this.props.enableTabLoop},W.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=W.createElement(W2,Pe({portalId:this.props.portalId},this.props),n)),W.createElement("div",null,this.renderInputContainer(),n)}return W.createElement(iE,Pe({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(Le),aE="input",Iu="navigate";const sE=[{label:"Today"},{label:"Last 7 days"},{label:"Last 30 days"},{label:"Last 90 days"},{label:"This month"},{label:"This year"}];function _o(r){const{variant:e="primary",setDateRange:t}=r;return e==="secondary"?o(cE,{setDateRange:t}):o(kt,{className:"base-date-filter",children:[o(It,{children:"Last 30 days"}),o(xt,{children:sE.map(n=>o("button",{className:"base-date-filter__option",children:n.label},n.label))})]})}function cE({setDateRange:r}){const[e,t]=O(null),[n,i]=O(null);return Z(()=>{r&&r({startDate:e,endDate:n})},[e,n]),o("div",{className:"base-date-filter--secondary",children:[o("p",{children:"Filter by: "}),o("div",{className:"base-date-filter--secondary__buttons",children:[o(kt,{className:"calendar-dropdown",children:[o(It,{children:[o(ne,{name:"calendar"}),o("span",{style:{marginLeft:5},children:e?e.toDateString():"Start date"})]}),o(xt,{children:o(v1,{selected:e,onChange:a=>t(a),inline:!0})})]}),o("span",{children:"---"}),o(kt,{className:"calendar-dropdown",children:[o(It,{children:[o(ne,{name:"calendar"}),o("span",{style:{marginLeft:5},children:n?n.toDateString():"End date"})]}),o(xt,{children:o(v1,{selected:n,onChange:a=>i(a),inline:!0})})]})]})]})}function lE({metrics:r}){return o("div",{className:"app-overview__stats",children:[o("div",{className:"app-overview__stats__header",children:[o("div",{className:"hide-display-mobile",children:[o("h3",{className:"app-overview__stats__title",children:"Permit Metrics"}),o(_o,{})]}),o(x,{href:"/permit/create",variant:"primary",children:[o(ne,{name:"plus"})," Create Permit"]}),o("div",{className:"hide-display-web permit",children:[o("h3",{className:"app-overview__stats__title",children:"Permit Metrics"}),o(_o,{})]})]}),o("div",{className:"app-overview__stats__wrapper",children:[o("div",{className:"app-overview__stats__stat",children:[o("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("circle",{cx:"20",cy:"20",r:"20",fill:"#F2B300","fill-opacity":"0.1"}),o("path",{d:"M24.19 10H15.81C12.17 10 10 12.17 10 15.81V24.19C10 27.83 12.17 30 15.81 30H24.19C27.83 30 30 27.83 30 24.19V15.81C30 12.17 27.83 10 24.19 10ZM17.97 22.9L15.72 25.15C15.57 25.3 15.38 25.37 15.19 25.37C15 25.37 14.8 25.3 14.66 25.15L13.91 24.4C13.61 24.11 13.61 23.63 13.91 23.34C14.2 23.05 14.67 23.05 14.97 23.34L15.19 23.56L16.91 21.84C17.2 21.55 17.67 21.55 17.97 21.84C18.26 22.13 18.26 22.61 17.97 22.9ZM17.97 15.9L15.72 18.15C15.57 18.3 15.38 18.37 15.19 18.37C15 18.37 14.8 18.3 14.66 18.15L13.91 17.4C13.61 17.11 13.61 16.63 13.91 16.34C14.2 16.05 14.67 16.05 14.97 16.34L15.19 16.56L16.91 14.84C17.2 14.55 17.67 14.55 17.97 14.84C18.26 15.13 18.26 15.61 17.97 15.9ZM25.56 24.62H20.31C19.9 24.62 19.56 24.28 19.56 23.87C19.56 23.46 19.9 23.12 20.31 23.12H25.56C25.98 23.12 26.31 23.46 26.31 23.87C26.31 24.28 25.98 24.62 25.56 24.62ZM25.56 17.62H20.31C19.9 17.62 19.56 17.28 19.56 16.87C19.56 16.46 19.9 16.12 20.31 16.12H25.56C25.98 16.12 26.31 16.46 26.31 16.87C26.31 17.28 25.98 17.62 25.56 17.62Z",fill:"#F2B300"})]}),o("p",{children:"All Permits"}),o("h4",{children:(r==null?void 0:r.allPermitCount)??0})]}),o("div",{className:"app-overview__stats__stat",children:[o("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("circle",{cx:"20",cy:"20",r:"20",fill:"#FFEFE4"}),o("path",{d:"M28.5 18.19H25.61C23.24 18.19 21.31 16.26 21.31 13.89V11C21.31 10.45 20.86 10 20.31 10H16.07C12.99 10 10.5 12 10.5 15.57V24.43C10.5 28 12.99 30 16.07 30H23.93C27.01 30 29.5 28 29.5 24.43V19.19C29.5 18.64 29.05 18.19 28.5 18.19Z",fill:"#E86E18"}),o("path",{d:"M23.8 10.21C23.39 9.79999 22.68 10.08 22.68 10.65V14.14C22.68 15.6 23.92 16.81 25.43 16.81C26.38 16.82 27.7 16.82 28.83 16.82C29.4 16.82 29.7 16.15 29.3 15.75C27.86 14.3 25.28 11.69 23.8 10.21Z",fill:"#E86E18"})]}),o("p",{children:"Drafts"}),o("h4",{children:(r==null?void 0:r.allDraftCount)??0})]}),o("div",{className:"app-overview__stats__stat",children:[o("div",{className:"purple-container",children:o("img",{src:"/svgs/document-normal.svg",alt:""})}),o("p",{children:"Ongoing"}),o("h4",{children:(r==null?void 0:r.ongoingPermitCount)??0})]}),o("div",{className:"app-overview__stats__stat",children:[o("svg",{width:"41",height:"40",viewBox:"0 0 41 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("circle",{cx:"20.3333",cy:"20",r:"20",fill:"#DFF2EA"}),o("path",{d:"M22.6833 10H17.9833C16.9433 10 16.0933 10.84 16.0933 11.88V12.82C16.0933 13.86 16.9333 14.7 17.9733 14.7H22.6833C23.7233 14.7 24.5633 13.86 24.5633 12.82V11.88C24.5733 10.84 23.7233 10 22.6833 10Z",fill:"#008D4E"}),o("path",{d:"M25.5733 12.82C25.5733 14.41 24.2733 15.71 22.6833 15.71H17.9833C16.3933 15.71 15.0933 14.41 15.0933 12.82C15.0933 12.26 14.4933 11.91 13.9933 12.17C12.5833 12.92 11.6233 14.41 11.6233 16.12V25.53C11.6233 27.99 13.6333 30 16.0933 30H24.5733C27.0333 30 29.0433 27.99 29.0433 25.53V16.12C29.0433 14.41 28.0833 12.92 26.6733 12.17C26.1733 11.91 25.5733 12.26 25.5733 12.82ZM23.6733 20.73L19.6733 24.73C19.5233 24.88 19.3333 24.95 19.1433 24.95C18.9533 24.95 18.7633 24.88 18.6133 24.73L17.1133 23.23C16.8233 22.94 16.8233 22.46 17.1133 22.17C17.4033 21.88 17.8833 21.88 18.1733 22.17L19.1433 23.14L22.6133 19.67C22.9033 19.38 23.3833 19.38 23.6733 19.67C23.9633 19.96 23.9633 20.44 23.6733 20.73Z",fill:"#008D4E"})]}),o("p",{children:"Closed"}),o("h4",{children:(r==null?void 0:r.closedPermitsCount)??0})]})]})]})}const j2=Ft(null);function dE(r){const e=new Set;function t(n){if(n&&typeof n=="object"){if(e.has(n))return;e.add(n),Object.keys(n).forEach(i=>{n[i]=t(n[i])})}return n}return t(r)}const uE=({children:r})=>{const[e,t]=O(()=>{const c=localStorage.getItem("draft-details");return c?JSON.parse(c):null}),[n,i]=O(()=>localStorage.getItem("is-draft")==="true");Z(()=>{if(e){const c=dE(e);localStorage.setItem("draft-details",JSON.stringify(c))}},[e]),Z(()=>{localStorage.setItem("is-draft",n.toString())},[n]);const a=c=>{t(c)},s=c=>{i(c)};return o(j2.Provider,{value:{draft:e,updateDraft:a,isDraft:n,updateIsDraft:s},children:r})},ko=()=>Yt(j2);function hE({}){var a,s;const{response:r}=X(U8,{},!0),e=r==null?void 0:r.data,t=(a=r==null?void 0:r.data)==null?void 0:a.closedPermits,n=(s=r==null?void 0:r.data)==null?void 0:s.drafts,{updateIsDraft:i}=ko();return Z(()=>{i(!1)},[]),o(P,{children:[o(Ne,{title:"Overview"}),o("div",{className:"app-page app-overview__grid",children:[o("div",{children:[o(lE,{metrics:e}),o("div",{className:"hide-display-web",children:o(Rg,{drafts:n})}),o(V8,{closedPermits:t})]}),o("div",{className:"hide-display-mobile",children:o(Rg,{drafts:n})})]})]})}function pE(r){var e=er()[0];return r.children({url:e.url,path:e.path,matches:v3(e.path||e.url,r.path,{})!==!1})}function fE(){const{profile:r}=vn(),[e,t]=O([]);Z(()=>{(async()=>{try{const s=await K(`/profile/${r.id}`,"GET");t(s[0].data.role.permissions)}catch(s){console.log(s)}})()},[r]);const i=(r==null?void 0:r.type)==="EXTERNAL"?[Ma[1],Ma[3],Ma[4]]:(r==null?void 0:r.type)==="INTERNAL"?e.includes("FULL_ACCESS")?Ma:Ma.map(a=>{const s=a.pages.filter(c=>c.path.startsWith("/roles")&&e.includes("CREATE_ROLE")||c.path.startsWith("/locations")&&e.includes("CREATE_LOCATION")||c.path.startsWith("/users")&&e.some(l=>["CREATE_INTERNAL_USER","CREATE_EXTERNAL_USER","CREATE_COMPANY","EDIT_INTERNAL_USER","EDIT_EXTERNAL_USER","EDIT_COMPANY","DELETE USER"].includes(l))||c.path.startsWith("/permit")&&e.some(l=>["CREATE_PERMIT","PROCESS PERMIT"].includes(l))?!0:["/profile",""].includes(c.path));return s.length>0?{...a,pages:s}:null}).filter(Boolean):[];return o("div",{className:"app-layout__sidebar",children:[o("div",{className:"app-layout__sidebar__logo",children:o("img",{src:"/svgs/logo.sidebar.svg"})}),o("div",{className:"app-layout__sidebar__nav",children:i.map(a=>o("div",{className:"app-layout__sidebar__nav__links",children:[a.title?o("p",{children:a.title}):null,a.pages.map(s=>Re(mE,{page:s,key:s.path}))]},a.title||"untitled-group"))})]})}function mE({page:r}){const[{url:e}]=er(),{logout:t}=vn(),n=r.path==="/";return r.path?o(pE,{path:r.path,children:({matches:i})=>o(Tt,{className:i||e.startsWith(r.path)&&!n?"active":"inactive",href:r.path,children:[o("div",{className:"icons-container",children:o("div",{className:"icons",children:[o(ne,{name:r.iconName}),o(ne,{name:r.iconName})]})}),r.label]})}):o("button",{onClick:t,children:[o("div",{className:"icons-container",children:o("div",{className:"icons",children:[o(ne,{name:r.iconName}),o(ne,{name:r.iconName})]})}),r.label]})}const Ma=[{title:"",pages:[{path:"/",label:"Overview",iconName:"sidebar.overview"},{path:"/audits",label:"Audits",iconName:"sidebar.activity"},{path:"/analytics",label:"Analytics & Reports",iconName:"sidebar.reports"}]},{title:"Permit Management",pages:[{path:"/permit-drafts",label:"Drafts",iconName:"sidebar.draft"},{path:"/permit-workflows",label:"Workflow",iconName:"sidebar.permit"},{path:"/permit-activities",label:"Activities",iconName:"sidebar.permit-renewals"},{path:"/permit-monitoring",label:"Monitoring",iconName:"sidebar.work-suspension"},{path:"/permit-storage",label:"Storage",iconName:"sidebar.work-completion"}]},{title:"User Management",pages:[{path:"/roles",label:"Roles & Permissions",iconName:"sidebar.roles"},{path:"/locations",label:"Locations",iconName:"sidebar.location"},{path:"/users",label:"Users",iconName:"sidebar.users"}]},{title:"",pages:[{path:"/profile",label:"Profile",iconName:"sidebar.profile"}]},{title:"",pages:[{path:"",label:"Logout",iconName:"sidebar.logout"}]}];function gE({children:r}){const[e,t]=O(!1),n=()=>{t(!e)};return o("div",{className:"app-layout",children:[o("div",{className:"",children:[o("div",{className:"",children:o("div",{className:"menu-toggle",children:e?o("button",{onClick:n,className:"toggle-button",children:o(ne,{name:"x"})}):o("img",{src:"/svgs/menu.svg",onClick:n,alt:"menu",title:"menu",className:"toggle-button"})})}),o("div",{className:`${e?"app-layout--sidebar-visible":"app-layout--sidebar-hidden"}`,children:o(fE,{})})]}),o("div",{className:"app-layout__content",children:r})]})}function vE(r){return K("/role","POST",r)}function js(){return K("/role","GET")}function _E(r){return K("/role","PUT",r)}function yE(r){return K("/location","POST",r)}function CE(r){return K("/location/work-area","POST",r)}function bE(r){return K("/location","PUT",r)}function Ea(){return K("/location/site","GET")}function Uf(){return K("/profile/company","GET")}function wE(r,e){return K(`/profile/company/${e}`,"PUT",r)}function SE(r){return K("/profile/internal","POST",r)}function AE(r){return K("/profile/internal","PUT",r)}function NE(r){return K("/profile/company","POST",r)}function EE(r){return K("/profile/external","POST",r)}function TE(r){return K("/profile/external","PUT",r)}function kE(){return K("/profile?type=internal","GET")}function IE(){return K("/audit","GET")}function Qd(){return K("/permit","GET")}function xE(){return K("/permit/draft","GET")}const Qt=r=>{const[e,t]=O(r),n=nn(i=>{t(a=>{const s={...a};return s[i]=!s[i],s})},[]);return{modals:e,toggle:n}};function lt({children:r,show:e,toggle:t,align:n="right"}){if(!e)return null;const i=Aa.map(r,a=>Ao(a,{toggle:t}));return o("div",{className:"app-modal","data-align":n,children:[o("div",{className:"app-modal__overlay",onClick:t}),o("div",{className:"app-modal__content",children:[i,n==="right"&&o("img",{className:"app-modal__blur",src:"/svgs/auth-blur.svg"})]})]})}function dt({children:r,toggle:e}){return o("div",{className:"app-modal__header",children:[o("h4",{children:r}),o("button",{onClick:e,children:o(ne,{name:"x"})})]})}function ut({children:r}){return o("div",{className:"app-modal__body",children:r})}function we(r){const{label:e,children:t}=r;return o("div",{className:"app-modal__detail",children:[o("div",{className:"app-modal__detail__key",children:e}),o("div",{className:"app-modal__detail__value",children:t})]})}const qs=({data:r,onItemClick:e,formatCreatedAt:t,getName:n,getDetails:i,type:a})=>o("div",{className:`app-section__sm-table ${a}`,children:o("div",{children:r==null?void 0:r.map(s=>o("div",{onClick:()=>e(s),className:"container",children:[a==="Locations"&&o(P,{children:[o("div",{className:"location-flex",children:[o("span",{children:"Location Admin"}),o("h2",{children:n(s.site)})]}),o("h2",{children:s.address}),o("div",{className:"location-flex",children:[o("p",{children:[o("span",{children:"Location(s): "}),s.state]}),o("p",{children:[o("span",{children:"Total Members:"})," ",s.members.length]})]})]}),a==="Default"&&o(P,{children:[o("div",{className:"container-item",children:[o("h2",{children:n(s)}),o("span",{children:t(s.createdAt)})]}),o("p",{children:i(s)})]}),a==="Users"&&o(P,{children:[o("div",{className:"location-flex",children:o("h2",{children:n(s)})}),o("span",{children:s.contractId}),o("div",{className:"location-flex",children:o("p",{className:"",children:[o("span",{children:"Status:"})," •"," ",o("span",{className:` ${s.status==="ACTIVE"?"mobile-status-active":"mobile-status-inactive"}`,children:[" ",r.isActive===!0?"Active":"Inactive"]})]})})]}),a==="Company"&&o(P,{children:[o("div",{className:"location-flex",children:o("h2",{children:n(s)})}),o("span",{children:s.contractId}),o("div",{className:"location-flex",children:[o("p",{className:"",children:[o("span",{children:"Members:"})," • ",o("span",{children:"4"})]}),o("p",{className:"",children:[o("span",{children:"Status:"})," •"," ",o("span",{className:` ${s.status==="ACTIVE"?"mobile-status-active":"mobile-status-inactive"}`,children:s.status})]})]})]})]},s.id))})}),oi=[{value:"PHC",text:"PHC"},{value:"LAR_EAST",text:"LAR_EAST"},{value:"LAR_WEST",text:"LAR_WEST"},{value:"SAR_SOUTH",text:"SAR_SOUTH"},{value:"SAR_NORTH",text:"SAR_NORTH"},{value:"IPP",text:"IPP"}];function kr({totalItems:r,itemsPerPage:e,currentPage:t,onPageChange:n}){const i=Math.ceil(r/e),a=Math.max(1,t-1),s=Math.min(i,t+1),c=Array.from({length:s-a+1},(l,d)=>a+d);return o("div",{className:"pagination",children:[o("button",{className:"pagination__sub-button",onClick:()=>n(t-1),disabled:t===1,children:o(ne,{name:"white-caret-left"})}),c.map(l=>o("button",{className:`pagination__button ${t===l?"pagination__button--active":""}`,onClick:()=>n(l),children:l},l)),o("button",{className:"pagination__sub-button",onClick:()=>n(t+1),disabled:t===i,children:o(ne,{name:"caret-right"})})]})}function PE({}){var k,T;const[r,e]=O(),{toggle:t,modals:n}=Qt({activityDetails:!1}),{response:i,isLoading:a}=X(IE,{},!0),s=(i==null?void 0:i.data)||[],[c,l]=O("All Locations"),[d,u]=O(""),[h,p]=O({start:null,end:null}),f=A=>{e(A),t("activityDetails")},g=A=>le(A).format("DD/MM/YYYY • HH:mm A"),m=A=>`${A.profile.fullname}`,v=A=>A.activityPerformed,_=s.filter(A=>{var j,te,de,Q;const E=`${A.profile.firstname} ${A.profile.lastname}`.toLowerCase(),I=A.activityPerformed.toLowerCase(),R=((te=(j=A==null?void 0:A.location)==null?void 0:j.locationArea)==null?void 0:te.toLowerCase())||"",M=((Q=(de=A==null?void 0:A.location)==null?void 0:de.site)==null?void 0:Q.toLowerCase())||"",F=le(A.createdAt),L=E.includes(d.toLowerCase())||I.includes(d.toLowerCase())||R.includes(d.toLowerCase())||M.includes(d.toLowerCase()),B=c==="All Locations"||M.toLowerCase()===c.toLowerCase(),H=(!h.start||F.isAfter(le(h.start).startOf("day")))&&(!h.end||F.isBefore(le(h.end).endOf("day")));return L&&B&&H}),y=A=>{p({start:A.startDate,end:A.endDate})},[w,b]=O(1),C=10,N=_.sort((A,E)=>new Date(E.createdAt).getTime()-new Date(A.createdAt).getTime()),S=Er(N,w,C);return o(P,{children:[o(Ne,{title:"Audits"}),o("div",{className:"app-section__header",children:[o($n,{placeholder:"Search by user name, location or activity",onSearch:u}),o("div",{className:"app-section__filters",children:[o(_o,{variant:"secondary",setDateRange:y}),o(kt,{className:"base-dropdown__dropdown-wrapper",children:[o(It,{children:c}),o(xt,{children:oi.map(A=>o("div",{className:"base-dropdown__option",onClick:()=>l(A.value),children:A.text},A.value))})]})]})]}),o("div",{className:"app-section",children:[o("div",{className:"app-section__lg-table",children:o(je,{children:[o(Ct,{children:o(me,{children:[o(D,{children:"Date & Time"}),o(D,{children:"User"}),o(D,{children:"Location"}),o(D,{children:"Activity"}),o(D,{})]})}),o(Qe,{children:S==null?void 0:S.map(A=>{var E,I;return o(me,{children:[o(D,{children:le(A.createdAt).format("DD/MM/YYYY • HH:mm A")}),o(D,{children:A.profile.fullname}),o(D,{children:[(E=A==null?void 0:A.location)==null?void 0:E.locationArea,", ",(I=A==null?void 0:A.location)==null?void 0:I.site]}),o(D,{children:A.activityPerformed.replace(/\b\w/g,R=>R.toUpperCase())}),o(D,{children:o(x,{variant:"outline",onClick:()=>{e(A),t("activityDetails")},children:"View"})})]},A.id)})})]})}),o(qs,{data:S,onItemClick:f,formatCreatedAt:g,getName:m,getDetails:v,type:"Default"}),_.length&&o(kr,{totalItems:_.length,itemsPerPage:C,currentPage:w,onPageChange:b}),!_.length&&o("div",{className:"base-empty",children:[o("img",{src:"/svgs/document.svg"}),o("p",{children:a?"Fetching audits, please wait...":"No activities yet"})]})]}),o(lt,{toggle:()=>t("activityDetails"),show:n.activityDetails,children:[o(dt,{children:"Audit Details"}),o(ut,{children:[o(we,{label:"Date",children:le(r==null?void 0:r.createdAt).format("DD MMM YYYY, HH:mm A")}),o(we,{label:"User",children:o("a",{href:"",className:"app-link",children:[r==null?void 0:r.profile.firstname," ",r==null?void 0:r.profile.lastname]})}),o(we,{label:"Activity",children:r==null?void 0:r.activityPerformed}),o(we,{label:"Location",children:[(k=r==null?void 0:r.location)==null?void 0:k.locationArea," ,",(T=r==null?void 0:r.location)==null?void 0:T.site]})]})]})]})}function Pn({icon:r,title:e,message:t,onClose:n,primaryButton:i,secondaryButton:a,type:s,tableData:c}){return o("div",{className:"popup-overlay",children:o("div",{className:"popup-modal",children:[o("button",{className:"close-button",onClick:n,children:"×"}),s==="table"?o("div",{className:"popup-content",children:[o("div",{className:"icon-container",children:o("p",{children:e})}),o("div",{className:"app-section__lg-table popup-lg-table",children:o(je,{children:[o(Ct,{children:o(me,{children:[o(D,{children:"Header"}),o(D,{children:"Description"})]})}),o(Qe,{children:c==null?void 0:c.map(l=>o(me,{children:[o(D,{children:l.header}),o(D,{children:l.description})]},l.header))})]})}),o("div",{className:"popup-sm-table",children:o("div",{className:"",children:o("div",{className:"",children:c==null?void 0:c.map(l=>o("div",{className:"",children:[o("span",{children:l.header}),o("p",{children:l.description})]},l.header))})})})]}):o("div",{className:"popup-content",children:[o("div",{className:"icon-container",children:o("div",{className:"image",children:r})}),o("h2",{children:e}),o("p",{className:"message",children:t}),o("div",{className:"button-group",children:[a&&o("button",{onClick:a.onClick,style:{backgroundColor:a.color||"#fff",color:"#fff"},children:a.label}),i&&o("button",{onClick:i.onClick,style:{backgroundColor:i.color||"#fff",color:"#fff"},children:i.label})]})]})]})})}const q2=Ft({});function DE({children:r}){const e=Me(()=>{try{const s=localStorage.getItem("id");return s?Number(s):null}catch{return null}},[]),[t,n]=O(e);function i(s){typeof s=="number"&&!isNaN(s)?(localStorage.setItem("id",String(s)),n(s)):console.warn("ID must be a valid number")}function a(){localStorage.removeItem("id"),n(null)}return o(q2.Provider,{value:{valueID:t,setID:i,clearID:a},children:r})}function $e(){return Yt(q2)}function OE({}){var A,E,I;const[r,e]=O(),{toggle:t,modals:n}=Qt({role_details:!1}),{response:i,isLoading:a}=X(js,{},!0),{setID:s,valueID:c}=$e(),l=R=>{s(R.id),e(R),t("role_details")},d=R=>{s(R.id),V("/roles/edit")},u=R=>{s(R.id),m(!0)},h=R=>le(R).format("DD/MM/YYYY • HH:mm A"),p=R=>R.name,f=R=>{var M;return((M=R.permissions)==null?void 0:M.join(", "))||"---"},[g,m]=O(!1),v=async()=>{const M=await K(`/role/${c}`,"DELETE");console.log(M),t("role_details"),m(!1)},[_,y]=O(""),b=((i==null?void 0:i.data)||[]).filter(R=>{const M=`${R.name}`.toLowerCase(),F=R.permissions||[];return M.includes(_.toLowerCase())||F.some(L=>L.toLowerCase().includes(_.toLowerCase()))}),[C,N]=O(1),S=10,k=b.sort((R,M)=>new Date(M.createdAt).getTime()-new Date(R.createdAt).getTime()),T=Er(k,C,S);return o(P,{children:[o(Ne,{title:"Roles & Permissions"}),o("div",{className:"app-section__header",children:[o($n,{placeholder:"Search by role name or permissions",onSearch:y}),o(x,{href:"/roles/create",variant:"primary",dimension:"md",children:[o(ne,{name:"plus"}),"Create New Role"]})]}),o("div",{className:"app-section",children:[o("div",{className:"app-section__lg-table",children:o(je,{children:[o(Ct,{children:o(me,{children:[o(D,{children:"Role"}),o(D,{children:"Date Created"}),o(D,{children:"Permissions"}),o(D,{})]})}),o(Qe,{children:T.map(R=>{var M;return o(me,{children:[o(D,{children:R.name.replace(/\b\w/g,F=>F.toUpperCase())}),o(D,{children:le(R.createdAt).format("MMM DD, YYYY • HH:mm A")}),o(D,{children:o("div",{className:"w-roles",children:((M=R.permissions)==null?void 0:M.join(", "))||"---"})}),o(D,{children:o(x,{variant:"outline",onClick:()=>{e(R),t("role_details")},children:"View"})})]},R.id)})})]})}),o(qs,{data:T,onItemClick:l,formatCreatedAt:h,getName:p,getDetails:f,type:"Default"}),b.length&&o(kr,{totalItems:b.length,itemsPerPage:S,currentPage:C,onPageChange:N}),!b.length&&o("div",{className:"base-empty",children:[o("img",{src:"/svgs/document.svg"}),o("p",{children:a?"Fetching roles, please wait...":"No roles yet"})]})]}),o(lt,{toggle:()=>t("role_details"),show:n.role_details,children:[o(dt,{children:"Role Details"}),o(ut,{children:[o(we,{label:"Date Created:",children:le(r==null?void 0:r.createdAt).format("MMM DD, YYYY • HH:mm A")}),o(we,{label:"Created By:",children:o("a",{href:"",className:"app-link",children:[(A=r==null?void 0:r.createdBy)==null?void 0:A.firstname," ",(E=r==null?void 0:r.createdBy)==null?void 0:E.lastname]})}),o(we,{label:"Role Name:",children:r==null?void 0:r.name}),o(we,{label:"Permissions:",children:((I=r==null?void 0:r.permissions)==null?void 0:I.join(", "))||"---"}),o(we,{label:"Total Permitted User:",children:"25"}),o("div",{className:"app-modal__footer",children:[o("button",{className:"app-modal__btn--yellow",onClick:()=>{d(r)},children:[o(ne,{name:"edit"}),"Edit Role"]}),o("button",{className:"app-modal__btn--red",onClick:()=>{u(r)},children:[o(ne,{name:"delete"}),"Delete"]})]}),o("div",{className:"",children:g&&o(Pn,{icon:o("img",{src:"/svgs/delete_img.png"}),title:"Delete Role",message:"Are you sure you want to delete this role? This action cannot be undone.",onClose:()=>m(!1),primaryButton:{label:"Delete",onClick:v,color:"#D30021"},secondaryButton:{label:"Cancel",onClick:()=>m(!1),color:"#E86E18"}})})]})]})]})}function RE({}){const[r,e]=O(),{response:t,isLoading:n}=X(Ea,{},!0),{toggle:i,modals:a}=Qt({role_details:!1}),{setID:s,valueID:c}=$e(),[l,d]=O(null),[u,h]=O("--select a location area --"),p=I=>{a[I]&&d(null),i(I)},f=I=>{e(I),p("role_details")},g=I=>{d(I)},m=t!=null&&t.data?Object.keys(t.data).map(I=>{const R=t.data[I],M=R.length,F=R.reduce((B,H)=>{var j;return B+(((j=H.workAreas)==null?void 0:j.length)||0)},0),L=R.reduce((B,H)=>{var j;return B+(((j=H.members)==null?void 0:j.length)||0)},0);return{site:I,locations:M,workAreas:F,totalMembers:L,data:R}}):[],v=I=>{console.log(I),s(I.id),V("/locations/edit")},[_,y]=O(!1),[w,b]=O(!1),C=async()=>{var M,F,L;const R=await K(`/location/${c}`,"DELETE");return console.log(R),p("role_details"),y(!1),((M=R[0])==null?void 0:M.statusCode)===200?(window.location.reload(),q({variant:"success",message:((F=R[0])==null?void 0:F.message)??"Location deleted succesfully."})):q({variant:"error",message:((L=R[0])==null?void 0:L.message)??"Location deletion failed, please try again."})},N=I=>{s(I.id),h(I.locationArea)},S=()=>{b(!1),y(!0)},[k,T]=O(1),A=10,E=Er(m,k,A);return o(P,{children:[o(Ne,{title:"Locations"}),o("div",{className:"app-section__header",children:o("div",{className:"grid-cols-2",children:[o(x,{href:"/locations/create/location-area",variant:"primary",dimension:"md",children:[o(ne,{name:"plus"}),"Add New Location Area"]}),o(x,{href:"/locations/create/work-area",variant:"tertiary",dimension:"md",children:[o(ne,{name:"plus"}),"Add New Work Area"]})]})}),o("div",{className:"app-section",children:[o("div",{className:"app-section__lg-table",children:o(je,{children:[o(Ct,{children:o(me,{children:[o(D,{children:"Site"}),o(D,{children:"Location(s)"}),o(D,{children:"Work Area(s)"}),o(D,{children:"Total Members"}),o(D,{})]})}),o(Qe,{children:E.map(I=>o(me,{children:[o(D,{children:I.site}),o(D,{children:I.locations>0?I.locations:"-"}),o(D,{children:I.workAreas>0?I.workAreas:"-"}),o(D,{children:I.totalMembers>0?I.totalMembers:"---"}),o(D,{children:o(x,{variant:"outline",onClick:()=>f(I),children:"View"})})]},I.site))})]})}),o("div",{className:"app-section__sm-table",children:o(je,{children:o(Qe,{children:E.map(I=>o("div",{className:"container",children:[o("h2",{children:I.site}),o("div",{className:"location-flex",onClick:()=>f(I),children:[o("p",{children:[o("span",{children:" Location(s): "}),I.locations>0?I.locations:"-"]}),o("p",{children:[o("span",{children:"Work Area(s): "}),I.workAreas>0?I.workAreas:"-"]}),o("p",{children:[o("span",{children:"Total Members: "}),I.totalMembers>0?I.totalMembers:"---"]})]})]},I.site))})})}),o(kr,{totalItems:m.length,itemsPerPage:A,currentPage:k,onPageChange:T}),!(t!=null&&t.data)&&o("div",{className:"base-empty",children:[o("img",{src:"/svgs/document.svg"}),o("p",{children:n?"Fetching locations, please wait...":"No locations yet"})]})]}),o(lt,{toggle:()=>p("role_details"),show:a.role_details,children:[o(dt,{children:l?`${l.locationArea}`:"Site Details"}),o(ut,{children:[l?o(P,{children:[o(we,{label:"Location Admin:",children:l.locationAdminId}),o("div",{className:"grid-cols-2",children:[o(we,{label:"Total Members:",children:l.members.length}),o(we,{label:"Work Areas:",children:l.workAreas.length})]}),o("span",{children:"Below is the list of work area in this location area"}),o("br",{}),o("br",{}),o("ul",{className:"grid-cols-2",style:{listStyle:"disc"},children:l.workAreas.length>0?l.workAreas.map(I=>o("li",{children:I},I.id)):"No work areas yet"}),o("br",{})]}):o(P,{children:[o(we,{label:"Site:",children:r==null?void 0:r.site}),o(we,{label:"Total Members:",children:(r==null?void 0:r.totalMembers)>0?r==null?void 0:r.totalMembers:"---"}),o(we,{label:"Location(s):",children:(r==null?void 0:r.locations)>0?r==null?void 0:r.locations:"-"}),o(we,{label:"Work Area(s):",children:(r==null?void 0:r.workAreas)>0?r==null?void 0:r.workAreas:0}),o(je,{children:[o(Ct,{children:o(me,{children:[o(D,{children:"Location Area"}),o(D,{children:"Work Areas"}),o(D,{children:"Members"}),o(D,{})]})}),o(Qe,{children:r==null?void 0:r.data.map(I=>o(me,{children:[o(D,{children:I.locationArea}),o(D,{children:I.workAreas.length}),o(D,{children:I.members.length}),o(D,{children:o(x,{variant:"outline",onClick:()=>g(I),children:"View"})})]},I.id))})]})]}),l?o("div",{className:"app-modal__footer",children:o("button",{className:"app-modal__btn--yellow",onClick:()=>{v(l)},children:[o(ne,{name:"edit"}),"Edit Location"]})}):o("div",{className:"app-modal__double-footer",children:[o("button",{className:"app-modal__btn--gradient",onClick:()=>V("/locations/create/location-area"),children:[o(ne,{name:"plus"}),"Add Loc. Area"]}),o("button",{className:"app-modal__btn--orange",onClick:()=>V("/locations/create/work-area"),children:[o(ne,{name:"plus"}),"Add Work Area"]}),o("button",{className:"app-modal__btn--yellow",onClick:()=>{v(r)},children:[o(ne,{name:"plus"}),"Edit Loc. Area"]}),o("button",{className:"app-modal__btn--red",onClick:()=>{b(!0)},children:[o(ne,{name:"plus"}),"Delete Loc. Area"]})]}),o("div",{className:"",children:w&&o("div",{className:"popup-overlay",children:o("div",{className:"popup-modal",children:o("div",{className:"",children:[o("div",{className:"flex-justify-between",children:[o("h4",{children:"Delete Location Area"}),o("button",{className:"drop-close",onClick:()=>b(!1),children:"×"})]}),o("br",{}),o("p",{children:"Select the location area you want to delete below"}),o("br",{}),o(kt,{className:"base-dropdown__dropdown-wrapper",children:[o(It,{children:u}),o(xt,{children:r==null?void 0:r.data.map(I=>o("div",{className:"base-dropdown__option",onClick:()=>N(I),children:I.locationArea},I.id))})]}),o("br",{}),o("div",{className:"button-group",children:[o("button",{onClick:()=>y(!1),style:{backgroundColor:"#E86E18",color:"#fff"},children:"Cancel"}),o("button",{onClick:S,style:{backgroundColor:"#D30021",color:"#fff"},children:"Next"})]})]})})})}),o("div",{className:"",children:_&&o(Pn,{icon:o("img",{src:"/svgs/delete_img.png"}),title:"Delete Location",message:"Are you sure you want to delete this location? This action cannot be undone.",onClose:()=>y(!1),primaryButton:{label:"Delete",onClick:C,color:"#D30021"},secondaryButton:{label:"Cancel",onClick:()=>y(!1),color:"#E86E18"}})})]})]})]})}function Zt(r,e=r[0]){const[t,n]=O(e),i=r.map(a=>({key:a,label:a,isActive:t===a,onClick:()=>n(a)}));return{switchTab:n,activeTab:t,tabs:i}}function Oi({tabs:r,counts:e={},className:t=""}){return o("div",{className:t,children:r.map(n=>o("button",{"data-isActive":n.isActive,onClick:n.onClick,children:[n.label,e[n.key]?o("span",{children:e[n.key]}):null]}))})}function ME(){var M,F,L,B,H,j,te,de;const[r,e]=O(),{toggle:t,modals:n}=Qt({user_details:!1}),{response:i,isLoading:a}=X(kE,{},!0),s=(i==null?void 0:i.data)||[];async function c(Q){var ge,xe;const _e=await K(`/profile/${Q}`,"GET");e((ge=_e[0])==null?void 0:ge.data),console.log((xe=_e[0])==null?void 0:xe.data)}const l=Q=>{c(Q.id),t("user_details")},d=Q=>`${Q.fullname}`,[u,h]=O("All Locations"),[p,f]=O("All Status"),g=["All Status","Active","Inactive"],{setID:m,valueID:v}=$e(),[_,y]=O(!1),w=Q=>{m(Q.id),V("/interal-user/edit")},b=Q=>{m(Q.id),y(!0)},C=async()=>{const Q=v;try{const _e=await K(`/profile/${Q}`,"DELETE");console.log(_e),t("user_details"),q({variant:"success",message:"Internal user deleted successfully"})}catch(_e){q({variant:"error",message:`${(_e==null?void 0:_e.message)??"Failed to delete user"}`})}y(!1)},[N,S]=O(""),k=s.filter(Q=>{var Cn,Pt;const _e=Q.fullname.toLowerCase(),ge=Q.email.toLowerCase(),xe=((Cn=Q.location)==null?void 0:Cn.locationArea.toLowerCase())||"",Rt=_e.includes(N.toLowerCase())||ge.includes(N.toLowerCase())||xe.includes(N.toLowerCase())||N==="",On=u==="All Locations"||((Pt=Q==null?void 0:Q.location)==null?void 0:Pt.site)===u,nr=p==="All Status"||p==="Active"&&Q.isActive||p==="Inactive"&&!Q.isActive;return On&&nr&&Rt}),[T,A]=O(1),E=10,I=k.sort((Q,_e)=>new Date(_e.createdAt).getTime()-new Date(Q.createdAt).getTime()),R=Er(I,T,E);return o(P,{children:o("div",{className:"",children:[o("div",{className:"app-section__header",children:[o($n,{placeholder:"Search by user name",onSearch:S}),o("br",{}),o("div",{className:"app-section__filters ",children:[o("span",{className:"base-date-filter--secondary",children:"Filter by:"}),o("div",{className:"sm-grid-cols-2 app-section__filters",children:[o(kt,{className:"base-dropdown__dropdown-wrapper",children:[o(It,{children:u}),o(xt,{children:oi.map(Q=>o("div",{className:"base-dropdown__option",onClick:()=>h(Q.value),children:Q.text},Q.value))})]}),o(kt,{className:"base-dropdown__dropdown-wrapper",children:[o(It,{children:p}),o(xt,{children:g.map(Q=>o("div",{className:"base-dropdown__option",onClick:()=>f(Q),children:Q},Q))})]})]})]})]}),o("div",{children:[((M=i==null?void 0:i.data)==null?void 0:M.length)>0?o("div",{className:"app-section",children:[o("div",{className:"app-section__lg-table",children:o(je,{children:[o(Ct,{children:o(me,{children:[o(D,{children:"Name"}),o(D,{children:"Email"}),o(D,{children:"Location"}),o(D,{children:"Status"}),o(D,{})]})}),o(Qe,{children:R.map(Q=>{var _e,ge;return o(me,{children:[o(D,{children:Q.fullname}),o(D,{children:Q.email}),o(D,{children:[(_e=Q==null?void 0:Q.location)==null?void 0:_e.locationArea,"/ ",(ge=Q==null?void 0:Q.location)==null?void 0:ge.site]}),o(D,{children:o("span",{className:Q.isActive?"status-active":"status-inactive",children:Q.isActive?"Active":"Inactive"})}),o(D,{children:o(x,{variant:"outline",onClick:()=>l(Q),children:"View"})})]},Q.id)})})]})}),o(qs,{data:R,onItemClick:l,getName:d,formatCreatedAt:Q=>le(Q==null?void 0:Q.createdAt).format("MMM DD, YYYY"),type:"Users",getDetails:Q=>Q==null?void 0:Q.type}),o(kr,{totalItems:k.length,itemsPerPage:E,currentPage:T,onPageChange:A}),!((F=i==null?void 0:i.data)!=null&&F.length)&&o("div",{className:"base-empty",children:[o("img",{src:"/svgs/document.svg"}),o("p",{children:a?"Fetching users, please wait...":"No users yet"})]})]}):o(P,{children:[o("div",{className:"app-section",children:o(je,{children:o(Ct,{children:o(me,{children:[o(D,{children:"Name"}),o(D,{children:"Email"}),o(D,{children:"Location"}),o(D,{children:"Status"}),o(D,{})]})})})}),o("div",{className:"empty-state",children:o("div",{children:[" ",o("div",{className:"flex-center",children:o("img",{src:"/svgs/no-users.png"})}),o("p",{children:"All internal users will appear here. Click the button below to create a new user"})]})})]}),o(lt,{toggle:()=>t("user_details"),show:n.user_details,children:[o(dt,{children:"User Details"}),o(ut,{children:[o(we,{label:"Date Created:",children:le(r==null?void 0:r.createdAt).format("MMM DD, YYYY • HH:mm A")}),o(we,{label:"Created By:",children:o("a",{href:"",className:"app-link",children:(L=r==null?void 0:r.creator)==null?void 0:L.fullname})}),o(we,{label:"Full name:",children:r==null?void 0:r.fullname}),o(we,{label:"Email Address:",children:r==null?void 0:r.email}),o("div",{className:"grid-cols-2",children:[o(we,{label:"User Type:",children:(B=r==null?void 0:r.type)==null?void 0:B.toLowerCase()}),o(we,{label:"Status:",children:[" ",o("span",{className:r!=null&&r.isActive?"mobile-status-active":"mobile-status-inactive",children:r!=null&&r.isActive?"Active":"Inactive"})]})]}),o(we,{label:"Role:",children:(j=(H=r==null?void 0:r.role)==null?void 0:H.authorities)==null?void 0:j.map(Q=>o("p",{className:"app-modal__detail__value",children:Q},Q))}),o(we,{label:"Location:",children:[(te=r==null?void 0:r.location)==null?void 0:te.locationArea," /",(de=r==null?void 0:r.location)==null?void 0:de.workAreas]}),o("div",{className:"app-modal__footer",children:[o("button",{className:"app-modal__btn--yellow",onClick:()=>{w(r)},children:[o(ne,{name:"edit"}),"Edit User"]}),o("button",{className:"app-modal__btn--red",onClick:()=>b(r),children:[o(ne,{name:"delete"}),"Delete"]})]}),o("div",{className:"",children:_&&o(Pn,{icon:o("img",{src:"/svgs/delete_img.png"}),title:"Delete User",message:"Are you sure you want to delete this user? This action cannot be undone.",onClose:()=>y(!1),primaryButton:{label:"Delete",onClick:C,color:"#D30021"},secondaryButton:{label:"Cancel",onClick:()=>y(!1),color:"#E86E18"}})})]})]})]})]})})}function LE(){var C,N,S,k,T,A;const[r]=O(),{toggle:e,modals:t}=Qt({user_details:!1}),{response:n,isLoading:i}=X(Uf,{},!0),{setID:a}=$e(),s=E=>{a(E.id),console.log("update",E.id),V("/users/company/details")},c=E=>`${E.name}`,[l,d]=O("All Status"),u=["All Status","Active","Inactive"],h=E=>{console.log("haba please work"),a(E.id)},p=(n==null?void 0:n.data)||[],[f,g]=O(""),m=p.filter(E=>{const I=E.contractId.toLowerCase(),R=E.name.toLowerCase(),M=I.includes(f.toLowerCase())||R.includes(f.toLowerCase())||f==="";return(l==="All Status"||l==="Active"&&E.isActive||l==="Inactive"&&!E.isActive)&&M}).sort((E,I)=>new Date(I.createdAt).getTime()-new Date(E.createdAt).getTime()),[v,_]=O(1),y=10,w=m.sort((E,I)=>new Date(I.createdAt).getTime()-new Date(E.createdAt).getTime()),b=Er(w,v,y);return o(P,{children:o("div",{className:"",children:[o("div",{className:"app-section__header",children:[o($n,{placeholder:"Search by name or Contract ID",onSearch:g}),o("br",{}),o("div",{className:"app-section__filters ",children:[o("span",{className:"base-date-filter--secondary",children:"Filter by:"}),o(kt,{className:"base-dropdown__dropdown-wrapper",children:[o(It,{children:l}),o(xt,{children:u.map(E=>o("div",{className:"base-dropdown__option",onClick:()=>d(E),children:E},E))})]})]})]}),o("div",{children:[o("div",{className:"app-section",children:[o("div",{className:"app-section__lg-table",children:o(je,{children:[o(Ct,{children:o(me,{children:[o(D,{children:"Contract ID"}),o(D,{children:"Company Name"}),o(D,{children:"Status"}),o(D,{})]})}),o(Qe,{children:b.map(E=>{var I,R;return o(me,{children:[o(D,{children:E.contractId.toUpperCase()}),o(D,{children:E.name}),o(D,{children:o("span",{className:` ${E.status==="ACTIVE"?"status-active":"status-inactive"}`,children:((I=E.status)==null?void 0:I.charAt(0).toUpperCase())+((R=E.status)==null?void 0:R.slice(1).toLowerCase())})}),o(D,{children:o(x,{variant:"outline",onClick:()=>s(E),children:"View"})})]},E.id)})})]})}),o(qs,{data:b,onItemClick:s,getName:c,type:"Company",getDetails:"",formatCreatedAt:""}),o(kr,{totalItems:m.length,itemsPerPage:y,currentPage:v,onPageChange:_}),!((C=n==null?void 0:n.data)!=null&&C.length)&&o("div",{className:"base-empty",children:[o("img",{src:"/svgs/document.svg"}),o("p",{children:i?"Fetching users, please wait...":"No companies yet"})]})]}),o(lt,{toggle:()=>e("user_details"),show:t.user_details,children:[o(dt,{children:"Company Details"}),o(ut,{children:[o(we,{label:"Date Created:",children:le(r==null?void 0:r.createdAt).format("MMM DD, YYYY • HH:mm A")}),o(we,{label:"Created By:",children:o("a",{href:"",className:"app-link",children:[(N=r==null?void 0:r.creator)==null?void 0:N.firstname," ",(S=r==null?void 0:r.creator)==null?void 0:S.lastname]})}),o(we,{label:"Full name:",children:[r==null?void 0:r.firstname,", ",r==null?void 0:r.lastname]}),o(we,{label:"Email Address:",children:r==null?void 0:r.email}),o("div",{className:"grid-cols-2",children:[o(we,{label:"User Type:",children:(k=r==null?void 0:r.type)==null?void 0:k.toLowerCase()}),o(we,{label:"Status:",children:[" ",o("span",{className:`status ${(r==null?void 0:r.status)==="Active"?"status.active":"status.inactive"}`,children:r==null?void 0:r.status})]})]}),o(we,{label:"Role:",children:((T=r==null?void 0:r.role)==null?void 0:T.name)??"---"}),o(we,{label:"Location:",children:(A=r==null?void 0:r.location)==null?void 0:A.address}),o("div",{className:"app-modal__footer",children:[o("button",{className:"app-modal__btn--yellow",onClick:()=>{V("/users/edit")},children:[o(ne,{name:"edit"}),"Edit User"]}),o("button",{className:"app-modal__btn--red",onClick:()=>{h(r)},children:[o(ne,{name:"delete"}),"Delete"]})]})]})]})]})]})})}function FE({}){const{tabs:r,activeTab:e}=Zt(["Internal Users","External Users"]),t={};return o(P,{children:[o(Ne,{title:"Users"}),o("div",{className:"app-section__header",children:[o(Oi,{tabs:r,counts:t,className:"reuseable-base-tabs"}),o(x,{href:e==="Internal Users"?"/users/create-internal":"/users/create-company",variant:"primary",dimension:"md",children:[o(ne,{name:"plus"}),e==="Internal Users"?"Create New User":"Add  Company"]})]}),e==="Internal Users"&&o(ME,{}),e==="External Users"&&o(LE,{})]})}function Gt(r){const{checked:e,onChange:t,disabled:n}=r;return o("input",{className:"base-checkbox",type:"checkbox",checked:e,disabled:n,onChange:({currentTarget:{checked:i}})=>t(i)})}function HE({}){const{makeRequest:r,isLoading:e}=X(vE),{getFieldProps:t,values:n,setFieldValue:i,handleSubmit:a}=se({initialValues:{roleTitle:"",permissions:[],authorities:[]},validationSchema:UE,onSubmit:l});function s(d){let u=[];const h=p=>p!==d;n.permissions.every(h)?u=[...n.permissions,d]:u=n.permissions.filter(h),i("permissions",u)}function c(d){let u=[];const h=p=>p!==d;n.authorities.every(h)?u=[...n.authorities,d]:u=n.authorities.filter(h),i("authorities",u)}async function l(d){console.log(d);const[u,h]=await r({name:d.roleTitle,permissions:d.permissions,authorities:d.authorities});if(h)return q({variant:"error",message:(h==null?void 0:h.message)??"Failed to create role, please try again"});V("/roles")}return o(P,{children:[o(Ne,{title:"Roles & Permissions"}),o("div",{className:"app-page",children:[o("div",{className:"app-create__header",children:[o("button",{onClick:()=>V("/roles"),children:o(ne,{name:"caret-left"})}),o("div",{children:[o("h3",{children:"Create new role"}),o("p",{children:"Fill the fields below to create a new role"})]})]}),o("div",{className:"app-create__form",children:o("form",{onSubmit:a,children:[o("p",{className:"app-create__form__title",children:"Role Title"}),o(ee,{placeholder:"Enter role title",...t("roleTitle")}),o("p",{className:"app-create__form__title",children:"Permissions"}),o("div",{className:"app-create__form__group",children:F6.map(({label:d,value:u},h)=>o("label",{className:"base-checkbox-label",children:[o(Gt,{checked:n.permissions.includes(u),onChange:()=>s(u)}),o("span",{children:d})]},h))}),o("p",{className:"app-create__form__title",children:"Authorities"}),o("div",{className:"app-create__form__group",children:H6.map(({label:d,value:u},h)=>o("label",{className:"base-checkbox-label",children:[o(Gt,{checked:n.authorities.includes(u),onChange:()=>c(u)}),o("span",{children:d})]},h))}),o(x,{variant:"primary",isLoading:e,children:"Create Role"})]})})]})]})}const UE=re({roleTitle:oe().required("Role title is required"),permissions:bs().required("At least one permission is required"),authorities:bs().required("At least one authority is required")});function tt({label:r="",error:e,isTouched:t,options:n,placeholder:i,...a}){const s=t?!!e:!1;return o("label",{className:"base-input",children:[r?o("span",{children:r}):null,o("div",{className:"select-container",children:[o("select",{"data-hasError":s,...a,children:[o("option",{value:"",default:!0,children:i??`Select ${r.toLowerCase()}`}),n==null?void 0:n.map(c=>o("option",{value:c.value,children:c.text},c.value))]}),o(ne,{name:"caret-left"})]}),s&&o("p",{className:"base-input__error",children:[o("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{d:"M12 16H12.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{d:"M12 8V12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),e]})]})}function _1({}){const{makeRequest:r,isLoading:e}=X(yE),{getFieldProps:t,handleSubmit:n,setFieldValue:i}=se({initialValues:{site:"",locationArea:""},onSubmit:a,validationSchema:$E});async function a(c){console.log(c);const[l,d]=await r(c);if(d)return q({variant:"error",message:(d==null?void 0:d.message)??"Failed to create location, please try again."});q({variant:"success",message:"Location created successfully"}),V("/locations")}const s=c=>{i("locationArea",c.trim())};return o(P,{children:[o(Ne,{title:"Locations"}),o("div",{className:"app-page",children:[o("div",{className:"app-create__header",children:[o("button",{onClick:()=>V("/locations"),children:o(ne,{name:"caret-left"})}),o("div",{children:[o("h3",{children:"Add new location"}),o("p",{children:"Fill the fields below to add a new location"})]})]}),o("div",{className:"app-create__form",children:o("form",{onSubmit:n,children:[o("p",{className:"app-create__form__title",children:"Site Title"}),o(tt,{placeholder:"--select site--",options:oi,...t("site")}),o("p",{className:"app-create__form__title",children:"Location Area"}),o("div",{className:"location-fields",children:o(ee,{placeholder:"Enter Location Area",value:location,onChange:c=>s(c.target.value),...t("locationArea")})}),o("br",{}),o("br",{}),o("br",{}),o(x,{variant:"primary",isLoading:e,children:"Create Location Area"}),o("br",{})]})})]})]})}const $E=re({site:oe().required("Site is required"),locationArea:oe().trim().required("Location area is required").min(2,"Please enter a valid location area")});function ln({label:r="",error:e,isTouched:t,...n}){const i=t?!!e:!1;return o("label",{className:"base-input",children:[r?o("span",{children:r}):null,o("textarea",{"data-hasError":i,placeholder:`Enter ${r.toLowerCase()}`,...n}),i&&o("p",{className:"base-input__error",children:[o("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{d:"M12 16H12.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{d:"M12 8V12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),e]})]})}var K2={exports:{}},G2={};const Q2=U7(D6);var Z2={exports:{}},X2={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fa=Q2;function BE(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var VE=typeof Object.is=="function"?Object.is:BE,YE=fa.useState,WE=fa.useEffect,zE=fa.useLayoutEffect,jE=fa.useDebugValue;function qE(r,e){var t=e(),n=YE({inst:{value:t,getSnapshot:e}}),i=n[0].inst,a=n[1];return zE(function(){i.value=t,i.getSnapshot=e,xu(i)&&a({inst:i})},[r,t,e]),WE(function(){return xu(i)&&a({inst:i}),r(function(){xu(i)&&a({inst:i})})},[r]),jE(t),t}function xu(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!VE(r,t)}catch{return!0}}function KE(r,e){return e()}var GE=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?KE:qE;X2.useSyncExternalStore=fa.useSyncExternalStore!==void 0?fa.useSyncExternalStore:GE;Z2.exports=X2;var QE=Z2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zd=Q2,ZE=QE;function XE(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var JE=typeof Object.is=="function"?Object.is:XE,eT=ZE.useSyncExternalStore,tT=Zd.useRef,nT=Zd.useEffect,rT=Zd.useMemo,iT=Zd.useDebugValue;G2.useSyncExternalStoreWithSelector=function(r,e,t,n,i){var a=tT(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=rT(function(){function l(f){if(!d){if(d=!0,u=f,f=n(f),i!==void 0&&s.hasValue){var g=s.value;if(i(g,f))return h=g}return h=f}if(g=h,JE(u,f))return g;var m=n(f);return i!==void 0&&i(g,m)?g:(u=f,h=m)}var d=!1,u,h,p=t===void 0?null:t;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,t,n,i]);var c=eT(r,a[0],a[1]);return nT(function(){s.hasValue=!0,s.value=c},[c]),iT(c),c};K2.exports=G2;var oT=K2.exports;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ie=function(){return ie=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ie.apply(this,arguments)};function $f(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function Te(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oe(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return a}function rt(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}var Ze;(function(r){r.Start="xstate.start",r.Stop="xstate.stop",r.Raise="xstate.raise",r.Send="xstate.send",r.Cancel="xstate.cancel",r.NullEvent="",r.Assign="xstate.assign",r.After="xstate.after",r.DoneState="done.state",r.DoneInvoke="done.invoke",r.Log="xstate.log",r.Init="xstate.init",r.Invoke="xstate.invoke",r.ErrorExecution="error.execution",r.ErrorCommunication="error.communication",r.ErrorPlatform="error.platform",r.ErrorCustom="xstate.error",r.Update="xstate.update",r.Pure="xstate.pure",r.Choose="xstate.choose"})(Ze||(Ze={}));var ma;(function(r){r.Parent="#_parent",r.Internal="#_internal"})(ma||(ma={}));var qh=Ze.Start,Bf=Ze.Stop,Ks=Ze.Raise,Xd=Ze.Send,J2=Ze.Cancel,aT=Ze.NullEvent,e_=Ze.Assign;Ze.After;Ze.DoneState;var t_=Ze.Log,sT=Ze.Init,Kh=Ze.Invoke;Ze.ErrorExecution;var y1=Ze.ErrorPlatform,cT=Ze.ErrorCustom,n_=Ze.Update,lT=Ze.Choose,dT=Ze.Pure,r_=".",C1={},Gh="xstate.guard",uT="",bc;function Vf(r,e,t){t===void 0&&(t=r_);var n=hs(r,t),i=hs(e,t);return Ue(i)?Ue(n)?i===n:!1:Ue(n)?n in i:Object.keys(n).every(function(a){return a in i?Vf(n[a],i[a]):!1})}function i_(r){try{return Ue(r)||typeof r=="number"?"".concat(r):r.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function Qh(r,e){try{return Ta(r)?r:r.toString().split(e)}catch{throw new Error("'".concat(r,"' is not a valid state path."))}}function hT(r){return typeof r=="object"&&"value"in r&&"context"in r&&"event"in r&&"_event"in r}function hs(r,e){if(hT(r))return r.value;if(Ta(r))return Ql(r);if(typeof r!="string")return r;var t=Qh(r,e);return Ql(t)}function Ql(r){if(r.length===1)return r[0];for(var e={},t=e,n=0;n<r.length-1;n++)n===r.length-2?t[r[n]]=r[n+1]:(t[r[n]]={},t=t[r[n]]);return e}function Ka(r,e){for(var t={},n=Object.keys(r),i=0;i<n.length;i++){var a=n[i];t[a]=e(r[a],a,r,i)}return t}function b1(r,e,t){var n,i,a={};try{for(var s=Te(Object.keys(r)),c=s.next();!c.done;c=s.next()){var l=c.value,d=r[l];t(d)&&(a[l]=e(d,l,r))}}catch(u){n={error:u}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a}var pT=function(r){return function(e){var t,n,i=e;try{for(var a=Te(r),s=a.next();!s.done;s=a.next()){var c=s.value;i=i[c]}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i}};function fT(r,e){return function(t){var n,i,a=t;try{for(var s=Te(r),c=s.next();!c.done;c=s.next()){var l=c.value;a=a[e][l]}}catch(d){n={error:d}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a}}function cl(r){if(!r)return[[]];if(Ue(r))return[[r]];var e=ft(Object.keys(r).map(function(t){var n=r[t];return typeof n!="string"&&(!n||!Object.keys(n).length)?[[t]]:cl(r[t]).map(function(i){return[t].concat(i)})}));return e}function ft(r){var e;return(e=[]).concat.apply(e,rt([],Oe(r),!1))}function o_(r){return Ta(r)?r:[r]}function Wn(r){return r===void 0?[]:o_(r)}function Zl(r,e,t){var n,i;if(Fe(r))return r(e,t.data);var a={};try{for(var s=Te(Object.keys(r)),c=s.next();!c.done;c=s.next()){var l=c.value,d=r[l];Fe(d)?a[l]=d(e,t.data):a[l]=d}}catch(u){n={error:u}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a}function mT(r){return/^(done|error)\./.test(r)}function w1(r){return!!(r instanceof Promise||r!==null&&(Fe(r)||typeof r=="object")&&Fe(r.then))}function gT(r){return r!==null&&typeof r=="object"&&"transition"in r&&typeof r.transition=="function"}function vT(r,e){var t,n,i=Oe([[],[]],2),a=i[0],s=i[1];try{for(var c=Te(r),l=c.next();!l.done;l=c.next()){var d=l.value;e(d)?a.push(d):s.push(d)}}catch(u){t={error:u}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return[a,s]}function a_(r,e){return Ka(r.states,function(t,n){if(t){var i=(Ue(e)?void 0:e[n])||(t?t.current:void 0);if(i)return{current:i,states:a_(t,i)}}})}function _T(r,e){return{current:e,states:a_(r,e)}}function S1(r,e,t,n){var i=r&&t.reduce(function(a,s){var c,l,d=s.assignment,u={state:n,action:s,_event:e},h={};if(Fe(d))h=d(a,e.data,u);else try{for(var p=Te(Object.keys(d)),f=p.next();!f.done;f=p.next()){var g=f.value,m=d[g];h[g]=Fe(m)?m(a,e.data,u):m}}catch(v){c={error:v}}finally{try{f&&!f.done&&(l=p.return)&&l.call(p)}finally{if(c)throw c.error}}return Object.assign({},a,h)},r);return i}var yT=function(){};function Ta(r){return Array.isArray(r)}function Fe(r){return typeof r=="function"}function Ue(r){return typeof r=="string"}function s_(r,e){if(r)return Ue(r)?{type:Gh,name:r,predicate:e?e[r]:void 0}:Fe(r)?{type:Gh,name:r.name,predicate:r}:r}function CT(r){try{return"subscribe"in r&&Fe(r.subscribe)}catch{return!1}}var mi=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();bc={},bc[mi]=function(){return this},bc[Symbol.observable]=function(){return this};function ga(r){return!!r&&"__xstatenode"in r}function bT(r){return!!r&&typeof r.send=="function"}function Jd(r,e){return Ue(r)||typeof r=="number"?ie({type:r},e):r}function qt(r,e){if(!Ue(r)&&"$$type"in r&&r.$$type==="scxml")return r;var t=Jd(r);return ie({name:t.type,data:t,$$type:"scxml",type:"external"},e)}function Mo(r,e){var t=o_(e).map(function(n){return typeof n>"u"||typeof n=="string"||ga(n)?{target:n,event:r}:ie(ie({},n),{event:r})});return t}function wT(r){if(!(r===void 0||r===uT))return Wn(r)}function c_(r,e,t,n,i){var a=r.options.guards,s={state:i,cond:e,_event:n};if(e.type===Gh)return((a==null?void 0:a[e.name])||e.predicate)(t,n.data,s);var c=a==null?void 0:a[e.type];if(!c)throw new Error("Guard '".concat(e.type,"' is not implemented on machine '").concat(r.id,"'."));return c(t,n.data,s)}function l_(r){return typeof r=="string"?{type:r}:r}function ll(r,e,t){var n=function(){},i=typeof r=="object",a=i?r:null;return{next:((i?r.next:r)||n).bind(a),error:((i?r.error:e)||n).bind(a),complete:((i?r.complete:t)||n).bind(a)}}function wc(r,e){return"".concat(r,":invocation[").concat(e,"]")}function Zh(r){return(r.type===Ks||r.type===Xd&&r.to===ma.Internal)&&typeof r.delay!="number"}var ea=qt({type:sT});function Xh(r,e){return e&&e[r]||void 0}function Ns(r,e){var t;if(Ue(r)||typeof r=="number"){var n=Xh(r,e);Fe(n)?t={type:r,exec:n}:n?t=n:t={type:r,exec:void 0}}else if(Fe(r))t={type:r.name||r.toString(),exec:r};else{var n=Xh(r.type,e);if(Fe(n))t=ie(ie({},r),{exec:n});else if(n){var i=n.type||r.type;t=ie(ie(ie({},n),r),{type:i})}else t=r}return t}var gi=function(r,e){if(!r)return[];var t=Ta(r)?r:[r];return t.map(function(n){return Ns(n,e)})};function Yf(r){var e=Ns(r);return ie(ie({id:Ue(r)?r:e.id},e),{type:e.type})}function ST(r,e){return{type:Ks,event:typeof r=="function"?r:Jd(r),delay:e?e.delay:void 0,id:e==null?void 0:e.id}}function AT(r,e,t,n){var i={_event:t},a=qt(Fe(r.event)?r.event(e,t.data,i):r.event),s;if(Ue(r.delay)){var c=n&&n[r.delay];s=Fe(c)?c(e,t.data,i):c}else s=Fe(r.delay)?r.delay(e,t.data,i):r.delay;return ie(ie({},r),{type:Ks,_event:a,delay:s})}function NT(r,e){return{to:e?e.to:void 0,type:Xd,event:Fe(r)?r:Jd(r),delay:e?e.delay:void 0,id:e&&e.id!==void 0?e.id:Fe(r)?r.name:i_(r)}}function ET(r,e,t,n){var i={_event:t},a=qt(Fe(r.event)?r.event(e,t.data,i):r.event),s;if(Ue(r.delay)){var c=n&&n[r.delay];s=Fe(c)?c(e,t.data,i):c}else s=Fe(r.delay)?r.delay(e,t.data,i):r.delay;var l=Fe(r.to)?r.to(e,t.data,i):r.to;return ie(ie({},r),{to:l,_event:a,event:a.data,delay:s})}var TT=function(r,e,t){return ie(ie({},r),{value:Ue(r.expr)?r.expr:r.expr(e,t.data,{_event:t})})},kT=function(r){return{type:J2,sendId:r}};function IT(r){var e=Yf(r);return{type:Ze.Start,activity:e,exec:void 0}}function xT(r){var e=Fe(r)?r:Yf(r);return{type:Ze.Stop,activity:e,exec:void 0}}function PT(r,e,t){var n=Fe(r.activity)?r.activity(e,t.data):r.activity,i=typeof n=="string"?{id:n}:n,a={type:Ze.Stop,activity:i};return a}function DT(r,e){var t=e?"#".concat(e):"";return"".concat(Ze.After,"(").concat(r,")").concat(t)}function Sc(r,e){var t="".concat(Ze.DoneState,".").concat(r),n={type:t,data:e};return n.toString=function(){return t},n}function dl(r,e){var t="".concat(Ze.DoneInvoke,".").concat(r),n={type:t,data:e};return n.toString=function(){return t},n}function Ga(r,e){var t="".concat(Ze.ErrorPlatform,".").concat(r),n={type:t,data:e};return n.toString=function(){return t},n}var OT=function(r){var e,t,n=[];try{for(var i=Te(r),a=i.next();!a.done;a=i.next())for(var s=a.value,c=0;c<s.actions.length;){if(s.actions[c].type===e_){n.push(s.actions[c]),s.actions.splice(c,1);continue}c++}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return n};function Xl(r,e,t,n,i,a,s){s===void 0&&(s=!1);var c=s?[]:OT(i),l=c.length?S1(t,n,c,e):t,d=s?[t]:void 0,u=[];function h(g,m){var v;switch(m.type){case Ks:{var _=AT(m,l,n,r.options.delays);return a&&typeof _.delay=="number"&&a(_,l,n),_}case Xd:var y=ET(m,l,n,r.options.delays);return a&&y.to!==ma.Internal&&(g==="entry"?u.push(y):a(y,l,n)),y;case t_:{var w=TT(m,l,n);return a==null||a(w,l,n),w}case lT:{var b=m,C=(v=b.conds.find(function(L){var B=s_(L.cond,r.options.guards);return!B||c_(r,B,l,n,a?void 0:e)}))===null||v===void 0?void 0:v.actions;if(!C)return[];var N=Oe(Xl(r,e,l,n,[{type:g,actions:gi(Wn(C),r.options.actions)}],a,s),2),S=N[0],k=N[1];return l=k,d==null||d.push(l),S}case dT:{var C=m.get(l,n.data);if(!C)return[];var T=Oe(Xl(r,e,l,n,[{type:g,actions:gi(Wn(C),r.options.actions)}],a,s),2),A=T[0],E=T[1];return l=E,d==null||d.push(l),A}case Bf:{var w=PT(m,l,n);return a==null||a(w,t,n),w}case e_:{l=S1(l,n,[m],a?void 0:e),d==null||d.push(l);break}default:var I=Ns(m,r.options.actions),R=I.exec;if(a)a(I,l,n);else if(R&&d){var M=d.length-1,F=ie(ie({},I),{exec:function(L){for(var B=[],H=1;H<arguments.length;H++)B[H-1]=arguments[H];R.apply(void 0,rt([d[M]],Oe(B),!1))}});I=F}return I}}function p(g){var m,v,_=[];try{for(var y=Te(g.actions),w=y.next();!w.done;w=y.next()){var b=w.value,C=h(g.type,b);C&&(_=_.concat(C))}}catch(N){m={error:N}}finally{try{w&&!w.done&&(v=y.return)&&v.call(y)}finally{if(m)throw m.error}}return u.forEach(function(N){a(N,l,n)}),u.length=0,_}var f=ft(i.map(p));return[f,l]}var Wo=function(r,e){var t=e(r);return t};function d_(r){var e;return e={id:r,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:r}}},e[mi]=function(){return this},e}function RT(r,e,t,n){var i,a=l_(r.src),s=(i=e==null?void 0:e.options.services)===null||i===void 0?void 0:i[a.type],c=r.data?Zl(r.data,t,n):void 0,l=s?u_(s,r.id,c):d_(r.id);return l.meta=r,l}function u_(r,e,t){var n=d_(e);if(n.deferred=!0,ga(r)){var i=n.state=Wo(void 0,function(){return(t?r.withContext(t):r).initialState});n.getSnapshot=function(){return i}}return n}function MT(r){try{return typeof r.send=="function"}catch{return!1}}function LT(r){return MT(r)&&"id"in r}function FT(r){var e;return ie((e={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},e[mi]=function(){return this},e),r)}var Jl=function(r){return r.type==="atomic"||r.type==="final"};function h_(r){return Object.keys(r.states).map(function(e){return r.states[e]})}function Es(r){return h_(r).filter(function(e){return e.type!=="history"})}function p_(r){var e=[r];return Jl(r)?e:e.concat(ft(Es(r).map(p_)))}function Qa(r,e){var t,n,i,a,s,c,l,d,u=new Set(r),h=Jh(u),p=new Set(e);try{for(var f=Te(p),g=f.next();!g.done;g=f.next())for(var m=g.value,v=m.parent;v&&!p.has(v);)p.add(v),v=v.parent}catch(T){t={error:T}}finally{try{g&&!g.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}var _=Jh(p);try{for(var y=Te(p),w=y.next();!w.done;w=y.next()){var m=w.value;if(m.type==="compound"&&(!_.get(m)||!_.get(m).length))h.get(m)?h.get(m).forEach(function(A){return p.add(A)}):m.initialStateNodes.forEach(function(A){return p.add(A)});else if(m.type==="parallel")try{for(var b=(s=void 0,Te(Es(m))),C=b.next();!C.done;C=b.next()){var N=C.value;p.has(N)||(p.add(N),h.get(N)?h.get(N).forEach(function(A){return p.add(A)}):N.initialStateNodes.forEach(function(A){return p.add(A)}))}}catch(A){s={error:A}}finally{try{C&&!C.done&&(c=b.return)&&c.call(b)}finally{if(s)throw s.error}}}}catch(T){i={error:T}}finally{try{w&&!w.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}try{for(var S=Te(p),k=S.next();!k.done;k=S.next())for(var m=k.value,v=m.parent;v&&!p.has(v);)p.add(v),v=v.parent}catch(T){l={error:T}}finally{try{k&&!k.done&&(d=S.return)&&d.call(S)}finally{if(l)throw l.error}}return p}function f_(r,e){var t=e.get(r);if(!t)return{};if(r.type==="compound"){var n=t[0];if(n){if(Jl(n))return n.key}else return{}}var i={};return t.forEach(function(a){i[a.key]=f_(a,e)}),i}function Jh(r){var e,t,n=new Map;try{for(var i=Te(r),a=i.next();!a.done;a=i.next()){var s=a.value;n.has(s)||n.set(s,[]),s.parent&&(n.has(s.parent)||n.set(s.parent,[]),n.get(s.parent).push(s))}}catch(c){e={error:c}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return n}function HT(r,e){var t=Qa([r],e);return f_(r,Jh(t))}function Za(r,e){return Array.isArray(r)?r.some(function(t){return t===e}):r instanceof Set?r.has(e):!1}function UT(r){return rt([],Oe(new Set(ft(rt([],Oe(r.map(function(e){return e.ownEvents})),!1)))),!1)}function ul(r,e){return e.type==="compound"?Es(e).some(function(t){return t.type==="final"&&Za(r,t)}):e.type==="parallel"?Es(e).every(function(t){return ul(r,t)}):!1}function $T(r){return r===void 0&&(r=[]),r.reduce(function(e,t){return t.meta!==void 0&&(e[t.id]=t.meta),e},{})}function A1(r){return new Set(ft(r.map(function(e){return e.tags})))}function m_(r,e){if(r===e)return!0;if(r===void 0||e===void 0)return!1;if(Ue(r)||Ue(e))return r===e;var t=Object.keys(r),n=Object.keys(e);return t.length===n.length&&t.every(function(i){return m_(r[i],e[i])})}function BT(r){return typeof r!="object"||r===null?!1:"value"in r&&"_event"in r}function VT(r,e){var t=r.exec,n=ie(ie({},r),{exec:t!==void 0?function(){return t(e.context,e.event,{action:r,state:e,_event:e._event})}:void 0});return n}var Ln=function(){function r(e){var t=this,n;this.actions=[],this.activities=C1,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||C1,this.meta=$T(e.configuration),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=(n=Array.isArray(e.tags)?new Set(e.tags):e.tags)!==null&&n!==void 0?n:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return UT(t.configuration)}})}return r.from=function(e,t){if(e instanceof r)return e.context!==t?new r({value:e.value,context:t,_event:e._event,_sessionid:null,historyValue:e.historyValue,history:e.history,actions:[],activities:e.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):e;var n=ea;return new r({value:e,context:t,_event:n,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},r.create=function(e){return new r(e)},r.inert=function(e,t){if(e instanceof r){if(!e.actions.length)return e;var n=ea;return new r({value:e.value,context:t,_event:n,_sessionid:null,historyValue:e.historyValue,history:e.history,activities:e.activities,configuration:e.configuration,transitions:[],children:{}})}return r.from(e,t)},r.prototype.toStrings=function(e,t){var n=this;if(e===void 0&&(e=this.value),t===void 0&&(t="."),Ue(e))return[e];var i=Object.keys(e);return i.concat.apply(i,rt([],Oe(i.map(function(a){return n.toStrings(e[a],t).map(function(s){return a+t+s})})),!1))},r.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var t=e.tags;e.machine;var n=$f(e,["configuration","transitions","tags","machine"]);return ie(ie({},n),{tags:Array.from(t)})},r.prototype.matches=function(e){return Vf(e,this.value)},r.prototype.hasTag=function(e){return this.tags.has(e)},r.prototype.can=function(e){var t;yT(!!this.machine);var n=(t=this.machine)===null||t===void 0?void 0:t.getTransitionData(this,e);return!!(n!=null&&n.transitions.length)&&n.transitions.some(function(i){return i.target!==void 0||i.actions.length})},r}(),YT={deferEvents:!1},N1=function(){function r(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=ie(ie({},YT),e)}return r.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents){this.schedule(e);return}this.process(e)}this.flushEvents()},r.prototype.schedule=function(e){if(!this.initialized||this.processingEvent){this.queue.push(e);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()},r.prototype.clear=function(){this.queue=[]},r.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},r.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(t){throw this.clear(),t}finally{this.processingEvent=!1}},r}(),Pu=new Map,WT=0,La={bookId:function(){return"x:".concat(WT++)},register:function(r,e){return Pu.set(r,e),r},get:function(r){return Pu.get(r)},free:function(r){Pu.delete(r)}};function Wf(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function zT(){var r=Wf();if(r&&"__xstate__"in r)return r.__xstate__}function jT(r){if(Wf()){var e=zT();e&&e.register(r)}}function qT(r,e){e===void 0&&(e={});var t=r.initialState,n=new Set,i=[],a=!1,s=function(){if(!a){for(a=!0;i.length>0;){var d=i.shift();t=r.transition(t,d,l),n.forEach(function(u){return u.next(t)})}a=!1}},c=FT({id:e.id,send:function(d){i.push(d),s()},getSnapshot:function(){return t},subscribe:function(d,u,h){var p=ll(d,u,h);return n.add(p),p.next(t),{unsubscribe:function(){n.delete(p)}}}}),l={parent:e.parent,self:c,id:e.id||"anonymous",observers:n};return t=r.start?r.start(l):t,c}var KT={sync:!1,autoForward:!1},wt;(function(r){r[r.NotStarted=0]="NotStarted",r[r.Running=1]="Running",r[r.Stopped=2]="Stopped"})(wt||(wt={}));var GT=function(){function r(e,t){t===void 0&&(t=r.defaultOptions);var n=this;this.machine=e,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=wt.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(u,h){if(Ta(u))return n.batch(u),n.state;var p=qt(Jd(u,h));if(n.status===wt.Stopped)return n.state;if(n.status!==wt.Running&&!n.options.deferEvents)throw new Error('Event "'.concat(p.name,'" was sent to uninitialized service "').concat(n.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(p.data)));return n.scheduler.schedule(function(){n.forward(p);var f=n._nextState(p);n.update(f,p)}),n._state},this.sendTo=function(u,h,p){var f=n.parent&&(h===ma.Parent||n.parent.id===h),g=f?n.parent:Ue(h)?h===ma.Internal?n:n.children.get(h)||La.get(h):bT(h)?h:void 0;if(!g){if(!f)throw new Error("Unable to send event to child '".concat(h,"' from service '").concat(n.id,"'."));return}if("machine"in g){if(n.status!==wt.Stopped||n.parent!==g||n.state.done){var m=ie(ie({},u),{name:u.name===cT?"".concat(Ga(n.id)):u.name,origin:n.sessionId});!p&&n.machine.config.predictableActionArguments?n._outgoingQueue.push([g,m]):g.send(m)}}else!p&&n.machine.config.predictableActionArguments?n._outgoingQueue.push([g,u.data]):g.send(u.data)},this._exec=function(u,h,p,f){f===void 0&&(f=n.machine.options.actions);var g=u.exec||Xh(u.type,f),m=Fe(g)?g:g?g.exec:u.exec;if(m)try{return m(h,p.data,n.machine.config.predictableActionArguments?{action:u,_event:p}:{action:u,state:n.state,_event:p})}catch(M){throw n.parent&&n.parent.send({type:"xstate.error",data:M}),M}switch(u.type){case Ks:{var v=u;n.defer(v);break}case Xd:var _=u;if(typeof _.delay=="number"){n.defer(_);return}else _.to?n.sendTo(_._event,_.to,p===ea):n.send(_._event);break;case J2:n.cancel(u.sendId);break;case qh:{if(n.status!==wt.Running)return;var y=u.activity;if(!n.machine.config.predictableActionArguments&&!n.state.activities[y.id||y.type])break;if(y.type===Ze.Invoke){var w=l_(y.src),b=n.machine.options.services?n.machine.options.services[w.type]:void 0,C=y.id,N=y.data,S="autoForward"in y?y.autoForward:!!y.forward;if(!b)return;var k=N?Zl(N,h,p):void 0;if(typeof b=="string")return;var T=Fe(b)?b(h,p.data,{data:k,src:w,meta:y.meta}):b;if(!T)return;var A=void 0;ga(T)&&(T=k?T.withContext(k):T,A={autoForward:S}),n.spawn(T,C,A)}else n.spawnActivity(y);break}case Bf:{n.stopChild(u.activity.id);break}case t_:var E=u,I=E.label,R=E.value;I?n.logger(I,R):n.logger(R);break}};var i=ie(ie({},r.defaultOptions),t),a=i.clock,s=i.logger,c=i.parent,l=i.id,d=l!==void 0?l:e.id;this.id=d,this.logger=s,this.clock=a,this.parent=c,this.options=i,this.scheduler=new N1({deferEvents:this.options.deferEvents}),this.sessionId=La.bookId()}return Object.defineProperty(r.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:Wo(this,function(){return e._initialState=e.machine.initialState,e._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),r.prototype.execute=function(e,t){var n,i;try{for(var a=Te(e.actions),s=a.next();!s.done;s=a.next()){var c=s.value;this.exec(c,e,t)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},r.prototype.update=function(e,t){var n,i,a,s,c,l,d,u,h=this;if(e._sessionid=this.sessionId,this._state=e,(!this.machine.config.predictableActionArguments||t===ea)&&this.options.execute)this.execute(this.state);else for(var p=void 0;p=this._outgoingQueue.shift();)p[0].send(p[1]);if(this.children.forEach(function(T){h.state.children[T.id]=T}),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var f=Te(this.eventListeners),g=f.next();!g.done;g=f.next()){var m=g.value;m(e.event)}}catch(T){n={error:T}}finally{try{g&&!g.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}try{for(var v=Te(this.listeners),_=v.next();!_.done;_=v.next()){var m=_.value;m(e,e.event)}}catch(T){a={error:T}}finally{try{_&&!_.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}try{for(var y=Te(this.contextListeners),w=y.next();!w.done;w=y.next()){var b=w.value;b(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(T){c={error:T}}finally{try{w&&!w.done&&(l=y.return)&&l.call(y)}finally{if(c)throw c.error}}if(this.state.done){var C=e.configuration.find(function(T){return T.type==="final"&&T.parent===h.machine}),N=C&&C.doneData?Zl(C.doneData,e.context,t):void 0;this._doneEvent=dl(this.id,N);try{for(var S=Te(this.doneListeners),k=S.next();!k.done;k=S.next()){var m=k.value;m(this._doneEvent)}}catch(T){d={error:T}}finally{try{k&&!k.done&&(u=S.return)&&u.call(S)}finally{if(d)throw d.error}}this._stop(),this._stopChildren(),La.free(this.sessionId)}},r.prototype.onTransition=function(e){return this.listeners.add(e),this.status===wt.Running&&e(this.state,this.state.event),this},r.prototype.subscribe=function(e,t,n){var i=this,a=ll(e,t,n);this.listeners.add(a.next),this.status!==wt.NotStarted&&a.next(this.state);var s=function(){i.doneListeners.delete(s),i.stopListeners.delete(s),a.complete()};return this.status===wt.Stopped?a.complete():(this.onDone(s),this.onStop(s)),{unsubscribe:function(){i.listeners.delete(a.next),i.doneListeners.delete(s),i.stopListeners.delete(s)}}},r.prototype.onEvent=function(e){return this.eventListeners.add(e),this},r.prototype.onSend=function(e){return this.sendListeners.add(e),this},r.prototype.onChange=function(e){return this.contextListeners.add(e),this},r.prototype.onStop=function(e){return this.stopListeners.add(e),this},r.prototype.onDone=function(e){return this.status===wt.Stopped&&this._doneEvent?e(this._doneEvent):this.doneListeners.add(e),this},r.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},r.prototype.start=function(e){var t=this;if(this.status===wt.Running)return this;this.machine._init(),La.register(this.sessionId,this),this.initialized=!0,this.status=wt.Running;var n=e===void 0?this.initialState:Wo(this,function(){return BT(e)?t.machine.resolveState(e):t.machine.resolveState(Ln.from(e,t.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){t.update(n,ea)}),this},r.prototype._stopChildren=function(){this.children.forEach(function(e){Fe(e.stop)&&e.stop()}),this.children.clear()},r.prototype._stop=function(){var e,t,n,i,a,s,c,l,d,u;try{for(var h=Te(this.listeners),p=h.next();!p.done;p=h.next()){var f=p.value;this.listeners.delete(f)}}catch(S){e={error:S}}finally{try{p&&!p.done&&(t=h.return)&&t.call(h)}finally{if(e)throw e.error}}try{for(var g=Te(this.stopListeners),m=g.next();!m.done;m=g.next()){var f=m.value;f(),this.stopListeners.delete(f)}}catch(S){n={error:S}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}try{for(var v=Te(this.contextListeners),_=v.next();!_.done;_=v.next()){var f=_.value;this.contextListeners.delete(f)}}catch(S){a={error:S}}finally{try{_&&!_.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}try{for(var y=Te(this.doneListeners),w=y.next();!w.done;w=y.next()){var f=w.value;this.doneListeners.delete(f)}}catch(S){c={error:S}}finally{try{w&&!w.done&&(l=y.return)&&l.call(y)}finally{if(c)throw c.error}}if(!this.initialized)return this;this.initialized=!1,this.status=wt.Stopped,this._initialState=void 0;try{for(var b=Te(Object.keys(this.delayedEventsMap)),C=b.next();!C.done;C=b.next()){var N=C.value;this.clock.clearTimeout(this.delayedEventsMap[N])}}catch(S){d={error:S}}finally{try{C&&!C.done&&(u=b.return)&&u.call(b)}finally{if(d)throw d.error}}this.scheduler.clear(),this.scheduler=new N1({deferEvents:this.options.deferEvents})},r.prototype.stop=function(){var e=this,t=this.scheduler;return this._stop(),t.schedule(function(){var n;if(!(!((n=e._state)===null||n===void 0)&&n.done)){var i=qt({type:"xstate.stop"}),a=Wo(e,function(){var s=ft(rt([],Oe(e.state.configuration),!1).sort(function(h,p){return p.order-h.order}).map(function(h){return gi(h.onExit,e.machine.options.actions)})),c=Oe(Xl(e.machine,e.state,e.state.context,i,[{type:"exit",actions:s}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),l=c[0],d=c[1],u=new Ln({value:e.state.value,context:d,_event:i,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:l.filter(function(h){return!Zh(h)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return u.changed=!0,u});e.update(a,i),e._stopChildren(),La.free(e.sessionId)}}),this},r.prototype.batch=function(e){var t=this;if(!(this.status===wt.NotStarted&&this.options.deferEvents)){if(this.status!==wt.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'))}if(e.length){var n=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var i,a,s=t.state,c=!1,l=[],d=function(f){var g=qt(f);t.forward(g),s=Wo(t,function(){return t.machine.transition(s,g,void 0,n||void 0)}),l.push.apply(l,rt([],Oe(t.machine.config.predictableActionArguments?s.actions:s.actions.map(function(m){return VT(m,s)})),!1)),c=c||!!s.changed};try{for(var u=Te(e),h=u.next();!h.done;h=u.next()){var p=h.value;d(p)}}catch(f){i={error:f}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}s.changed=c,s.actions=l,t.update(s,qt(e[e.length-1]))})}},r.prototype.sender=function(e){return this.send.bind(this,e)},r.prototype._nextState=function(e,t){var n=this;t===void 0&&(t=!!this.machine.config.predictableActionArguments&&this._exec);var i=qt(e);if(i.name.indexOf(y1)===0&&!this.state.nextEvents.some(function(s){return s.indexOf(y1)===0}))throw i.data.data;var a=Wo(this,function(){return n.machine.transition(n.state,i,void 0,t||void 0)});return a},r.prototype.nextState=function(e){return this._nextState(e,!1)},r.prototype.forward=function(e){var t,n;try{for(var i=Te(this.forwardTo),a=i.next();!a.done;a=i.next()){var s=a.value,c=this.children.get(s);if(!c)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(s,"'."));c.send(e)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},r.prototype.defer=function(e){var t=this,n=this.clock.setTimeout(function(){"to"in e&&e.to?t.sendTo(e._event,e.to,!0):t.send(e._event)},e.delay);e.id&&(this.delayedEventsMap[e.id]=n)},r.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},r.prototype.exec=function(e,t,n){n===void 0&&(n=this.machine.options.actions),this._exec(e,t.context,t._event,n)},r.prototype.removeChild=function(e){var t;this.children.delete(e),this.forwardTo.delete(e),(t=this.state)===null||t===void 0||delete t.children[e]},r.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),Fe(t.stop)&&t.stop())},r.prototype.spawn=function(e,t,n){if(this.status!==wt.Running)return u_(e,t);if(w1(e))return this.spawnPromise(Promise.resolve(e),t);if(Fe(e))return this.spawnCallback(e,t);if(LT(e))return this.spawnActor(e,t);if(CT(e))return this.spawnObservable(e,t);if(ga(e))return this.spawnMachine(e,ie(ie({},n),{id:t}));if(gT(e))return this.spawnBehavior(e,t);throw new Error('Unable to spawn entity "'.concat(t,'" of type "').concat(typeof e,'".'))},r.prototype.spawnMachine=function(e,t){var n=this;t===void 0&&(t={});var i=new r(e,ie(ie({},this.options),{parent:this,id:t.id||e.id})),a=ie(ie({},KT),t);a.sync&&i.onTransition(function(c){n.send(n_,{state:c,id:i.id})});var s=i;return this.children.set(i.id,s),a.autoForward&&this.forwardTo.add(i.id),i.onDone(function(c){n.removeChild(i.id),n.send(qt(c,{origin:i.id}))}).start(),s},r.prototype.spawnBehavior=function(e,t){var n=qT(e,{id:t,parent:this});return this.children.set(t,n),n},r.prototype.spawnPromise=function(e,t){var n,i=this,a=!1,s;e.then(function(l){a||(s=l,i.removeChild(t),i.send(qt(dl(t,l),{origin:t})))},function(l){if(!a){i.removeChild(t);var d=Ga(t,l);try{i.send(qt(d,{origin:t}))}catch{i.devTools&&i.devTools.send(d,i.state),i.machine.strict&&i.stop()}}});var c=(n={id:t,send:function(){},subscribe:function(l,d,u){var h=ll(l,d,u),p=!1;return e.then(function(f){p||(h.next(f),!p&&h.complete())},function(f){p||h.error(f)}),{unsubscribe:function(){return p=!0}}},stop:function(){a=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return s}},n[mi]=function(){return this},n);return this.children.set(t,c),c},r.prototype.spawnCallback=function(e,t){var n,i=this,a=!1,s=new Set,c=new Set,l,d=function(p){l=p,c.forEach(function(f){return f(p)}),!a&&i.send(qt(p,{origin:t}))},u;try{u=e(d,function(p){s.add(p)})}catch(p){this.send(Ga(t,p))}if(w1(u))return this.spawnPromise(u,t);var h=(n={id:t,send:function(p){return s.forEach(function(f){return f(p)})},subscribe:function(p){var f=ll(p);return c.add(f.next),{unsubscribe:function(){c.delete(f.next)}}},stop:function(){a=!0,Fe(u)&&u()},toJSON:function(){return{id:t}},getSnapshot:function(){return l}},n[mi]=function(){return this},n);return this.children.set(t,h),h},r.prototype.spawnObservable=function(e,t){var n,i=this,a,s=e.subscribe(function(l){a=l,i.send(qt(l,{origin:t}))},function(l){i.removeChild(t),i.send(qt(Ga(t,l),{origin:t}))},function(){i.removeChild(t),i.send(qt(dl(t),{origin:t}))}),c=(n={id:t,send:function(){},subscribe:function(l,d,u){return e.subscribe(l,d,u)},stop:function(){return s.unsubscribe()},getSnapshot:function(){return a},toJSON:function(){return{id:t}}},n[mi]=function(){return this},n);return this.children.set(t,c),c},r.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},r.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(t){var n=t(this.state.context,e);this.spawnEffect(e.id,n)}},r.prototype.spawnEffect=function(e,t){var n;this.children.set(e,(n={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}},n[mi]=function(){return this},n))},r.prototype.attachDev=function(){var e=Wf();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var t=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(ie(ie({name:this.id,autoPause:!0,stateSanitizer:function(n){return{value:n.value,context:n.context,actions:n.actions}}},t),{features:ie({jump:!1,skip:!1},t?t.features:void 0)}),this.machine),this.devTools.init(this.state)}jT(this)}},r.prototype.toJSON=function(){return{id:this.id}},r.prototype[mi]=function(){return this},r.prototype.getSnapshot=function(){return this.status===wt.NotStarted?this.initialState:this._state},r.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},r.interpret=g_,r}();function g_(r,e){var t=new GT(r,e);return t}function QT(r){if(typeof r=="string"){var e={type:r};return e.toString=function(){return r},e}return r}function Ac(r){return ie(ie({type:Kh},r),{toJSON:function(){r.onDone,r.onError;var e=$f(r,["onDone","onError"]);return ie(ie({},e),{type:Kh,src:QT(r.src)})}})}var Nc="",ep="#",Du="*",Lo={},Fo=function(r){return r[0]===ep},ZT=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},XT=function(){function r(e,t,n,i){n===void 0&&(n="context"in e?e.context:void 0);var a=this,s;this.config=e,this._context=n,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(ZT(),t),this.parent=i==null?void 0:i.parent,this.key=this.config.key||(i==null?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:r_),this.id=this.config.id||rt([this.machine.key],Oe(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(s=this.config.schema)!==null&&s!==void 0?s:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?Ka(this.config.states,function(d,u){var h,p=new r(d,{},void 0,{parent:a,key:u});return Object.assign(a.idMap,ie((h={},h[p.id]=p,h),p.idMap)),p}):Lo;var c=0;function l(d){var u,h;d.order=c++;try{for(var p=Te(h_(d)),f=p.next();!f.done;f=p.next()){var g=f.value;l(g)}}catch(m){u={error:m}}finally{try{f&&!f.done&&(h=p.return)&&h.call(p)}finally{if(u)throw u.error}}}l(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(d){var u=d.event;return u===Nc}):Nc in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=Wn(this.config.entry||this.config.onEntry).map(function(d){return Ns(d)}),this.onExit=Wn(this.config.exit||this.config.onExit).map(function(d){return Ns(d)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=Wn(this.config.invoke).map(function(d,u){var h,p;if(ga(d)){var f=wc(a.id,u);return a.machine.options.services=ie((h={},h[f]=d,h),a.machine.options.services),Ac({src:f,id:f})}else if(Ue(d.src)){var f=d.id||wc(a.id,u);return Ac(ie(ie({},d),{id:f,src:d.src}))}else if(ga(d.src)||Fe(d.src)){var f=d.id||wc(a.id,u);return a.machine.options.services=ie((p={},p[f]=d.src,p),a.machine.options.services),Ac(ie(ie({id:f},d),{src:f}))}else{var g=d.src;return Ac(ie(ie({id:wc(a.id,u)},d),{src:g}))}}),this.activities=Wn(this.config.activities).concat(this.invoke).map(function(d){return Yf(d)}),this.transition=this.transition.bind(this),this.tags=Wn(this.config.tags)}return r.prototype._init=function(){this.__cache.transitions||p_(this).forEach(function(e){return e.on})},r.prototype.withConfig=function(e,t){var n=this.options,i=n.actions,a=n.activities,s=n.guards,c=n.services,l=n.delays;return new r(this.config,{actions:ie(ie({},i),e.actions),activities:ie(ie({},a),e.activities),guards:ie(ie({},s),e.guards),services:ie(ie({},c),e.services),delays:ie(ie({},l),e.delays)},t??this.context)},r.prototype.withContext=function(e){return new r(this.config,this.options,e)},Object.defineProperty(r.prototype,"context",{get:function(){return Fe(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:Ka(this.states,function(e){return e.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){return this.definition},Object.defineProperty(r.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce(function(t,n){return t[n.eventType]=t[n.eventType]||[],t[n.eventType].push(n),t},{})},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),r.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=e===Nc,n=this.transitions.filter(function(i){var a=i.eventType===e;return t?a:a||i.eventType===Du});return this.__cache.candidates[e]=n,n},r.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var n=function(a,s){var c=Fe(a)?"".concat(e.id,":delay[").concat(s,"]"):a,l=DT(c,e.id);return e.onEntry.push(NT(l,{delay:a})),e.onExit.push(kT(l)),l},i=Ta(t)?t.map(function(a,s){var c=n(a.delay,s);return ie(ie({},a),{event:c})}):ft(Object.keys(t).map(function(a,s){var c=t[a],l=Ue(c)?{target:c}:c,d=isNaN(+a)?a:+a,u=n(d,s);return Wn(l).map(function(h){return ie(ie({},h),{event:u,delay:d})})}));return i.map(function(a){var s=a.delay;return ie(ie({},e.formatTransition(a)),{delay:s})})},r.prototype.getStateNodes=function(e){var t,n=this;if(!e)return[];var i=e instanceof Ln?e.value:hs(e,this.delimiter);if(Ue(i)){var a=this.getStateNode(i).initial;return a!==void 0?this.getStateNodes((t={},t[i]=a,t)):[this,this.states[i]]}var s=Object.keys(i),c=[this];return c.push.apply(c,rt([],Oe(ft(s.map(function(l){return n.getStateNode(l).getStateNodes(i[l])}))),!1)),c},r.prototype.handles=function(e){var t=i_(e);return this.events.includes(t)},r.prototype.resolveState=function(e){var t=e instanceof Ln?e:Ln.create(e),n=Array.from(Qa([],this.getStateNodes(t.value)));return new Ln(ie(ie({},t),{value:this.resolve(t.value),configuration:n,done:ul(n,this),tags:A1(n),machine:this.machine}))},r.prototype.transitionLeafNode=function(e,t,n){var i=this.getStateNode(e),a=i.next(t,n);return!a||!a.transitions.length?this.next(t,n):a},r.prototype.transitionCompoundNode=function(e,t,n){var i=Object.keys(e),a=this.getStateNode(i[0]),s=a._transition(e[i[0]],t,n);return!s||!s.transitions.length?this.next(t,n):s},r.prototype.transitionParallelNode=function(e,t,n){var i,a,s={};try{for(var c=Te(Object.keys(e)),l=c.next();!l.done;l=c.next()){var d=l.value,u=e[d];if(u){var h=this.getStateNode(d),p=h._transition(u,t,n);p&&(s[d]=p)}}}catch(_){i={error:_}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}var f=Object.keys(s).map(function(_){return s[_]}),g=ft(f.map(function(_){return _.transitions})),m=f.some(function(_){return _.transitions.length>0});if(!m)return this.next(t,n);var v=ft(Object.keys(s).map(function(_){return s[_].configuration}));return{transitions:g,exitSet:ft(f.map(function(_){return _.exitSet})),configuration:v,source:t,actions:ft(Object.keys(s).map(function(_){return s[_].actions}))}},r.prototype._transition=function(e,t,n){return Ue(e)?this.transitionLeafNode(e,t,n):Object.keys(e).length===1?this.transitionCompoundNode(e,t,n):this.transitionParallelNode(e,t,n)},r.prototype.getTransitionData=function(e,t){return this._transition(e.value,e,qt(t))},r.prototype.next=function(e,t){var n,i,a=this,s=t.name,c=[],l=[],d;try{for(var u=Te(this.getCandidates(s)),h=u.next();!h.done;h=u.next()){var p=h.value,f=p.cond,g=p.in,m=e.context,v=g?Ue(g)&&Fo(g)?e.matches(hs(this.getStateNodeById(g).path,this.delimiter)):Vf(hs(g,this.delimiter),pT(this.path.slice(0,-2))(e.value)):!0,_=!1;try{_=!f||c_(this.machine,f,m,t,e)}catch(b){throw new Error("Unable to evaluate guard '".concat(f.name||f.type,"' in transition for event '").concat(s,"' in state node '").concat(this.id,`':
`).concat(b.message))}if(_&&v){p.target!==void 0&&(l=p.target),c.push.apply(c,rt([],Oe(p.actions),!1)),d=p;break}}}catch(b){n={error:b}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}if(d){if(!l.length)return{transitions:[d],exitSet:[],configuration:e.value?[this]:[],source:e,actions:c};var y=ft(l.map(function(b){return a.getRelativeStateNodes(b,e.historyValue)})),w=!!d.internal;return{transitions:[d],exitSet:w?[]:ft(l.map(function(b){return a.getPotentiallyReenteringNodes(b)})),configuration:y,source:e,actions:c}}},r.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var t=[],n=this,i=e;n&&n!==i;)t.push(n),n=n.parent;return n!==i?[]:(t.push(i),t)},r.prototype.getActions=function(e,t,n,i,a,s,c){var l,d,u,h,p=this,f=s?Qa([],this.getStateNodes(s.value)):[],g=new Set;try{for(var m=Te(Array.from(e).sort(function(E,I){return E.order-I.order})),v=m.next();!v.done;v=m.next()){var _=v.value;(!Za(f,_)||Za(n.exitSet,_)||_.parent&&g.has(_.parent))&&g.add(_)}}catch(E){l={error:E}}finally{try{v&&!v.done&&(d=m.return)&&d.call(m)}finally{if(l)throw l.error}}try{for(var y=Te(f),w=y.next();!w.done;w=y.next()){var _=w.value;(!Za(e,_)||Za(n.exitSet,_.parent))&&n.exitSet.push(_)}}catch(E){u={error:E}}finally{try{w&&!w.done&&(h=y.return)&&h.call(y)}finally{if(u)throw u.error}}n.exitSet.sort(function(E,I){return I.order-E.order});var b=Array.from(g).sort(function(E,I){return E.order-I.order}),C=new Set(n.exitSet),N=ft(b.map(function(E){var I=[];if(E.type!=="final")return I;var R=E.parent;if(!R.parent)return I;I.push(Sc(E.id,E.doneData),Sc(R.id,E.doneData?Zl(E.doneData,i,a):void 0));var M=R.parent;return M.type==="parallel"&&Es(M).every(function(F){return ul(n.configuration,F)})&&I.push(Sc(M.id)),I})),S=b.map(function(E){var I=E.onEntry,R=E.activities.map(function(M){return IT(M)});return{type:"entry",actions:gi(c?rt(rt([],Oe(I),!1),Oe(R),!1):rt(rt([],Oe(R),!1),Oe(I),!1),p.machine.options.actions)}}).concat({type:"state_done",actions:N.map(function(E){return ST(E)})}),k=Array.from(C).map(function(E){return{type:"exit",actions:gi(rt(rt([],Oe(E.onExit),!1),Oe(E.activities.map(function(I){return xT(I)})),!1),p.machine.options.actions)}}),T=k.concat({type:"transition",actions:gi(n.actions,this.machine.options.actions)}).concat(S);if(t){var A=gi(ft(rt([],Oe(e),!1).sort(function(E,I){return I.order-E.order}).map(function(E){return E.onExit})),this.machine.options.actions).filter(function(E){return!Zh(E)});return T.concat({type:"stop",actions:A})}return T},r.prototype.transition=function(e,t,n,i){e===void 0&&(e=this.initialState);var a=qt(t),s;if(e instanceof Ln)s=n===void 0?e:this.resolveState(Ln.from(e,n));else{var c=Ue(e)?this.resolve(Ql(this.getResolvedPath(e))):this.resolve(e),l=n??this.machine.context;s=this.resolveState(Ln.from(c,l))}if(this.strict&&!this.events.includes(a.name)&&!mT(a.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(a.name,"'"));var d=this._transition(s.value,s,a)||{transitions:[],configuration:[],exitSet:[],source:s,actions:[]},u=Qa([],this.getStateNodes(s.value)),h=d.configuration.length?Qa(u,d.configuration):u;return d.configuration=rt([],Oe(h),!1),this.resolveTransition(d,s,s.context,i,a)},r.prototype.resolveRaisedTransition=function(e,t,n,i){var a,s=e.actions;return e=this.transition(e,t,void 0,i),e._event=n,e.event=n.data,(a=e.actions).unshift.apply(a,rt([],Oe(s),!1)),e},r.prototype.resolveTransition=function(e,t,n,i,a){var s,c,l,d,u=this;a===void 0&&(a=ea);var h=e.configuration,p=!t||e.transitions.length>0,f=p?e.configuration:t?t.configuration:[],g=ul(f,this),m=p?HT(this.machine,h):void 0,v=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,_=this.getActions(new Set(f),g,e,n,a,t,i),y=t?ie({},t.activities):{};try{for(var w=Te(_),b=w.next();!b.done;b=w.next()){var C=b.value;try{for(var N=(l=void 0,Te(C.actions)),S=N.next();!S.done;S=N.next()){var k=S.value;k.type===qh?y[k.activity.id||k.activity.type]=k:k.type===Bf&&(y[k.activity.id||k.activity.type]=!1)}}catch(ge){l={error:ge}}finally{try{S&&!S.done&&(d=N.return)&&d.call(N)}finally{if(l)throw l.error}}}}catch(ge){s={error:ge}}finally{try{b&&!b.done&&(c=w.return)&&c.call(w)}finally{if(s)throw s.error}}var T=Oe(Xl(this,t,n,a,_,i,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),A=T[0],E=T[1],I=Oe(vT(A,Zh),2),R=I[0],M=I[1],F=A.filter(function(ge){var xe;return ge.type===qh&&((xe=ge.activity)===null||xe===void 0?void 0:xe.type)===Kh}),L=F.reduce(function(ge,xe){return ge[xe.activity.id]=RT(xe.activity,u.machine,E,a),ge},t?ie({},t.children):{}),B=new Ln({value:m||t.value,context:E,_event:a,_sessionid:t?t._sessionid:null,historyValue:m?v?_T(v,m):void 0:t?t.historyValue:void 0,history:!m||e.source?t:void 0,actions:m?M:[],activities:m?y:t?t.activities:{},events:[],configuration:f,transitions:e.transitions,children:L,done:g,tags:A1(f),machine:this}),H=n!==E;B.changed=a.name===n_||H;var j=B.history;j&&delete j.history;var te=!g&&(this._transient||h.some(function(ge){return ge._transient}));if(!p&&(!te||a.name===Nc))return B;var de=B;if(!g)for(te&&(de=this.resolveRaisedTransition(de,{type:aT},a,i));R.length;){var Q=R.shift();de=this.resolveRaisedTransition(de,Q._event,a,i)}var _e=de.changed||(j?!!de.actions.length||H||typeof j.value!=typeof de.value||!m_(de.value,j.value):void 0);return de.changed=_e,de.history=j,de},r.prototype.getStateNode=function(e){if(Fo(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var t=this.states[e];if(!t)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return t},r.prototype.getStateNodeById=function(e){var t=Fo(e)?e.slice(ep.length):e;if(t===this.id)return this;var n=this.machine.idMap[t];if(!n)throw new Error("Child state node '#".concat(t,"' does not exist on machine '").concat(this.id,"'"));return n},r.prototype.getStateNodeByPath=function(e){if(typeof e=="string"&&Fo(e))try{return this.getStateNodeById(e.slice(1))}catch{}for(var t=Qh(e,this.delimiter).slice(),n=this;t.length;){var i=t.shift();if(!i.length)break;n=n.getStateNode(i)}return n},r.prototype.resolve=function(e){var t,n=this;if(!e)return this.initialStateValue||Lo;switch(this.type){case"parallel":return Ka(this.initialStateValue,function(a,s){return a?n.getStateNode(s).resolve(e[s]||a):Lo});case"compound":if(Ue(e)){var i=this.getStateNode(e);return i.type==="parallel"||i.type==="compound"?(t={},t[e]=i.initialStateValue,t):e}return Object.keys(e).length?Ka(e,function(a,s){return a?n.getStateNode(s).resolve(a):Lo}):this.initialStateValue||{};default:return e||Lo}},r.prototype.getResolvedPath=function(e){if(Fo(e)){var t=this.machine.idMap[e.slice(ep.length)];if(!t)throw new Error("Unable to find state node '".concat(e,"'"));return t.path}return Qh(e,this.delimiter)},Object.defineProperty(r.prototype,"initialStateValue",{get:function(){var e;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var t;if(this.type==="parallel")t=b1(this.states,function(n){return n.initialStateValue||Lo},function(n){return n.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));t=Jl(this.states[this.initial])?this.initial:(e={},e[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),r.prototype.getInitialState=function(e,t){this._init();var n=this.getStateNodes(e);return this.resolveTransition({configuration:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,t??this.machine.context,void 0)},Object.defineProperty(r.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"target",{get:function(){var e;if(this.type==="history"){var t=this.config;Ue(t.target)?e=Fo(t.target)?Ql(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target:e=t.target}return e},enumerable:!1,configurable:!0}),r.prototype.getRelativeStateNodes=function(e,t,n){return n===void 0&&(n=!0),n?e.type==="history"?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(r.prototype,"initialStateNodes",{get:function(){var e=this;if(Jl(this))return[this];if(this.type==="compound"&&!this.initial)return[this];var t=cl(this.initialStateValue);return ft(t.map(function(n){return e.getFromRelativePath(n)}))},enumerable:!1,configurable:!0}),r.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=Oe(e),n=t[0],i=t.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var a=this.getStateNode(n);if(a.type==="history")return a.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(i)},r.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:b1(this.states,function(t,n){if(!e)return t.historyValue();var i=Ue(e)?void 0:e[n];return t.historyValue(i||t.initialStateValue)},function(t){return!t.history})}},r.prototype.resolveHistory=function(e){var t=this;if(this.type!=="history")return[this];var n=this.parent;if(!e){var i=this.target;return i?ft(cl(i).map(function(s){return n.getFromRelativePath(s)})):n.initialStateNodes}var a=fT(n.path,"states")(e).current;return Ue(a)?[n.getStateNode(a)]:ft(cl(a).map(function(s){return t.history==="deep"?n.getFromRelativePath(s):[n.states[s[0]]]}))},Object.defineProperty(r.prototype,"stateIds",{get:function(){var e=this,t=ft(Object.keys(this.states).map(function(n){return e.states[n].stateIds}));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"events",{get:function(){var e,t,n,i;if(this.__cache.events)return this.__cache.events;var a=this.states,s=new Set(this.ownEvents);if(a)try{for(var c=Te(Object.keys(a)),l=c.next();!l.done;l=c.next()){var d=l.value,u=a[d];if(u.states)try{for(var h=(n=void 0,Te(u.events)),p=h.next();!p.done;p=h.next()){var f=p.value;s.add("".concat(f))}}catch(g){n={error:g}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}}}catch(g){e={error:g}}finally{try{l&&!l.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(s)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter(function(t){return!(!t.target&&!t.actions.length&&t.internal)}).map(function(t){return t.eventType}));return Array.from(e)},enumerable:!1,configurable:!0}),r.prototype.resolveTarget=function(e){var t=this;if(e!==void 0)return e.map(function(n){if(!Ue(n))return n;var i=n[0]===t.delimiter;if(i&&!t.parent)return t.getStateNodeByPath(n.slice(1));var a=i?t.key+n:n;if(t.parent)try{var s=t.parent.getStateNodeByPath(a);return s}catch(c){throw new Error("Invalid transition definition for state node '".concat(t.id,`':
`).concat(c.message))}else return t.getStateNodeByPath(a)})},r.prototype.formatTransition=function(e){var t=this,n=wT(e.target),i="internal"in e?e.internal:n?n.some(function(l){return Ue(l)&&l[0]===t.delimiter}):!0,a=this.machine.options.guards,s=this.resolveTarget(n),c=ie(ie({},e),{actions:gi(Wn(e.actions)),cond:s_(e.cond,a),target:s,source:this,internal:i,eventType:e.event,toJSON:function(){return ie(ie({},c),{target:c.target?c.target.map(function(l){return"#".concat(l.id)}):void 0,source:"#".concat(t.id)})}});return c},r.prototype.formatTransitions=function(){var e,t,n=this,i;if(!this.config.on)i=[];else if(Array.isArray(this.config.on))i=this.config.on;else{var a=this.config.on,s=Du,c=a[s],l=c===void 0?[]:c,d=$f(a,[typeof s=="symbol"?s:s+""]);i=ft(Object.keys(d).map(function(y){var w=Mo(y,d[y]);return w}).concat(Mo(Du,l)))}var u=this.config.always?Mo("",this.config.always):[],h=this.config.onDone?Mo(String(Sc(this.id)),this.config.onDone):[],p=ft(this.invoke.map(function(y){var w=[];return y.onDone&&w.push.apply(w,rt([],Oe(Mo(String(dl(y.id)),y.onDone)),!1)),y.onError&&w.push.apply(w,rt([],Oe(Mo(String(Ga(y.id)),y.onError)),!1)),w})),f=this.after,g=ft(rt(rt(rt(rt([],Oe(h),!1),Oe(p),!1),Oe(i),!1),Oe(u),!1).map(function(y){return Wn(y).map(function(w){return n.formatTransition(w)})}));try{for(var m=Te(f),v=m.next();!v.done;v=m.next()){var _=v.value;g.push(_)}}catch(y){e={error:y}}finally{try{v&&!v.done&&(t=m.return)&&t.call(m)}finally{if(e)throw e.error}}return g},r}();function Ri(r,e){return new XT(r,e)}var JT=xi;function E1(r){var e=Ot();return e.current||(e.current={v:r()}),e.current.v}var ed=function(){return ed=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},ed.apply(this,arguments)},ek=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};function tk(r,e){var t=E1(function(){return typeof r=="function"?r():r}),n=e.context,i=e.guards,a=e.actions,s=e.activities,c=e.services,l=e.delays;e.state;var d=ek(e,["context","guards","actions","activities","services","delays","state"]),u=E1(function(){var h={context:n,guards:i,actions:a,activities:s,services:c,delays:l},p=t.withConfig(h,function(){return ed(ed({},t.context),n)});return g_(p,d)});return JT(function(){Object.assign(u.machine.options.actions,a),Object.assign(u.machine.options.guards,i),Object.assign(u.machine.options.activities,s),Object.assign(u.machine.options.services,c),Object.assign(u.machine.options.delays,l)},[a,i,s,c,l]),u}function nk(r,e,t){if(r.status===wt.NotStarted)return!0;var n=t.changed===void 0&&(Object.keys(t.children).length>0||typeof e.changed=="boolean");return!(t.changed||n)}var rk=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return a};function ik(r){return r}function Mi(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=rk(e,1),i=n[0],a=i===void 0?{}:i,s=tk(r,a),c=nn(function(){return s.status===wt.NotStarted?a.state?Ln.create(a.state):s.machine.initialState:s.getSnapshot()},[s]),l=nn(function(h,p){return nk(s,h,p)},[s]),d=nn(function(h){var p=s.subscribe(h).unsubscribe;return p},[s]),u=oT.useSyncExternalStoreWithSelector(d,c,c,ik,l);return Z(function(){var h=a.state;return s.start(h?Ln.create(h):void 0),function(){s.stop(),s.status=wt.NotStarted}},[]),[u,s.send,s]}const ok=Ri({context:{work_description:{role:"",performer:"",work_description:"",equipment_to_be_worked:"",locationId:0,work_area:"",environmental_issues:"",from_date:"",from_time:"",to_date:"",to_time:""},company_details:{entrusted_company:"",executing_company:"",performing_department:"",company_contact_phone:""},work_hazards:{potentialHazardDescription:"",hazards:{}},selected_documents:{documents:[]},document_uploads:{[`document_${Ge(8)}`]:null,[`document_${Ge(8)}`]:null,[`document_${Ge(8)}`]:null,[`document_${Ge(8)}`]:null},additional_notes:{additional_notes:"",isCorrect:!1,consentGiven:!1},formatted_documents:{}},predictableActionArguments:!0,initial:"permit_type",states:{permit_type:{meta:{title:"Work Type",section:"A"},on:{submit:{target:"work_description",actions:["updateContext"]}}},work_description:{meta:{title:"Permit Details",section:"A"},on:{submit:{target:"company_details",actions:["updateContext"]},go_back:"permit_type"}},company_details:{meta:{title:"Company Details",section:"B"},on:{submit:{target:"work_hazards",actions:["updateContext"]},go_back:"work_description"}},work_hazards:{meta:{title:"Hazard Identification",section:"C"},on:{submit:{target:"selected_documents",actions:["updateContext"]},go_back:"company_details"}},selected_documents:{meta:{title:"Document Uploads",section:"D"},on:{submit:{target:"document_uploads",actions:["updateContext"]},go_back:"work_hazards"}},document_uploads:{meta:{title:"Document Uploads",section:"D"},on:{submit:{target:"additional_notes",actions:["updateContext"]},go_back:"selected_documents"}},additional_notes:{meta:{title:"Permit Summary"},on:{go_back:"document_uploads"}}}},{actions:{updateContext(r,e){return Object.assign(r,e.data)}}}),v_=Ft({});function ak({children:r}){const[e,t,n]=Mi(ok);return Z(()=>{const i=n.subscribe(()=>window.scroll(0,0));return()=>{i.unsubscribe()}},[]),o(v_.Provider,{value:{state:e,send:t},children:r})}function Li(){return Yt(v_)}function sk(){var p;const{draft:r,isDraft:e}=ko(),{profile:t}=vn(),[n,i]=O([]),{state:a,send:s}=Li(),c=ck(e),{getFieldProps:l,handleSubmit:d,setFieldValue:u}=se({validationSchema:c,initialValues:{...a.context.work_description,permit_type:a.context.permit_type},onSubmit:h});Z(()=>{t&&(async()=>{var _,y,w;const g=await K(`/profile/${t==null?void 0:t.id}`,"GET");console.log(g);const m=(w=(y=(_=g[0])==null?void 0:_.data)==null?void 0:y.location)==null?void 0:w.workAreas,v=g?m.map(b=>({text:b,value:b})):[{text:"No work areas found",value:""}];i(v)})()},[]);function h(f){var m,v;const g={role:f.role||(r==null?void 0:r.performerRole),performer:f.performer||(r==null?void 0:r.performingPersonInCharge),work_description:f.work_description||(r==null?void 0:r.workDescription),equipment_to_be_worked:f.equipment_to_be_worked||(r==null?void 0:r.equipmentToolsMaterials),locationId:t==null?void 0:t.locationId,work_area:f.work_area||((v=(m=r==null?void 0:r.location)==null?void 0:m.workAreas)==null?void 0:v[0]),environmental_issues:f.environmental_issues||(r==null?void 0:r.environmentalConsideration),from_date:f.from_date,from_time:f.from_time,to_date:f.to_date,to_time:f.to_time};s("submit",{data:{work_description:g}})}return o("form",{onSubmit:d,className:"app-register__form",children:[o("div",{className:"app-register__form-grid",children:[o(ee,{label:"Role *",placeholder:`${e?r==null?void 0:r.performerRole:"Enter role (e.g., electrician, supervisor)"}`,...l("role")}),o(tt,{label:"Performing Person / Person-In-Charge *",placeholder:`${e?r==null?void 0:r.performingPersonInCharge:"Select performing person / person-in-charge"}`,...l("performer"),options:[{text:"Internal (Oando)",value:"INTERNAL"},{text:"External (Contractor)",value:"EXTERNAL"}]}),o(ln,{label:"Work Description / Details *",placeholder:`${e?r==null?void 0:r.workDescription:"Describe the type of process or work to be performed."}`,...l("work_description")}),o(ln,{label:"Equipment / Tools / Materials *",placeholder:`${e?r==null?void 0:r.equipmentToolsMaterials:"Write here..."}`,...l("equipment_to_be_worked")}),o(tt,{label:"Work Area (Unit / Installation) *",placeholder:`${e?`previous: ${(p=r==null?void 0:r.location)==null?void 0:p.workAreas[0]}`:"--select work area / unit--"}`,...l("work_area"),options:n,onChange:f=>{const g=f.target.value;u("work_area",g),console.log(`Selected Work Area: ${g}`)}}),o(ln,{label:"Environmental Considerations *",placeholder:`${e?r==null?void 0:r.environmentalConsideration:"Identify environmental issues related to the task."}`,...l("environmental_issues")})]}),o("h4",{children:"Permit Valid From / To"}),o("div",{className:"app-register__form-grid",children:[o("div",{className:"app-register__form-grid",children:[o(ee,{label:"From Date *",placeholder:`${e?r==null?void 0:r.fromDate:"dd / mm / yyyy"}`,type:"date",...l("from_date")}),o(ee,{label:"Time *",type:"time",...l("from_time")})]}),o("div",{className:"app-register__form-grid",children:[o(ee,{label:"To Date *",placeholder:"dd / mm / yyyy",type:"date",...l("to_date")}),o(ee,{label:"Time *",type:"time",placeholder:"00:00AM",...l("to_time")})]})]}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>s("go_back"),children:"Back"}),o(x,{variant:"primary",children:"Next"})]})]})}function ck(r){const e=new Date,t=oe().required("This field is required"),n=oe().required("From date is required").test("is-not-in-past","From date and time cannot be in the past",function(a){const{from_time:s}=this.parent;return new Date(`${a}T${s}`)>=e}),i=oe().required("To date is required").test("is-after-from","To date and time must be after the From date and time",function(a){const{from_date:s,from_time:c,to_time:l}=this.parent,d=new Date(`${s}T${c}`);return new Date(`${a}T${l}`)>d});return re(r?{role:oe(),performer:oe(),work_description:oe(),locationId:fo(),work_area:oe(),from_date:n,to_date:i,from_time:t,to_time:t}:{role:oe().required("Role is required"),performer:oe().required("Performer is required"),work_description:oe().required("Work description is required"),locationId:fo().typeError("Location is required").required("Location is required"),work_area:oe().required("Work area is required"),equipment_to_be_worked:oe().required("Equipment is required"),environmental_issues:oe().required("Environmental issue is required"),from_date:n,to_date:i,from_time:t,to_time:t})}function Ae({label:r,...e}){return o("label",{className:"base-radio__wrapper",children:[o("div",{className:"base-radio",children:[o("input",{type:"radio",...e}),o("div",{className:"base-radio__checked-wrapper"}),o("div",{className:"base-radio__checked"})]}),r]})}function lk(){const{send:r,state:e}=Li(),{draft:t,isDraft:n}=ko();console.log("draft details are",t);const i=va.reduce((p,f)=>{var g,m;return p[f.value]=((m=(g=e.context.work_hazards)==null?void 0:g.hazards)==null?void 0:m[f.value])??void 0,p},{}),a=dk(n),{getFieldProps:s,handleSubmit:c,setFieldValue:l,values:d}=se({validationSchema:a,initialValues:{...e.context.work_hazards,hazards:i,permit_type:e.context.permit_type},onSubmit:h});function u(p,f){l("hazards",{...d.hazards,[p]:f})}function h(p){r("submit",{data:{work_hazards:p}})}return o("form",{onSubmit:c,children:[o("div",{className:"app-register__form",children:o("div",{className:"app-register__form-grid",children:o(ln,{label:"Describe the potential hazards *",placeholder:"Write here...",...s("potentialHazardDescription")})})}),o("div",{className:"app-create-permit__group-header",children:"Identification of Hazards"}),o("div",{className:"app-register__form",children:[va.map(p=>{var f,g;return o("div",{className:"app-create-permit__radio-container",children:[o("p",{children:p.text}),o("div",{children:[o(Ae,{checked:((f=d.hazards)==null?void 0:f[p.value])===!0,onChange:()=>u(p.value,!0),label:"YES"}),o(Ae,{checked:((g=d.hazards)==null?void 0:g[p.value])===!1,onChange:()=>u(p.value,!1),label:"NO"})]})]},p.value)}),o(ee,{type:"text",label:"Others",placeholder:"Others",...s("otherHazard")})]}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>r("go_back"),children:"Previous"}),o(x,{variant:"primary",children:"Next"})]})]})}const va=[{text:"NOISE",value:"noise"},{text:"TOXIC SUBSTANCE",value:"toxicSubstance"},{text:"CHEMICAL",value:"chemical"},{text:"EXPLOSIVES",value:"explosives"},{text:"HEIGHT",value:"height"},{text:"OVERHEAD HAZARDS, CRANES, ETC",value:"overheadCranes"},{text:"ILLUMINATING",value:"illuminating"},{text:"SPILL (CONTAINMENT IN PLACE)",value:"spill"},{text:"FALLING OBJECTS",value:"falling"},{text:"RADIATION",value:"radiation"},{text:"TYPE OF WASTE IS KNOWN",value:"knownWaste"}];function dk(r){return re(r?{potentialHazardDescription:oe().required("Describe the potential hazards.")}:{potentialHazardDescription:oe().required("Describe the potential hazards.")})}const oo=["Job Safety Analysis Doc / Risk Safety Analysis Doc","Work Procedure Doc / Method Statement Doc","Explosives Cert","Mechanical Isolation Cert","Gas Clearance Cert","Scaffolding Cert","MEWP Cert","Man Basket Cert","Near Powerlines Cert","Radiography Cert","Excavation Cert","Lift Cert","Hot Tapping Cert","Diving or ROV Cert","Man Riding Cert","Other Cert"];function uk(){const{state:r,send:e}=Li(),{setFieldValue:t,values:n,getFieldProps:i,handleSubmit:a}=se({validationSchema:hk,initialValues:{documents:{[oo[0]]:!0,[oo[1]]:!0,...r.context.selected_documents.documents},document_JobSafetyAnalysisDocRiskSafetyAnalysisDoc:"manual",document_WorkProcedureDocMethodStatementDoc:"manual",permit_type:r.context.permit_type},onSubmit:c}),s=(l,d)=>{const u={...n.documents,[l]:d};if(t("documents",u),!d){const h=`document_${l.replace(/ /g,"_")}`;t(h,"");const p={...n.documents,[l]:d};t("documents",p)}};function c(l){e("submit",{data:{selected_documents:l}})}return o("form",{onSubmit:a,className:"app-register__attachment-form",children:[o("p",{children:"Select the document you want to upload below"}),o("div",{className:"app-register__form-grid app-create-permit__docs",children:oo.map((l,d)=>o("div",{children:[n.documents[l]&&!n[`document_${l.replace(/ /g,"_")}`]&&o("p",{className:"error",style:{color:"red"},children:"Please select an option for the selected document."}),o("br",{}),o("label",{className:"app-register__attachment-form items-center",children:[o(Gt,{checked:!!n.documents[l],disabled:d<2,onChange:()=>d>=2&&s(l,!n.documents[l])}),o("span",{children:l})]}),o(tt,{...i(`document_${l.replace(/ /g,"_")}`),options:[{text:"Manual Upload",value:"manual"}]})]},d))}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>e("go_back"),children:"Back"}),o(x,{variant:"primary",type:"submit",children:"Next"})]})]})}const hk=re().shape({documents:re().test("document-selection-validation","Please select a corresponding dropdown option for all selected documents.",(r,e)=>Object.entries(r||{}).filter(([n,i])=>i).every(([n])=>{const i=e.parent[`document_${n.replace(/ /g,"_")}`];return i!==void 0&&i!==""})),document_JobSafetyAnalysisDocRiskSafetyAnalysisDoc:oe().required("Selection is required for the first document."),document_WorkProcedureDocMethodStatementDoc:oe().required("Selection is required for the second document.")});function pk({permit_type:r,...e}){return K("/permit/","POST",e)}function fk(r){return K("/permit/draft","POST",r)}function zf({id:r}){return K(`/permit/${r}`,"GET")}function mk(r){return K("/permit/approve/issuing-auth","POST",r)}function __(r){return K("/permit/approve/hse-auth","POST",r)}function gk(r){return K("/permit/reject/hse","PUT",r)}function y_(r){return K("/permit/approve/authorizing-auth","POST",r)}function vk(r){return K("/permit/approve/issuing-auth-supervisor","POST",r)}function _k(r){return K("/permit/reject/authorizing","PUT",r)}function yk(r){return K("/permit/approve/performing-auth-supervisor","POST",r)}function Ck(r){return K("/permit/revalidation/approve/performing-auth-supervisor","POST",r)}function bk(r){return K("/permit/approve/safety-officer","POST",r)}function wk(r){return K("/permit/revalidation/approve/safety-officer","POST",r)}function Sk(r){return K("/permit/renewal","POST",r)}function Ak(r){return K("/permit/notes","POST",r)}function C_(r){return K("/permit/suspend","PUT",r)}function Nk(r){return K("/permit/cancel","PUT",r)}function Ek(r){return K(`/permit/completion/${r.id}`,"PUT",{})}function Tk(r){return K(`/permit/renewal/fetch/all?${ff(r)}`,"GET")}function kk(r){return K(`/permit/renewal/${r.id}`,"GET")}function Ik(r){return K("/permit/renewal/approve/safety-officer","PUT",r)}function xk(r){return K("/permit/renewal/reject/safety-officer","PUT",r)}function Pk(r){return K("/permit/renewal/approve/issuring-sup","PUT",r)}function Dk(r){return K("/permit/renewal/reject/issuring-sup","PUT",r)}function Ok(r){return K(`/permit/completion/fetch/all?${ff(r)}`,"GET")}function Rk(r){return K(`/permit/completion/approve/hse-officer/${r.id}`,"PUT",{})}function Mk(r){return K(`/permit/completion/reject/hse-officer/${r.id}`,"PUT",{})}function Lk(r){return K(`/permit/completion/approve/issuring-sup/${r.id}`,"PUT",{})}function Fk(r){return K(`/permit/completion/reject/issuring-sup/${r.id}`,"PUT",{})}function Hk(){return K("/permit/suspend/all","GET")}function Ec(r){return K(`/permit/continuation/all?${ff(r)}`,"GET")}function Uk(r){return K(`/permit/continuation/${r.id}`,"PUT",{})}function $k(r){return K(`/permit/continuation/approve/hse-officer/${r.id}`,"PUT",{})}function Bk(r){return K(`/permit/continuation/approve/issuring-sup/${r.id}`,"PUT",{})}function Vk(r){return K("/permit/send-back","POST",r)}function b_(r){return K(`/permit/closure/request/${r}`,"PUT",{})}function Yk(r){return K(`/permit/revalidation/request/${r}`,"PUT")}function Wk(r){return K("/permit/closure/approve/performing-auth-supervisor","POST",r)}function zk(r){return K("/permit/closure/approve/safety-officer","POST",r)}function jk(r){return K("/permit/closure/approve/issuing-auth-supervisor","POST",r)}function qk(r){return K("/permit/revalidation/approve/issuing-auth-supervisor","POST",r)}function Kk(r){return K("/permit/note","POST",r)}function Gk(){return K("/permit/user/processable","GET")}function ve({children:r,header:e,section:t,type:n}){const i=Aa.map(r,a=>o("div",{className:"",children:[n==="Hazards"&&o(P,{children:[o("div",{className:"section__content",children:[o("p",{className:"title",children:a.title}),o("p",{className:"info",children:a.info})]},a.id),o("div",{className:"section__content",children:[o("p",{className:"title",children:`${a.second_title}`}),o("div",{children:[" ",a.content.map(s=>o("div",{className:"",children:[o("span",{className:"hazard-value",children:`${s.value}`})," - ",o("span",{className:"",children:`${s.hazard}`})]}))]})]},a.id)]}),n==="Primary"&&o("div",{className:"section__content",children:[o("p",{className:"title",children:a.title}),o("p",{className:"info",children:a.info})]},a.id),n==="Secondary"&&o("div",{className:"",children:a.content.map(s=>o(P,{children:[o("div",{className:"section__content__document_section",children:o("p",{className:"section__header",children:`${s.id}. ${s.title}`})}),o("div",{className:"section__content",children:[o("p",{className:"document",children:o("span",{children:"Upload Option"})}),o("p",{children:[" ",s.upload_option]}),o("p",{className:"document",children:o("span",{children:"Document"})}),o("p",{className:"document_item",children:["document.pdf",o("span",{children:o("img",{src:"/svgs/document_download.svg",alt:""})})]})]})]}))},a.id),n==="Permits"&&o("div",{className:"",children:a.content.map(s=>o(P,{children:o("div",{className:"section__content",children:[o("p",{className:"title",children:[" ",s.title]}),o("div",{className:"flex-between",children:[o("p",{children:s.upload_option}),o("p",{className:"document_item",children:["document.pdf",o("span",{children:o("img",{src:"/svgs/document_download.svg",alt:""})})]})]})]})}))},a.id),n==="List"&&o("div",{className:"section__content",children:o("div",{children:[" ",a.content.map(s=>o("div",{className:"list-p",children:[o("span",{children:[`${s.value}`," "," - "]}),o("span",{className:"hazard-value",children:`${s.equipment}`})]}))]})})]}));return o("div",{children:o("div",{className:"section",children:[o("div",{className:"section__header",children:o("p",{children:[o("span",{children:["Section - ",t]}),e]})}),o("div",{children:i})]})})}const Qk=()=>Ri({context:{work_hazards:{hazards:{},potentialHazardDescription:""},personal_protective_equipment:{protectiveEquipment:{}},firefighting_equipment:{firefightingEquipment:{},otherPrecaution:""},selected_documents:{documents:[]},document_uploads:{[`document_${Ge(8)}`]:null,[`document_${Ge(8)}`]:null,[`document_${Ge(8)}`]:null,[`document_${Ge(8)}`]:null},mechanical_precaution:{mechanicalPrecaution:{}},electrical_precaution:{electricalPrecaution:{}},adjust_date_time:{fromDate:"",fromTime:"",toDate:"",toTime:""},submit:{}},predictableActionArguments:!0,initial:"work_hazards",states:{work_hazards:{meta:{title:"Hazard Identification",section:"A"},on:{submit:{target:"personal_protective_equipment",actions:["updateContext"]}}},personal_protective_equipment:{meta:{title:"Personal Protective Equipment",section:"B"},on:{submit:{target:"firefighting_equipment",actions:["updateContext"]},go_back:"work_hazards"}},firefighting_equipment:{meta:{title:"Firefighting Equipment",section:"C"},on:{submit:{target:"selected_documents",actions:["updateContext"]},go_back:"personal_protective_equipment"}},selected_documents:{meta:{title:"Document Selection",section:"D"},on:{submit:{target:"document_uploads",actions:["updateContext"]},go_back:"firefighting_equipment"}},document_uploads:{meta:{title:"Document Uploads",section:"E"},on:{submit:[{target:"mechanical_precaution",actions:["updateContext"]}],go_back:"selected_documents"}},mechanical_precaution:{meta:{title:"Mechanical Isolation (Measures on Equipments / Line)"},on:{submit:{target:"electrical_precaution",actions:["updateContext"]},go_back:"document_uploads"}},electrical_precaution:{meta:{title:"Electrical Isolation (Measures on Equipments / Line)"},on:{submit:[{target:"adjust_date_time",actions:["updateContext"]}],go_back:"mechanical_precaution"}},adjust_date_time:{meta:{title:"Adjust Date & Time"},on:{submit:[{target:"submit",actions:["updateContext"]}],go_back:"electrical_precaution"}},submit:{type:"final",on:{submit:{target:"submit",actions:["updateContext"]},go_back:"adjust_date_time"}}}},{actions:{updateContext(r,e){Object.assign(r,e.data)}}}),w_=Ft({});function Zk({children:r}){const[e,t,n]=Mi(Qk);return Z(()=>{const i=n.subscribe(()=>window.scroll(0,0));return()=>{i.unsubscribe()}},[]),o(w_.Provider,{value:{state:e,send:t},children:r})}function Ir(){return Yt(w_)}function td(r,e){if(!r||!e)throw new Error("Both fromDate and fromTime are required");return new Date(`1970-01-01T${e}:00Z`).toISOString()}function Xk(){const{state:r}=Ir(),{makeRequest:e}=X(y_),[t,n]=O(!1),[i,a]=O(!1),{valueID:s}=$e(),c=s;return Z(()=>{async function l(){var m,v,_,y,w,b,C,N,S,k,T,A,E,I;n(!0);const d=Array.isArray(r.context.formattedDocuments)?r.context.formattedDocuments:Object.entries(r.context.formattedDocuments||{}).map(([R,M])=>({name:R,type:M.type||"MANUAL",doc:M.doc||""})),u=R=>R.replace(/\/.*|\(.*?\)/g,"").replace(/\./g,"").trim().replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,(M,F)=>F===0?M.toLowerCase():M.toUpperCase()).replace(/\s+/g,""),h=d.reduce((R,M)=>{const F=u(M.name);return F==="otherCert"&&(R[`${F}Name`]="..."),R[`${F.replace(/Doc$/i,"")}Type`]=M.type,R[`${F}`]=M.doc,R},{}),p={permitId:c,hazards:{potentialHazardDescription:((m=r.context.work_hazards)==null?void 0:m.potentialHazardDescription)||"",...(v=r.context.work_hazards)==null?void 0:v.hazards},protectiveEquipment:(_=r.context.personal_protective_equipment)==null?void 0:_.protectiveEquipment,firefightingPrecaution:{otherPrecaution:((y=r.context.firefighting_precaution)==null?void 0:y.otherPrecaution)||"",...(w=r.context.firefighting_precaution)==null?void 0:w.firefightingPrecaution},documents:h,mechanicalIsolationPrecaution:(b=r.context.mechanical_precaution)==null?void 0:b.mechanicalPrecaution,electricalIsolationPrecaution:(C=r.context.electrical_precaution)==null?void 0:C.electricalPrecaution,fromDate:(N=r.context.adjust_date_time)==null?void 0:N.fromDate,fromTime:td((S=r.context.adjust_date_time)==null?void 0:S.fromDate,(k=r.context.adjust_date_time)==null?void 0:k.fromTime)||"",toDate:(T=r.context.adjust_date_time)==null?void 0:T.toDate,toTime:td((A=r.context.adjust_date_time)==null?void 0:A.toDate,(E=r.context.adjust_date_time)==null?void 0:E.toTime)||"",authorizingAuthorityTimeAdjustment:((I=r.context.adjust_date_time)==null?void 0:I.from_date)!==""},[f,g]=await e(p);if(g)return n(!1),q({variant:"error",message:g.message??"Failed to approve permit, please try again"});n(!1),a(!0),q({variant:"success",message:"Permit approved successfully"})}l()},[r]),o("div",{className:"app-register__form",children:t?o(P,{children:o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/in-progress.svg",alt:""})}),o("p",{className:"submit-container__title",children:" Approving Permit ..."}),o("br",{}),o("p",{className:"submit-container__description",children:"Please wait as we process this permit."})]})})})}):i?o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/successful.svg",alt:""})}),o("p",{className:"submit-container__title",children:"Permit Approved"}),o("br",{}),o("p",{className:"submit-container__description",children:["You have successfully approved this permit."," "]}),o("br",{}),o("div",{className:"submit-container__button-container",children:[o(x,{variant:"tertiary",type:"button",onClick:()=>V("/process-permits"),children:"Home"}),o(x,{variant:"primary",type:"button",onClick:()=>V("/process-permits"),children:"View Permit"})]})]})})}):o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/submit-failed.svg",alt:""})}),o("p",{className:"submit-container__title",children:"Permit Approval Failed"}),o("br",{}),o("p",{className:"submit-container__description",children:"An error occurred while processing this permit."}),o("br",{}),o("div",{className:"submit-container__button-container",children:[o(x,{variant:"tertiary",type:"button",onClick:()=>V("/process-permits"),children:"Home"}),o(x,{variant:"primary",type:"button",onClick:()=>V("/process-permits"),children:"Redo Permit"})]})]})})})})}function Jk(){var _,y,w,b,C,N,S,k,T,A,E,I,R,M,F,L,B;const{state:r,send:e}=Li(),{makeRequest:t,isLoading:n}=X(pk),{handleSubmit:i}=se({initialValues:r.context.additional_values||{},onSubmit:m,validationSchema:eI}),{profile:a}=vn(),s=X(Uf,{},!0),[c,l]=O([]);Z(()=>{var j;const H=(j=s==null?void 0:s.response)==null?void 0:j.data;l(H)});function d(H){if(!Array.isArray(c)||c.length===0)return"";const j=Number(H);if(isNaN(j))return"";const te=c.find(de=>de.id===j);return(te==null?void 0:te.name)||""}const u=[{section:"A",header:"Work Type",content:[{id:1,title:"Permit Type",info:gn(r.context.permit_type)}]},{section:"B",header:"Work Description",content:[{id:1,title:"Role",info:(_=r.context.work_description)==null?void 0:_.role},{id:2,title:"Performing Person / Person In Charge",info:(y=r.context.work_description)==null?void 0:y.performer},{id:3,title:"Work Details",info:(w=r.context.work_description)==null?void 0:w.work_description},{id:4,title:"Equipment / Tools / Materials",info:(b=r.context.work_description)==null?void 0:b.equipment_to_be_worked},{id:5,title:"Environmental Considerations",info:(C=r.context.work_description)==null?void 0:C.environmental_issues},{id:6,title:"Work Location / Work Area",info:(a==null?void 0:a.locationId)+" / "+((N=r.context.work_description)==null?void 0:N.work_area)},{id:7,title:"Permit Valid From - To (Date & Time)",info:`${le((S=r.context.work_description)==null?void 0:S.from_date).format("dddd, MMM D YYYY")} : ${(k=r.context.work_description)==null?void 0:k.from_time}- ${le((T=r.context.work_description)==null?void 0:T.to_date).format("dddd, MMM D YYYY")} : ${(A=r.context.work_description)==null?void 0:A.to_time}`}]},{section:"C",header:"Company Details",content:[{id:1,title:"Entrusted Company",info:d((E=r.context.company_details)==null?void 0:E.entrusted_company)},{id:2,title:"Executing Company",info:d((I=r.context.company_details)==null?void 0:I.executing_company)},{id:3,title:"Performing Department",info:(R=r.context.company_details)==null?void 0:R.performing_department},{id:4,title:"Contact Phone Number",info:(M=r.context.company_details)==null?void 0:M.company_contact_phone}]},{section:"D",header:"Hazard Identification",content:[{id:1,title:"Describe the potential hazards",info:(F=r.context.work_hazards)==null?void 0:F.potentialHazardDescription}]}],h=((L=r.context.work_hazards)==null?void 0:L.hazards)||{},p=()=>va.filter(H=>h.hasOwnProperty(H.value)&&h[H.value]!==void 0&&h[H.value]!==null).map(H=>o("div",{className:"hazard-item",children:o("p",{children:[o("span",{className:"hazard-value",children:h[H.value]?"YES":"NO"})," ","- ",H.text]})},H.value)),f=[{section:"E",header:"Document Uploads",content:[]}],g=Array.isArray(r.context.formattedDocuments)?r.context.formattedDocuments:Object.entries(r.context.formattedDocuments||{}).map(([H,j])=>({name:H,type:j.type||"MANUAL",doc:j.doc||""}));console.log(r.context);async function m(H){var xe,Rt,On,nr,Cn,Pt,Vn,ci,$i,pm,fm,mm,gm,vm,_m,ym,Cm;console.log(H),console.log("selectedHazards",h);const j={};Object.entries(h).forEach(([xr,rr])=>{console.log(xr,rr),rr!==void 0&&(j[xr]=rr)});const te=xr=>xr.replace(/\/.*|\(.*?\)/g,"").replace(/_/g,"").trim().replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,(rr,Po)=>Po===0?rr.toLowerCase():rr.toUpperCase()).replace(/\s+/g,""),de=g.reduce((xr,rr)=>{const Po=te(rr.name);return Po==="otherCert"&&(xr[`${Po}Name`]="..."),xr[`${Po.replace(/Doc$/i,"")}Type`]=rr.type,xr[`${Po}`]=rr.doc,xr},{}),Q={type:r.context.permit_type.toUpperCase(),workArea:(xe=r.context.work_description)==null?void 0:xe.work_area,locationId:Number(a==null?void 0:a.locationId),performerRole:(Rt=r.context.work_description)==null?void 0:Rt.role,performerPersonInCharge:(On=r.context.work_description)==null?void 0:On.performer,workDescription:(nr=r.context.work_description)==null?void 0:nr.work_description,equipmentToolsMaterials:(Cn=r.context.work_description)==null?void 0:Cn.equipment_to_be_worked,environmentalConsideration:(Pt=r.context.work_description)==null?void 0:Pt.environmental_issues,fromDate:(Vn=r.context.work_description)==null?void 0:Vn.from_date,fromTime:td((ci=r.context.work_description)==null?void 0:ci.from_date,($i=r.context.work_description)==null?void 0:$i.from_time),toDate:(pm=r.context.work_description)==null?void 0:pm.to_date,toTime:td((fm=r.context.work_description)==null?void 0:fm.to_date,(mm=r.context.work_description)==null?void 0:mm.to_time),entrustedCompanyId:Number((gm=r.context.company_details)==null?void 0:gm.entrusted_company),executingCompanyId:Number((vm=r.context.company_details)==null?void 0:vm.executing_company),performingDepartment:(_m=r.context.company_details)==null?void 0:_m.performing_department,contractorPhoneNumber:(ym=r.context.company_details)==null?void 0:ym.company_contact_phone,hazard:{potentialHazardDescription:((Cm=r.context.work_hazards)==null?void 0:Cm.potentialHazardDescription)||"",...j},documents:de};console.log(Q);const[_e,ge]=await t(Q);if(ge)return q({variant:"error",message:ge.message??"Failed to create permit, please try again"});V("/"),q({variant:"success",message:"Permit created successfully"})}function v(H){const j=H;if(!j)throw new Error("URL is required.");const te=j.split("/");return te[te.length-1].split("-").slice(1).join("-")}return o("form",{onSubmit:i,className:"app-register__form app-register__attachment-form",children:[o("div",{className:"app-register__content__header app-create-permit__header",children:[o("h3",{children:"Permit Summary"}),o("div",{className:"",children:o(x,{variant:"secondary",type:"button",onClick:()=>e("go_back"),children:"Back"})})]}),o("p",{children:"Review your permit to work before final submission."}),o("div",{}),u.map(H=>o(ve,{type:"Primary",header:H.header,children:H.content,section:H.section})),o("div",{className:"section",children:o("div",{className:"section__content",children:[o("p",{className:"title",children:"Identification of potential hazards"}),o("p",{className:"info",children:Object.keys(h).length>0?p():o("p",{children:"No hazards selected."})})]})}),o(ve,{type:"Secondary",header:"Documents",children:f[0],section:(B=f[0])==null?void 0:B.section}),(g==null?void 0:g.length)>0?g.map((H,j)=>o("div",{className:"section__content__document_section",children:[o("p",{className:"section__header",children:gn(H.name)}),o("div",{className:"section__content",children:[o("p",{className:"document",children:o("span",{children:"Upload Option"})}),o("p",{children:H.type}),o("p",{className:"document",children:o("span",{children:"Document"})}),o("p",{className:"document_item",children:[o(Tt,{className:"app-link",href:H.doc,children:[" ",v(`${H.doc}`)]}),o("span",{children:o("img",{src:"/svgs/document_download.svg",alt:""})})]})]})]},j)):o("p",{children:"No documents uploaded."}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>e("go_back"),children:"Previous"}),o(x,{variant:"primary",isLoading:n,children:"SUBMIT"})]})]})}const eI=re({});function tI(){const{draft:r,isDraft:e}=ko(),{state:t,send:n}=Li(),i=nI(e),{getFieldProps:a,handleSubmit:s}=se({initialValues:{permit_type:t.context.permit_type},onSubmit:c,validationSchema:i});function c({permit_type:l}){const d=l||(e?r.type.toLowerCase():null);n("submit",{data:r?{permit_type:d}:{permit_type:d}})}return o("div",{className:"app-create-permit__header",children:o("form",{onSubmit:s,className:"app-register__form",children:[o("div",{className:"app-register__form-grid",children:o(tt,{...a("permit_type"),placeholder:`${e?r==null?void 0:r.type.replace(/_/g," "):"Select Permit Type"}`,options:[{text:"Hot Work",value:"hot_work"},{text:"Cold Work",value:"cold_work"}]})}),o("div",{className:"app-register__form-footer",children:o(x,{variant:"primary",children:"Next"})})]})})}function nI(r){return re(r?{permit_type:oe()}:{permit_type:oe().required("Permit type is required")})}function rI(){var f,g;const r=X(Uf,{},!0),[e,t]=O("--select entrusted company--"),{draft:n,isDraft:i}=ko(),[a,s]=O([]);Z(()=>{if(e&&(r!=null&&r.response)){const m=r.response.data,v=m?m.map(_=>({text:_.name,value:_.id})):[{text:"No company found",value:""}];s(v)}},[e,r.response]);const c=iI(i),{send:l,state:d}=Li(),{getFieldProps:u,handleSubmit:h}=se({validationSchema:c,initialValues:{...d.context.company_details,permit_type:d.context.permit_type},onSubmit:p});function p(m){const v={entrusted_company:m.entrusted_company||(n==null?void 0:n.entrustedCompanyId),executing_company:m.executing_company||(n==null?void 0:n.executingCompanyId),performing_department:m.performing_department||(n==null?void 0:n.performingDepartment),company_contact_phone:m.company_contact_phone||(n==null?void 0:n.contractorPhoneNumber)};l("submit",{data:{company_details:v}})}return o("form",{onSubmit:h,children:[o("div",{className:"app-register__form",children:o("div",{className:"app-register__form-grid",children:[o(tt,{label:"Entrusted Company (Optional)",placeholder:`${i?`${(f=n==null?void 0:n.entrustedCompany)==null?void 0:f.name}`:e}`,...u("entrusted_company"),options:a,onChange:m=>{const v=Number(m.target.value);u("locationId").onChange(m),t("value"),console.log(`Selected company: ${v}`)}}),o(tt,{label:"Executing Company (Optional)",placeholder:`${i?`${(g=n==null?void 0:n.executingCompany)==null?void 0:g.name}`:""}`,...u("executing_company"),options:a,onChange:m=>{const v=Number(m.target.value);u("locationId").onChange(m),console.log(`Selected company: ${v}`)}}),o(ee,{label:"Performing Department *",placeholder:`${i?`${n==null?void 0:n.performingDepartment}`:"Enter performing Dept."}`,...u("performing_department")}),o(ee,{label:"Contact Phone Number (Optional)",placeholder:`${i?`${n==null?void 0:n.contractorPhoneNumber}`:"Enter contact phone number"}`,type:"text",...u("company_contact_phone"),onInput:m=>{const v=m.target;v.value=v.value.replace(/[^0-9]/g,"")}})]})}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>l("go_back"),children:"Previous"}),o(x,{variant:"primary",children:"Next"})]})]})}function iI(r){return re(r?{performing_department:oe()}:{performing_department:oe().required("Performing Department is required")})}function Fi({onChange:r,isTouched:e,error:t,label:n="",onUploadComplete:i,...a}){var d,u,h,p;const s=Me(()=>a.value?URL.createObjectURL(a.value):null,[a.value]);async function c(f){if(!f){console.error("No file provided for upload");return}const g=new FormData;g.append("file",f),console.log(g,"formData");try{const m=await fetch("https://eptw.ankursolutions.com/api/file/upload",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:g});if(!m.ok)throw new Error(await m.text());const v=await m.json();i(v.data),console.log(v)}catch(m){return[null,m]}}function l(f){const g=f.currentTarget.files[0];r(g),c(g)}return o("div",{className:"base-upload-field-container",children:[n?o("span",{className:"base-upload-field-label",children:n}):null,o("div",{className:"base-upload-field","data-show-placeholder":!s,children:[o("input",{type:"file",...a,onChange:l}),["image/jpeg","image/png"].includes((d=a.value)==null?void 0:d.type)?o("img",{src:s,alt:(u=a.value)==null?void 0:u.name}):o("object",{data:s,width:"45",height:"45",children:o(ne,{name:"upload"})}),o("div",{className:"base-upload-field__text","data-has-error":!!(e&&t),children:[o("p",{children:((h=a.value)==null?void 0:h.name)??"Upload Attachment"}),a.value?o("span",{children:[(((p=a.value)==null?void 0:p.size)/1024).toFixed(2)," KB"]}):null]}),s?o("button",{className:"base-upload-field__close-btn",onClick:f=>{f.stopPropagation(),r(null)},children:o("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{d:"M8 24L24 8M8 8L24 24",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})})}):null]})]})}function oI(){const{state:r,send:e}=Li(),{setFieldValue:t,getFieldProps:n,handleSubmit:i}=se({initialValues:r.context.document_uploads,onSubmit:h,validationSchema:aI}),a=r.context.selected_documents,[s,c]=O({});function l(p,f){c(g=>({...g,[p]:f}))}const d=["document_JobSafetyAnalysisDocRiskSafetyAnalysisDoc","document_WorkProcedureDocMethodStatementDoc"],u=Object.keys(a).filter(p=>p.startsWith("document_")&&a[p]==="manual"&&!d.includes(p)).map(p=>({key:p,label:p.replace("document_","").replace(/_/g," ")}));function h(p){const f=Object.entries(s).reduce((g,[m,v])=>{const _=m.replace("document_","");return g[_]={type:"MANUAL",doc:v},g},{});e("submit",{data:{document_uploads:p,formattedDocuments:f}})}return o(P,{children:o("form",{onSubmit:i,className:"app-register__attachment-form",children:[o("p",{className:"app-create-permit__description",children:"Ensure you upload authentic documents that are clear and visible."}),o("div",{className:"app-register__form-grid app-create-permit__docs",children:u.map(({key:p,label:f})=>o(Fi,{label:f,...n(p),onChange:g=>t(p,g),onUploadComplete:g=>l(p,g)},p))}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>e("go_back"),children:"Previous"}),o(x,{variant:"primary",children:"Next"})]})]})})}const aI=re({}),S_=Ft(null);function sI(r){const e=new Set;function t(n){if(n&&typeof n=="object"){if(e.has(n))return;e.add(n),Object.keys(n).forEach(i=>{n[i]=t(n[i])})}return n}return t(r)}const cI=({children:r})=>{const[e,t]=O(()=>{const i=localStorage.getItem("permit-details");return i?JSON.parse(i):null});Z(()=>{if(e){const i=sI(e);localStorage.setItem("permit-details",JSON.stringify(i))}},[e]);const n=i=>{t(i)};return o(S_.Provider,{value:{permit:e,updatePermit:n},children:r})},Xe=()=>Yt(S_),lI=Ri({context:{verification:{closureWorkAreaConfirmation:!1,revalidateWorkAreaConfirmation:!1},selected_documents:{documents:[]},document_uploads:{[`document_${Ge(8)}`]:null,[`document_${Ge(8)}`]:null,[`document_${Ge(8)}`]:null,[`document_${Ge(8)}`]:null}},predictableActionArguments:!0,initial:"verification",states:{verification:{meta:{title:"Take Commitment",section:"A"},on:{submit:{target:"selected_documents",actions:["updateContext"]}}},selected_documents:{meta:{title:"Document Selection",section:"B"},on:{submit:{target:"document_uploads",actions:["updateContext"]},go_back:"verification"}},document_uploads:{meta:{title:"Document Uploads",section:"C"},on:{submit:[{target:"submit",actions:["updateContext"]}],go_back:"selected_documents"}},submit:{type:"final",on:{submit:{target:"submit",actions:["updateContext"]},go_back:"document_uploads"}}}},{actions:{updateContext(r,e){Object.assign(r,e.data)}}}),A_=Ft({});function Gs({children:r}){const[e,t,n]=Mi(lI);return Z(()=>{const i=n.subscribe(()=>window.scroll(0,0));return()=>{i.unsubscribe()}},[]),o(A_.Provider,{value:{state:e,send:t},children:r})}function _n(){return Yt(A_)}function T1(r,e){if(!r||!e)throw new Error("Both fromDate and fromTime are required");return new Date(`1970-01-01T${e}:00Z`).toISOString()}function dI(){const{state:r}=_n(),{makeRequest:e}=X(Wk),[t,n]=O(!1),[i,a]=O(!1),{permit:s}=Xe();return Z(()=>{async function c(){n(!0);const l=Array.isArray(r.context.formattedDocuments)?r.context.formattedDocuments:Object.entries(r.context.formattedDocuments||{}).map(([g,m])=>({name:g,type:m.type||"MANUAL",doc:m.doc||""})),d=g=>g.replace(/\/.*|\(.*?\)/g,"").replace(/\./g,"").trim().replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,(m,v)=>v===0?m.toLowerCase():m.toUpperCase()).replace(/\s+/g,""),u=l.reduce((g,m)=>{const v=d(m.name);return v==="otherCert"&&(g[`${v}Name`]="..."),g[`${v}Type`]=m.type,g[`${v}`]=m.doc,g},{}),h={permitId:s==null?void 0:s.id,closureWorkAreaConfirmation:r.context.verification.closureWorkAreaConfirmation,documents:u};console.log(h);const[p,f]=await e(h);if(f)return n(!1),q({variant:"error",message:f.message??"Failed to close permit, please try again"});n(!1),a(!0),q({variant:"success",message:"Permit closure approved successfully"})}c()},[r]),o("div",{className:"app-register__form",children:t?o(P,{children:o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/in-progress.svg",alt:""})}),o("p",{className:"submit-container__title",children:" Approving Permit ..."}),o("br",{}),o("p",{className:"submit-container__description",children:"Please wait as we process this permit."})]})})})}):i?o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/successful.svg",alt:""})}),o("p",{className:"submit-container__title",children:"Permit Approved"}),o("br",{}),o("p",{className:"submit-container__description",children:["You have successfully approved this permit."," "]}),o("br",{}),o("div",{className:"submit-container__button-container",children:[o(x,{variant:"tertiary",type:"button",onClick:()=>V("/permit-activities"),children:"Home"}),o(x,{variant:"primary",type:"button",onClick:()=>V("/permit-activities"),children:"View Permit"})]})]})})}):o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/submit-failed.svg",alt:""})}),o("p",{className:"submit-container__title",children:"Permit Approval Failed"}),o("br",{}),o("p",{className:"submit-container__description",children:"An error occurred while processing this permit."}),o("br",{}),o("div",{className:"submit-container__button-container",children:[o(x,{variant:"tertiary",type:"button",onClick:()=>V("/permit-activities"),children:"Home"}),o(x,{variant:"primary",type:"button",onClick:()=>V("/permit-activities"),children:"Redo Permit"})]})]})})})})}function uI(){var h;const{state:r}=Li(),e=r.toStrings()[0],t=Ou.indexOf(e)+1,n=(h=Object.values(r.meta))==null?void 0:h[0],{updateIsDraft:i}=ko(),[a,s]=O(!1),{makeRequest:c}=X(fk);function l(p){s(p)}function d(){i(!1),V("/")}async function u(){var m,v,_,y,w,b,C,N,S,k,T,A,E,I,R,M;const p={type:r.context.permit_type.toUpperCase(),workArea:(m=r.context.work_description)==null?void 0:m.work_area,locationId:1,performerRole:(v=r.context.work_description)==null?void 0:v.role,performerPersonInCharge:(_=r.context.work_description)==null?void 0:_.performer,workDescription:(y=r.context.work_description)==null?void 0:y.work_description,equipmentToolsMaterials:(w=r.context.work_description)==null?void 0:w.equipment_to_be_worked,environmentalConsideration:(b=r.context.work_description)==null?void 0:b.environmental_issues,fromDate:(C=r.context.work_description)==null?void 0:C.from_date,fromTime:T1((N=r.context.work_description)==null?void 0:N.from_date,(S=r.context.work_description)==null?void 0:S.from_time),toDate:(k=r.context.work_description)==null?void 0:k.to_date,toTime:T1((T=r.context.work_description)==null?void 0:T.to_date,(A=r.context.work_description)==null?void 0:A.to_time),entrustedCompanyId:1,executingCompanyId:1,performingDepartment:(E=r.context.company_details)==null?void 0:E.performing_department,contractorPhoneNumber:(I=r.context.company_details)==null?void 0:I.company_contact_phone,hazard:{potentialHazardDescription:((R=r.context.work_hazards)==null?void 0:R.potentialHazardDescription)||"",...((M=r.context.work_hazards)==null?void 0:M.hazards)||{}},documents:{jobSafetyAnalysisType:"MANUAL",jobSafetyAnalysisDoc:"...",workProcedureType:"MANUAL",workProcedureDoc:"..."}},[f,g]=await c(p);if(g)return q({variant:"error",message:g.message??"Failed to create draft, please try again"});i(!1),V("/"),q({variant:"success",message:"Draft created successfully"})}return o("div",{className:"app-create-permit app-register",children:[o("div",{className:"app-register__nav-wrapper app-container-wrapper",children:o("div",{className:"app-container app-register__nav",children:[o(Tt,{href:"/",children:o("img",{src:"/svgs/logo.eptw.svg",alt:"eptw_logo",className:"permit-logo"})}),o("h5",{children:["Permit To Work Form"," ",r.context.permit_type&&!r.matches("permit_type")?`/ ${Ar(r.context.permit_type.split("_")[0])} Work`:""]}),o("div",{className:"",children:r.matches("permit_type")||r.matches("work_description")||r.matches("company_details")?o(P,{children:o(x,{className:"app-link",onClick:()=>d(),children:"Go back to home page"})}):o(x,{className:"app-link",onClick:()=>l(!0),children:[" ","Go back to home page"]})})]})}),o("div",{className:"app-register__content-wrapper app-container-wrapper ",children:[o("div",{className:"app-register__content app-container",children:[!r.matches("additional_notes")&&o(P,{children:[o("div",{className:"app-register__content__header app-create-permit__header",children:[o("h3",{children:n==null?void 0:n.title.replace(/_/g," ").replace(/\b\w/g,p=>p.toUpperCase())}),o("p",{children:["Step ",t," of ",Ou.length]})]}),o("div",{className:"app-register__progress-bar",children:o("span",{style:{width:`${t/Ou.length*100}%`}})})]}),r.matches("permit_type")&&o(tI,{}),r.matches("work_description")&&o(sk,{}),r.matches("company_details")&&o(rI,{}),r.matches("work_hazards")&&o(lk,{}),r.matches("selected_documents")&&o(uk,{}),r.matches("document_uploads")&&o(oI,{}),r.matches("additional_notes")&&o(Jk,{})]}),o("img",{src:"/svgs/auth-blur.svg",alt:"auth-blur"})]}),o("div",{className:"",children:a&&o(Pn,{icon:o("img",{src:"/svgs/save-draft.svg"}),title:"Save Draft",message:"You can save as draft, so you can be able to continue from where you stopped",onClose:()=>l(!1),primaryButton:{label:"Save As Draft",onClick:u,color:"#D30021"},secondaryButton:{label:"Cancel",onClick:()=>V("/"),color:"#E86E18"}})})]})}const Ou=["permit_type","work_description","company_details","work_hazards","selected_documents","document_uploads","additional_notes"];function hI({}){return o(ak,{children:o(uI,{})})}function ai({tabs:r,counts:e={}}){return o("div",{className:"base-tabs",children:r.map(t=>o("button",{"data-isActive":t.isActive,onClick:t.onClick,children:[t.label,e[t.key]?o("span",{children:e[t.key]}):null]}))})}function vt({title:r="",children:e,show:t=!1}){const[n,i]=O(t||!r);return o("div",{className:"base-accordion",children:[r?o("div",{className:"base-accordion__header",onClick:()=>i(a=>!a),children:[o("h1",{children:r}),o("div",{className:"icon","data-isOpen":n,children:o("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.4698 7.71934C11.6105 7.57889 11.8011 7.5 11.9998 7.5C12.1986 7.5 12.3892 7.57889 12.5298 7.71934L20.0298 15.2193C20.1035 15.288 20.1626 15.3708 20.2036 15.4628C20.2446 15.5548 20.2667 15.6541 20.2684 15.7548C20.2702 15.8555 20.2517 15.9555 20.214 16.0489C20.1762 16.1423 20.1201 16.2272 20.0489 16.2984C19.9777 16.3696 19.8928 16.4257 19.7994 16.4635C19.7061 16.5012 19.606 16.5197 19.5053 16.5179C19.4046 16.5162 19.3053 16.4941 19.2133 16.4531C19.1213 16.4121 19.0385 16.353 18.9698 16.2793L11.9998 9.30934L5.02985 16.2793C4.88767 16.4118 4.69963 16.4839 4.50532 16.4805C4.31102 16.4771 4.12564 16.3984 3.98822 16.261C3.85081 16.1235 3.7721 15.9382 3.76867 15.7439C3.76524 15.5496 3.83737 15.3615 3.96985 15.2193L11.4698 7.71934Z",fill:"black"})})})]}):null,n&&o("div",{className:"base-accordion__content",children:e})]})}function z({title:r,value:e=""}){return o("div",{className:"base-accordion__item",children:[o("div",{children:r}),o("div",{children:e})]})}function Gi({children:r}){return o("div",{className:"base-accordion__item base-accordion__item-title",children:[o("div",{children:r}),o("div",{})]})}function nd(){return o("div",{className:"base-accordion__item base-accordion__gap",children:[o("div",{}),o("div",{})]})}function pI({permit:r}){const e=X(__),t=X(gk),n=r.hseAuthorityStatus==="APPROVED",{values:{notes:i},getFieldProps:a,values:s}=se({initialValues:{notes:"",permitId:+r.id},validationSchema:re({}),onSubmit:()=>null}),{toggle:c,modals:l}=Qt({confirmApproval:!1,confirmRejection:!1});async function d(){const[h,p]=await e.makeRequest(s);if(p)return q({variant:"error",message:p.message??"Failed to approve permit, please try again"});window.location.reload()}async function u(){const[h,p]=await t.makeRequest(s);if(p)return q({variant:"error",message:p.message??"Failed to reject permit, please try again"});window.location.reload()}return o("div",{className:"app-section",children:[r.hseAuthorityStatus==="IN_PROGRESS"?o("div",{className:"app-ptw__details__module",children:[o("h4",{children:"Approval Section"}),o("p",{children:"To approve or reject this permit, ensure you have properly gone through the PTW Details and confirmed all details and documents provided. Kindly fill in addition notes below to add more details (Additional notes must be filled if you are rejecting this permit, to state the reason for rejection)."}),o(ln,{label:"Additional Note",placeholder:"Write here...",...a("notes")}),o("div",{className:"app-ptw__details__module__btn-footer",children:[o(x,{variant:"primary",onClick:()=>c("confirmApproval"),children:"Approve Permit"}),o(x,{variant:"secondary",onClick:()=>c("confirmRejection"),disabled:!i,children:"Reject Permit"})]})]}):o(vt,{show:!0,title:"Approval Details",children:[o(z,{title:"Status",value:n?o("p",{className:"active-text",children:"Approved"}):o("p",{className:"danger-text",children:"Rejected"})}),o(z,{title:"Date",value:le(r.hseAuthorityStatusDate).format("MMM DD, YYYY HH:mm A")}),o(z,{title:"Approved by:",value:"ROBERT FOX"}),o(z,{title:"Additional Notes",value:r.hseAuthorityNotes||"--"})]}),o(lt,{show:l.confirmApproval,toggle:()=>c("confirmApproval"),align:"center",children:[o(dt,{children:"HSE Auth"}),o(ut,{children:[o("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35.8458 15.8292C37.604 13.801 39.778 12.1748 42.2203 11.0612C44.6625 9.94753 47.3158 9.37246 50 9.37501C55.6542 9.37501 60.7208 11.875 64.1542 15.8292C66.8321 15.638 69.5198 16.0254 72.0347 16.965C74.5496 17.9047 76.8328 19.3746 78.7292 21.275C80.6288 23.1711 82.0982 25.4536 83.0379 27.9677C83.9775 30.4818 84.3653 33.1686 84.175 35.8458C86.2025 37.6044 87.8278 39.7786 88.9407 42.2208C90.0536 44.6631 90.6281 47.3162 90.625 50C90.6276 52.6842 90.0525 55.3375 88.9388 57.7797C87.8252 60.222 86.1991 62.396 84.1708 64.1542C84.3612 66.8314 83.9733 69.5182 83.0337 72.0323C82.0941 74.5464 80.6246 76.8289 78.725 78.725C76.8289 80.6246 74.5464 82.0941 72.0323 83.0337C69.5182 83.9733 66.8314 84.3612 64.1542 84.1708C62.396 86.1991 60.222 87.8252 57.7797 88.9388C55.3375 90.0525 52.6842 90.6276 50 90.625C47.3158 90.6276 44.6625 90.0525 42.2203 88.9388C39.778 87.8252 37.604 86.1991 35.8458 84.1708C33.1682 84.3626 30.4807 83.9759 27.9659 83.0369C25.451 82.098 23.1676 80.6288 21.2708 78.7292C19.3707 76.8326 17.9009 74.5494 16.9613 72.0345C16.0216 69.5197 15.6341 66.8321 15.825 64.1542C13.7976 62.3956 12.1722 60.2214 11.0593 57.7792C9.94636 55.337 9.37194 52.6839 9.37501 50C9.37501 44.3458 11.875 39.2792 15.8292 35.8458C15.6386 33.1686 16.0263 30.4817 16.9659 27.9676C17.9056 25.4535 19.3752 23.1709 21.275 21.275C23.1709 19.3752 25.4535 17.9056 27.9676 16.9659C30.4817 16.0263 33.1686 15.6386 35.8458 15.8292ZM65.0417 42.4417C65.2917 42.1086 65.4726 41.7288 65.5737 41.3248C65.6748 40.9208 65.6942 40.5006 65.6306 40.089C65.5671 39.6774 65.4219 39.2826 65.2036 38.9279C64.9853 38.5732 64.6982 38.2657 64.3594 38.0236C64.0206 37.7814 63.6367 37.6094 63.2305 37.5176C62.8242 37.4259 62.4037 37.4163 61.9937 37.4894C61.5836 37.5625 61.1924 37.7169 60.8428 37.9434C60.4933 38.1699 60.1926 38.464 59.9583 38.8083L46.475 57.6833L39.7083 50.9167C39.1159 50.3647 38.3324 50.0642 37.5228 50.0784C36.7132 50.0927 35.9408 50.4207 35.3683 50.9933C34.7957 51.5658 34.4677 52.3382 34.4534 53.1478C34.4392 53.9574 34.7397 54.7409 35.2917 55.3333L44.6667 64.7083C44.9875 65.0289 45.3742 65.2758 45.8 65.4319C46.2257 65.5879 46.6804 65.6495 47.1324 65.6122C47.5843 65.575 48.0227 65.4398 48.4172 65.216C48.8117 64.9923 49.1527 64.6854 49.4167 64.3167L65.0417 42.4417Z",fill:"#008171"}),o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M33.2763 9.62585C35.3536 7.22944 37.9223 5.30809 40.808 3.99228C43.6936 2.67646 46.8285 1.997 50 2.00001C56.6806 2.00001 62.6671 4.95386 66.7237 9.62585C69.8877 9.39993 73.0633 9.85765 76.0348 10.9679C79.0062 12.0782 81.7039 13.815 83.9446 16.0603C86.189 18.3006 87.9253 20.9975 89.0355 23.968C90.1457 26.9385 90.6039 30.1131 90.3791 33.2763C92.7746 35.3541 94.695 37.923 96.01 40.8086C97.3249 43.6942 98.0036 46.8289 98 50C98.003 53.1715 97.3235 56.3064 96.0077 59.1921C94.6919 62.0777 92.7706 64.6464 90.3741 66.7237C90.599 69.8869 90.1408 73.0615 89.0306 76.032C87.9203 79.0025 86.1841 81.6994 83.9397 83.9397C81.6994 86.1841 79.0025 87.9204 76.032 89.0306C73.0615 90.1408 69.8869 90.599 66.7237 90.3742C64.6463 92.7706 62.0777 94.6919 59.192 96.0077C56.3064 97.3235 53.1715 98.003 50 98C46.8285 98.003 43.6936 97.3235 40.808 96.0077C37.9223 94.6919 35.3536 92.7706 33.2763 90.3742C30.1126 90.6007 26.9373 90.1438 23.9658 89.0344C20.9944 87.925 18.2965 86.1891 16.0554 83.9446C13.8103 81.7038 12.0737 79.006 10.9634 76.0346C9.85321 73.0632 9.39534 69.8877 9.62094 66.7237C7.22542 64.6459 5.305 62.077 3.99004 59.1914C2.67509 56.3058 1.99639 53.1711 2.00001 50C2.00001 43.3194 4.95386 37.3329 9.62586 33.2763C9.40066 30.1131 9.85873 26.9384 10.969 23.9679C12.0792 20.9973 13.8156 18.3004 16.0603 16.0603C18.3004 13.8156 20.9973 12.0792 23.9679 10.969C26.9384 9.85873 30.1131 9.40066 33.2763 9.62585ZM67.7723 41.0695C68.0677 40.6759 68.2814 40.2273 68.4009 39.7499C68.5204 39.2725 68.5433 38.7761 68.4682 38.2897C68.3931 37.8034 68.2215 37.337 67.9636 36.9179C67.7056 36.4988 67.3665 36.1355 66.9662 35.8494C66.5658 35.5632 66.1123 35.36 65.6323 35.2516C65.1523 35.1432 64.6554 35.1319 64.171 35.2183C63.6865 35.3047 63.2242 35.487 62.8112 35.7546C62.3982 36.0223 62.0429 36.3697 61.7661 36.7766L45.8351 59.0782L37.84 51.0831C37.1401 50.4309 36.2143 50.0758 35.2577 50.0927C34.3012 50.1096 33.3885 50.4971 32.712 51.1736C32.0355 51.8501 31.648 52.7627 31.6311 53.7193C31.6143 54.6758 31.9693 55.6016 32.6215 56.3015L43.6985 67.3785C44.0775 67.7572 44.5344 68.0489 45.0375 68.2333C45.5406 68.4178 46.0777 68.4905 46.6118 68.4464C47.1458 68.4024 47.6638 68.2427 48.1299 67.9783C48.5959 67.714 48.9989 67.3514 49.3108 66.9157L67.7723 41.0695Z",fill:"#008171","fill-opacity":"0.1"})]}),o("h4",{className:"app-modal__content__title",children:"Approve Permit"}),o("p",{className:"app-modal__content__desc",children:"By approving this permit, it means you have verified all the details and document provided they match the required standards."}),o("div",{className:"app-modal__content__footer",children:[o(x,{variant:"secondary",onClick:()=>c("confirmApproval"),children:"Cancel"}),o(x,{variant:"success",onClick:d,isLoading:e.isLoading,children:"Approve"})]})]})]}),o(lt,{show:l.confirmRejection,toggle:()=>c("confirmRejection"),align:"center",children:[o(dt,{children:"HSE Auth"}),o(ut,{children:[o("img",{src:"/svgs/danger.svg",alt:"danger"}),o("h4",{className:"app-modal__content__title",children:"Reject Permit"}),o("p",{className:"app-modal__content__desc",children:"By rejecting this permit, it means you have verified all the details and document provided and they do not match the required standards."}),o("div",{className:"app-modal__content__footer",children:[o(x,{variant:"secondary",onClick:()=>c("confirmRejection"),children:"Cancel"}),o(x,{variant:"danger",onClick:u,isLoading:t.isLoading,children:"Reject"})]})]})]})]})}function fI({permit:r}){var l,d,u,h;const{getFieldProps:e,handleSubmit:t}=se({initialValues:{notes:"",permitId:+r.id},onSubmit:c,validationSchema:re({notes:oe().required("Additional note is required")})}),{toggle:n,modals:i}=Qt({confirmApproval:!1,confirmRejection:!1}),a=r.issuringAuthorityStatus==="APPROVED",s=r.type==="HOT_WORK";async function c(){}return o("div",{className:"app-section",children:[s&&a&&o(vt,{show:!0,title:o(P,{children:[o("span",{children:"Section C - "}),"PRECAUTIONS TO BE TAKEN"]}),children:[o(Gi,{children:"MEASURES ON EQUIPMENT / LINES"}),(l=r.measuresOnEquipment)==null?void 0:l.map(p=>o(z,{title:p})),o(Gi,{children:"PRECAUTION"}),(d=r.precautions)==null?void 0:d.map(p=>o(z,{title:p})),o(Gi,{children:"FIREFIGHTING PRECAUTION"}),(u=r.firefightingPrecautions)==null?void 0:u.map(p=>o(z,{title:p})),o(Gi,{children:"PERSONNEL PROTECTIVE EQUIPMENT"}),(h=r.protectiveEquipment)==null?void 0:h.map(p=>o(z,{title:p})),o(Gi,{children:"COMPLEMENTARY PERMITS / CERTIFICATES / DOCUMENTS"}),o(z,{title:"Entry Certificate",value:r.entryCertNo}),o(z,{title:"Electronic Isolation Cert.",value:r.electronicIsolationCertNo}),o(z,{title:"Explosives Cert.",value:r.explosivesCertNo}),o(z,{title:"Mechanical isolation Cert.",value:r.MechanicalIsolationCertNo}),o(z,{title:"Gas Clearance",value:r.gasClearanceCertNo}),o(z,{title:"Scaffolding Cert.",value:r.scaffoldingCertNo}),o(z,{title:"MEWP Cert.",value:r.mewpCertNo}),o(z,{title:"Man Basket Cert.",value:r.manBasketCertNo}),o(z,{title:"Work Near Powerlines Cert.",value:r.nearPowerlinesCertNo}),o(z,{title:"Radiography cert.",value:r.radiographyCertNo}),o(z,{title:"Excavation Cert.",value:r.excavationCertNo}),o(z,{title:"Lift Cert.",value:r.liftCertNo}),o(z,{title:"Hot Tapping Cert.",value:r.hotTappingCertNo}),o(z,{title:"Diving / ROV Cert.",value:r.divingOrRovCertNo}),o(z,{title:"Man Riding Cert.",value:r.manRidingCertNo})]}),r.issuringAuthorityStatus==="IN_PROGRESS"?o("div",{className:"app-ptw__details__module",children:[o("h4",{children:"Approval Section"}),o("p",{children:"To approve or reject this permit, ensure you have properly gone through the PTW Details and confirmed all details and documents provided. Kindly fill in addition notes below to add more details (Additional notes must be filled if you are rejecting this permit, to state the reason for rejection)."}),o("div",{className:"app-ptw__details__module__btn-footer",children:[o(x,{variant:"primary",onClick:()=>s?V(`/permit-management/ptw/approve/${r.id}`):n("confirmApproval"),children:"Approve Permit"}),o(x,{variant:"secondary",onClick:()=>n("confirmRejection"),children:"Reject Permit"})]})]}):o(vt,{show:!0,title:"Approval Details",children:[o(z,{title:"Status",value:a?o("p",{className:"active-text",children:"Approved"}):o("p",{className:"danger-text",children:"Rejected"})}),o(z,{title:"Date",value:le(r.issuringAuthorityStatusDate).format("MMM DD, YYYY HH:mm A")}),o(z,{title:"Approved by:",value:"ROBERT FOX"}),o(z,{title:"Additional Notes",value:r.issuringAuthorityNotes||"--"})]}),o(lt,{show:i.confirmApproval,toggle:()=>n("confirmApproval"),align:"center",children:[o(dt,{children:"Issuing Auth"}),o(ut,{children:[o("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35.8458 15.8292C37.604 13.801 39.778 12.1748 42.2203 11.0612C44.6625 9.94753 47.3158 9.37246 50 9.37501C55.6542 9.37501 60.7208 11.875 64.1542 15.8292C66.8321 15.638 69.5198 16.0254 72.0347 16.965C74.5496 17.9047 76.8328 19.3746 78.7292 21.275C80.6288 23.1711 82.0982 25.4536 83.0379 27.9677C83.9775 30.4818 84.3653 33.1686 84.175 35.8458C86.2025 37.6044 87.8278 39.7786 88.9407 42.2208C90.0536 44.6631 90.6281 47.3162 90.625 50C90.6276 52.6842 90.0525 55.3375 88.9388 57.7797C87.8252 60.222 86.1991 62.396 84.1708 64.1542C84.3612 66.8314 83.9733 69.5182 83.0337 72.0323C82.0941 74.5464 80.6246 76.8289 78.725 78.725C76.8289 80.6246 74.5464 82.0941 72.0323 83.0337C69.5182 83.9733 66.8314 84.3612 64.1542 84.1708C62.396 86.1991 60.222 87.8252 57.7797 88.9388C55.3375 90.0525 52.6842 90.6276 50 90.625C47.3158 90.6276 44.6625 90.0525 42.2203 88.9388C39.778 87.8252 37.604 86.1991 35.8458 84.1708C33.1682 84.3626 30.4807 83.9759 27.9659 83.0369C25.451 82.098 23.1676 80.6288 21.2708 78.7292C19.3707 76.8326 17.9009 74.5494 16.9613 72.0345C16.0216 69.5197 15.6341 66.8321 15.825 64.1542C13.7976 62.3956 12.1722 60.2214 11.0593 57.7792C9.94636 55.337 9.37194 52.6839 9.37501 50C9.37501 44.3458 11.875 39.2792 15.8292 35.8458C15.6386 33.1686 16.0263 30.4817 16.9659 27.9676C17.9056 25.4535 19.3752 23.1709 21.275 21.275C23.1709 19.3752 25.4535 17.9056 27.9676 16.9659C30.4817 16.0263 33.1686 15.6386 35.8458 15.8292ZM65.0417 42.4417C65.2917 42.1086 65.4726 41.7288 65.5737 41.3248C65.6748 40.9208 65.6942 40.5006 65.6306 40.089C65.5671 39.6774 65.4219 39.2826 65.2036 38.9279C64.9853 38.5732 64.6982 38.2657 64.3594 38.0236C64.0206 37.7814 63.6367 37.6094 63.2305 37.5176C62.8242 37.4259 62.4037 37.4163 61.9937 37.4894C61.5836 37.5625 61.1924 37.7169 60.8428 37.9434C60.4933 38.1699 60.1926 38.464 59.9583 38.8083L46.475 57.6833L39.7083 50.9167C39.1159 50.3647 38.3324 50.0642 37.5228 50.0784C36.7132 50.0927 35.9408 50.4207 35.3683 50.9933C34.7957 51.5658 34.4677 52.3382 34.4534 53.1478C34.4392 53.9574 34.7397 54.7409 35.2917 55.3333L44.6667 64.7083C44.9875 65.0289 45.3742 65.2758 45.8 65.4319C46.2257 65.5879 46.6804 65.6495 47.1324 65.6122C47.5843 65.575 48.0227 65.4398 48.4172 65.216C48.8117 64.9923 49.1527 64.6854 49.4167 64.3167L65.0417 42.4417Z",fill:"#008171"}),o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M33.2763 9.62585C35.3536 7.22944 37.9223 5.30809 40.808 3.99228C43.6936 2.67646 46.8285 1.997 50 2.00001C56.6806 2.00001 62.6671 4.95386 66.7237 9.62585C69.8877 9.39993 73.0633 9.85765 76.0348 10.9679C79.0062 12.0782 81.7039 13.815 83.9446 16.0603C86.189 18.3006 87.9253 20.9975 89.0355 23.968C90.1457 26.9385 90.6039 30.1131 90.3791 33.2763C92.7746 35.3541 94.695 37.923 96.01 40.8086C97.3249 43.6942 98.0036 46.8289 98 50C98.003 53.1715 97.3235 56.3064 96.0077 59.1921C94.6919 62.0777 92.7706 64.6464 90.3741 66.7237C90.599 69.8869 90.1408 73.0615 89.0306 76.032C87.9203 79.0025 86.1841 81.6994 83.9397 83.9397C81.6994 86.1841 79.0025 87.9204 76.032 89.0306C73.0615 90.1408 69.8869 90.599 66.7237 90.3742C64.6463 92.7706 62.0777 94.6919 59.192 96.0077C56.3064 97.3235 53.1715 98.003 50 98C46.8285 98.003 43.6936 97.3235 40.808 96.0077C37.9223 94.6919 35.3536 92.7706 33.2763 90.3742C30.1126 90.6007 26.9373 90.1438 23.9658 89.0344C20.9944 87.925 18.2965 86.1891 16.0554 83.9446C13.8103 81.7038 12.0737 79.006 10.9634 76.0346C9.85321 73.0632 9.39534 69.8877 9.62094 66.7237C7.22542 64.6459 5.305 62.077 3.99004 59.1914C2.67509 56.3058 1.99639 53.1711 2.00001 50C2.00001 43.3194 4.95386 37.3329 9.62586 33.2763C9.40066 30.1131 9.85873 26.9384 10.969 23.9679C12.0792 20.9973 13.8156 18.3004 16.0603 16.0603C18.3004 13.8156 20.9973 12.0792 23.9679 10.969C26.9384 9.85873 30.1131 9.40066 33.2763 9.62585ZM67.7723 41.0695C68.0677 40.6759 68.2814 40.2273 68.4009 39.7499C68.5204 39.2725 68.5433 38.7761 68.4682 38.2897C68.3931 37.8034 68.2215 37.337 67.9636 36.9179C67.7056 36.4988 67.3665 36.1355 66.9662 35.8494C66.5658 35.5632 66.1123 35.36 65.6323 35.2516C65.1523 35.1432 64.6554 35.1319 64.171 35.2183C63.6865 35.3047 63.2242 35.487 62.8112 35.7546C62.3982 36.0223 62.0429 36.3697 61.7661 36.7766L45.8351 59.0782L37.84 51.0831C37.1401 50.4309 36.2143 50.0758 35.2577 50.0927C34.3012 50.1096 33.3885 50.4971 32.712 51.1736C32.0355 51.8501 31.648 52.7627 31.6311 53.7193C31.6143 54.6758 31.9693 55.6016 32.6215 56.3015L43.6985 67.3785C44.0775 67.7572 44.5344 68.0489 45.0375 68.2333C45.5406 68.4178 46.0777 68.4905 46.6118 68.4464C47.1458 68.4024 47.6638 68.2427 48.1299 67.9783C48.5959 67.714 48.9989 67.3514 49.3108 66.9157L67.7723 41.0695Z",fill:"#008171","fill-opacity":"0.1"})]}),o("h4",{className:"app-modal__content__title",children:"Approve Permit"}),o("p",{className:"app-modal__content__desc",children:"By approving this permit, it means you have verified all the details and document provided they match the required standards."}),o("div",{className:"app-modal__content__footer",children:[o(x,{variant:"secondary",onClick:()=>n("confirmApproval"),children:"Cancel"}),o(x,{variant:"success",children:"Approve"})]})]})]}),o(lt,{show:i.confirmRejection,toggle:()=>n("confirmRejection"),align:"center",children:[o(dt,{children:[o("img",{src:"/svgs/danger.svg",alt:"danger"}),"Reject permit"]}),o(ut,{children:o("form",{onSubmit:t,children:[o("div",{className:"app-ptw-reject-modal",children:[o("p",{className:"app-modal__content__desc",children:["By rejecting this permit, it means you have verified all the details and document provided and they do not match the required standards.",o("br",{}),o("br",{}),"Kindly state the reason for rejecting this permit below;"]}),o(ln,{label:"Additional Note",placeholder:"Write here...",...e("notes")})]}),o("div",{className:"app-modal__content__footer",children:[o(x,{variant:"secondary",onClick:()=>n("confirmRejection"),type:"button",children:"Cancel"}),o(x,{variant:"danger",type:"submit",children:"Reject"})]})]})})]})]})}function mI({permit:r}){var u,h,p,f,g,m;const e=X(C_),t=X(Ek),{modals:n,toggle:i}=Qt({completion:!1,suspension:!1}),a=va.filter(v=>r[v.value]),{getFieldProps:s,handleSubmit:c}=se({onSubmit:l,initialValues:{notes:""},validationSchema:re({notes:oe().required("Additional note is required.")})});async function l(v){const[_,y]=await e.makeRequest({permitId:r.id,...v});if(y)return q({variant:"error",message:y.message??"Failed to suspend permit. Please try again"});n.suspension&&i("suspension"),q({variant:"success",message:"Permit suspended successfully"})}async function d(){const[v,_]=await t.makeRequest({id:r.id});if(_)return q({variant:"error",message:_.message??"Failed to complete permit. Please try again"});n.completion&&i("completion"),q({variant:"success",message:v.message})}return o("div",{className:"app-section",children:[o(vt,{show:!0,title:o(P,{children:[o("span",{children:"Section A - "}),"Work Description"]}),children:[o(z,{title:"Work Type",value:Ar((u=r.type)==null?void 0:u.replace("_"," ").toLowerCase())}),o(z,{title:"Performing Department",value:r.performingDepartMent}),o(z,{title:"Location of Work",value:`${r.location.address}, ${r.location.state}, ${r.location.country}`}),o(z,{title:"Plant / Equipment to be worked upon",value:r.plantNEquipment}),o(z,{title:"Type of Process",value:r.processType}),o(z,{title:"Contractor",value:r.contractor?`${(h=r.contractor)==null?void 0:h.firstname} ${(p=r.contractor)==null?void 0:p.lastname}`:"--"}),o(z,{title:"Contact Tel. No.",value:r.contactTel}),o(z,{title:"Contact Phone No.",value:r.contactPhone}),o(z,{title:"No. of Personnel for Activity",value:"18"}),o(z,{title:"Work to be Performed",value:r.workDescription}),o(z,{title:"Equipment / Tools / Materials",value:r.equipment}),o(z,{title:"What Type of Environmental Issues",value:a.map(v=>Ar(v.text.toLowerCase())).join(", ")||"--"}),o(z,{title:"Permit Valid From (Date & Time)",value:le(r.validityStartDate).format("DD, MMM, YYYY, HH:mm A")}),o(z,{title:"Permit Valid To (Date & Time)",value:le(r.validityendDate).format("DD, MMM, YYYY, HH:mm A")}),o(z,{title:"Reference to Previous PTW (No.)",value:(f=r.previousPtwRef)==null?void 0:f.join(", ")})]}),o(vt,{title:o(P,{children:[o("span",{children:"Section B - "}),"Job & Work Hazards"]}),children:[o(z,{title:"Work Area (Installation / Unit)",value:r.workArea}),o(z,{title:"Zone",value:r.zone}),o(z,{title:"Equipment Tag",value:r.equipmentTag}),r.type==="HOT_WORK"&&o(P,{children:[o(Gi,{children:"Documents Required For This Activity"}),o(z,{title:"Job Safety Analysis (JSA)",value:r.jobSafetyAnalysisDocNo}),o(z,{title:"Work Procedure",value:r.workProcedureDocNo}),o(z,{title:"P&IDs / Sketch",value:r.sketchDocNo}),o(z,{title:"Lifting Plan",value:r.liftingPlanDocNo}),o(z,{title:"Isolation Plan",value:r.isolationPlanDocNo}),o(z,{title:"Others",value:r.otherDocNo}),o(Gi,{children:"Identification Of Hazards"}),va.map(v=>o(z,{title:v.text,value:r[v.value]?"YES":"NO"}))]})]}),o(vt,{title:o(P,{children:[o("span",{children:"Section C - "}),"Document Uploads"]}),children:[o(z,{title:"Document Name",value:o("a",{href:"/",className:"app-link",children:"document.pdf"})}),o(z,{title:"Document Name",value:o("a",{href:"/",className:"app-link",children:"document.pdf"})}),o(z,{title:"Document Name",value:o("a",{href:"/",className:"app-link",children:"document.pdf"})})]}),o(vt,{title:o(P,{children:[o("span",{children:"Section D - "}),"Additional Notes"]}),children:o(z,{title:r.additionalNotes??"---",value:""})}),o(vt,{children:[o(z,{title:"Date Created",value:le(r.createdAt).format("MMM DD, YYYY  HH:mm A")}),o(z,{title:"Created by:",value:r.createdBy?`${(g=r.createdBy)==null?void 0:g.firstname} ${(m=r.createdBy)==null?void 0:m.lastname}`:"--"})]}),(r==null?void 0:r.status)==="APPROVED"?o("div",{children:[o("div",{className:"app-ptw__completion-cta",children:[o("h1",{children:"Work Completion"}),o("p",{children:"The work is completed, all tools an equipment are reinstated in their initial position, and worksite is left clean and safe."}),o(x,{variant:"success",dimension:"md",onClick:()=>i("completion"),children:"Work Completed"})]}),o("div",{className:"app-ptw__completion-cta suspension",children:[o("h1",{children:"Work Suspension"}),o("p",{children:"The work is completed, all tools an equipment are reinstated in their initial position, and worksite is left clean and safe."}),o(x,{variant:"danger",dimension:"md",onClick:()=>i("suspension"),children:"Suspend Work"})]})]}):null,o(lt,{show:n.completion,toggle:()=>i("completion"),align:"center",children:[o(dt,{children:"Work Completion"}),o(ut,{children:[o("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35.8458 15.8292C37.604 13.801 39.778 12.1748 42.2203 11.0612C44.6625 9.94753 47.3158 9.37246 50 9.37501C55.6542 9.37501 60.7208 11.875 64.1542 15.8292C66.8321 15.638 69.5198 16.0254 72.0347 16.965C74.5496 17.9047 76.8328 19.3746 78.7292 21.275C80.6288 23.1711 82.0982 25.4536 83.0379 27.9677C83.9775 30.4818 84.3653 33.1686 84.175 35.8458C86.2025 37.6044 87.8278 39.7786 88.9407 42.2208C90.0536 44.6631 90.6281 47.3162 90.625 50C90.6276 52.6842 90.0525 55.3375 88.9388 57.7797C87.8252 60.222 86.1991 62.396 84.1708 64.1542C84.3612 66.8314 83.9733 69.5182 83.0337 72.0323C82.0941 74.5464 80.6246 76.8289 78.725 78.725C76.8289 80.6246 74.5464 82.0941 72.0323 83.0337C69.5182 83.9733 66.8314 84.3612 64.1542 84.1708C62.396 86.1991 60.222 87.8252 57.7797 88.9388C55.3375 90.0525 52.6842 90.6276 50 90.625C47.3158 90.6276 44.6625 90.0525 42.2203 88.9388C39.778 87.8252 37.604 86.1991 35.8458 84.1708C33.1682 84.3626 30.4807 83.9759 27.9659 83.0369C25.451 82.098 23.1676 80.6288 21.2708 78.7292C19.3707 76.8326 17.9009 74.5494 16.9613 72.0345C16.0216 69.5197 15.6341 66.8321 15.825 64.1542C13.7976 62.3956 12.1722 60.2214 11.0593 57.7792C9.94636 55.337 9.37194 52.6839 9.37501 50C9.37501 44.3458 11.875 39.2792 15.8292 35.8458C15.6386 33.1686 16.0263 30.4817 16.9659 27.9676C17.9056 25.4535 19.3752 23.1709 21.275 21.275C23.1709 19.3752 25.4535 17.9056 27.9676 16.9659C30.4817 16.0263 33.1686 15.6386 35.8458 15.8292ZM65.0417 42.4417C65.2917 42.1086 65.4726 41.7288 65.5737 41.3248C65.6748 40.9208 65.6942 40.5006 65.6306 40.089C65.5671 39.6774 65.4219 39.2826 65.2036 38.9279C64.9853 38.5732 64.6982 38.2657 64.3594 38.0236C64.0206 37.7814 63.6367 37.6094 63.2305 37.5176C62.8242 37.4259 62.4037 37.4163 61.9937 37.4894C61.5836 37.5625 61.1924 37.7169 60.8428 37.9434C60.4933 38.1699 60.1926 38.464 59.9583 38.8083L46.475 57.6833L39.7083 50.9167C39.1159 50.3647 38.3324 50.0642 37.5228 50.0784C36.7132 50.0927 35.9408 50.4207 35.3683 50.9933C34.7957 51.5658 34.4677 52.3382 34.4534 53.1478C34.4392 53.9574 34.7397 54.7409 35.2917 55.3333L44.6667 64.7083C44.9875 65.0289 45.3742 65.2758 45.8 65.4319C46.2257 65.5879 46.6804 65.6495 47.1324 65.6122C47.5843 65.575 48.0227 65.4398 48.4172 65.216C48.8117 64.9923 49.1527 64.6854 49.4167 64.3167L65.0417 42.4417Z",fill:"#008171"}),o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M33.2763 9.62585C35.3536 7.22944 37.9223 5.30809 40.808 3.99228C43.6936 2.67646 46.8285 1.997 50 2.00001C56.6806 2.00001 62.6671 4.95386 66.7237 9.62585C69.8877 9.39993 73.0633 9.85765 76.0348 10.9679C79.0062 12.0782 81.7039 13.815 83.9446 16.0603C86.189 18.3006 87.9253 20.9975 89.0355 23.968C90.1457 26.9385 90.6039 30.1131 90.3791 33.2763C92.7746 35.3541 94.695 37.923 96.01 40.8086C97.3249 43.6942 98.0036 46.8289 98 50C98.003 53.1715 97.3235 56.3064 96.0077 59.1921C94.6919 62.0777 92.7706 64.6464 90.3741 66.7237C90.599 69.8869 90.1408 73.0615 89.0306 76.032C87.9203 79.0025 86.1841 81.6994 83.9397 83.9397C81.6994 86.1841 79.0025 87.9204 76.032 89.0306C73.0615 90.1408 69.8869 90.599 66.7237 90.3742C64.6463 92.7706 62.0777 94.6919 59.192 96.0077C56.3064 97.3235 53.1715 98.003 50 98C46.8285 98.003 43.6936 97.3235 40.808 96.0077C37.9223 94.6919 35.3536 92.7706 33.2763 90.3742C30.1126 90.6007 26.9373 90.1438 23.9658 89.0344C20.9944 87.925 18.2965 86.1891 16.0554 83.9446C13.8103 81.7038 12.0737 79.006 10.9634 76.0346C9.85321 73.0632 9.39534 69.8877 9.62094 66.7237C7.22542 64.6459 5.305 62.077 3.99004 59.1914C2.67509 56.3058 1.99639 53.1711 2.00001 50C2.00001 43.3194 4.95386 37.3329 9.62586 33.2763C9.40066 30.1131 9.85873 26.9384 10.969 23.9679C12.0792 20.9973 13.8156 18.3004 16.0603 16.0603C18.3004 13.8156 20.9973 12.0792 23.9679 10.969C26.9384 9.85873 30.1131 9.40066 33.2763 9.62585ZM67.7723 41.0695C68.0677 40.6759 68.2814 40.2273 68.4009 39.7499C68.5204 39.2725 68.5433 38.7761 68.4682 38.2897C68.3931 37.8034 68.2215 37.337 67.9636 36.9179C67.7056 36.4988 67.3665 36.1355 66.9662 35.8494C66.5658 35.5632 66.1123 35.36 65.6323 35.2516C65.1523 35.1432 64.6554 35.1319 64.171 35.2183C63.6865 35.3047 63.2242 35.487 62.8112 35.7546C62.3982 36.0223 62.0429 36.3697 61.7661 36.7766L45.8351 59.0782L37.84 51.0831C37.1401 50.4309 36.2143 50.0758 35.2577 50.0927C34.3012 50.1096 33.3885 50.4971 32.712 51.1736C32.0355 51.8501 31.648 52.7627 31.6311 53.7193C31.6143 54.6758 31.9693 55.6016 32.6215 56.3015L43.6985 67.3785C44.0775 67.7572 44.5344 68.0489 45.0375 68.2333C45.5406 68.4178 46.0777 68.4905 46.6118 68.4464C47.1458 68.4024 47.6638 68.2427 48.1299 67.9783C48.5959 67.714 48.9989 67.3514 49.3108 66.9157L67.7723 41.0695Z",fill:"#008171","fill-opacity":"0.1"})]}),o("h4",{className:"app-modal__content__title",children:"Work Completion"}),o("p",{className:"app-modal__content__desc",children:"By proceeding, you can confirm the work is completed, all tools an equipment are reinstated in their initial position, and worksite is left clean and safe."}),o("div",{className:"app-modal__content__footer",children:[o(x,{variant:"secondary",onClick:()=>i("completion"),children:"Cancel"}),o(x,{variant:"success",onClick:d,isLoading:t.isLoading,children:"Complete"})]})]})]}),o(lt,{show:n.suspension,toggle:()=>i("suspension"),align:"center",children:[o(dt,{children:[o("img",{src:"/svgs/danger.svg",alt:"danger"}),"Reject permit"]}),o(ut,{children:o("form",{onSubmit:c,children:[o("div",{className:"app-ptw-reject-modal",children:[o("p",{className:"app-modal__content__desc",children:["By rejecting this permit, it means you have verified all the details and document provided and they do not match the required standards.",o("br",{}),o("br",{}),"Kindly state the reason for rejecting this permit below;"]}),o(ln,{label:"Additional Note",placeholder:"Write here...",...s("notes")})]}),o("div",{className:"app-modal__content__footer",children:[o(x,{variant:"secondary",onClick:()=>i("suspension"),type:"button",children:"Cancel"}),o(x,{type:"submit",variant:"danger",isLoading:e.isLoading,children:"Suspend"})]})]})})]})]})}function gI({permit:r}){const e=X(y_),t=X(_k),n=r.authorizingAuthorityStatus==="APPROVED",{values:{notes:i},getFieldProps:a,values:s}=se({initialValues:{notes:"",permitId:+r.id},validationSchema:re({}),onSubmit:()=>null}),{toggle:c,modals:l}=Qt({confirmApproval:!1,confirmRejection:!1});async function d(){const[h,p]=await e.makeRequest(s);if(p)return q({variant:"error",message:p.message??"Failed to approve permit, please try again"});window.location.reload()}async function u(){const[h,p]=await t.makeRequest(s);if(p)return q({variant:"error",message:p.message??"Failed to reject permit, please try again"});window.location.reload()}return o("div",{className:"app-section",children:[r.authorizingAuthorityStatus==="IN_PROGRESS"?o("div",{className:"app-ptw__details__module",children:[o("h4",{children:"Approval Section"}),o("p",{children:"To approve or reject this permit, ensure you have properly gone through the PTW Details and confirmed all details and documents provided. Kindly fill in addition notes below to add more details (Additional notes must be filled if you are rejecting this permit, to state the reason for rejection)."}),o(ln,{label:"Additional Note",placeholder:"Write here...",...a("notes")}),o("div",{className:"app-ptw__details__module__btn-footer",children:[o(x,{variant:"primary",onClick:()=>c("confirmApproval"),children:"Approve Permit"}),o(x,{variant:"secondary",onClick:()=>c("confirmRejection"),disabled:!i,children:"Reject Permit"})]})]}):o(vt,{show:!0,title:"Approval Details",children:[o(z,{title:"Status",value:n?o("p",{className:"active-text",children:"Approved"}):o("p",{className:"danger-text",children:"Rejected"})}),o(z,{title:"Date",value:le(r.authorizingAuthorityStatusDate).format("MMM DD, YYYY HH:mm A")}),o(z,{title:"Approved by:",value:"ROBERT FOX"}),o(z,{title:"Additional Notes",value:r.hseAuthorityNotes||"--"})]}),o(lt,{show:l.confirmApproval,toggle:()=>c("confirmApproval"),align:"center",children:[o(dt,{children:"Authorizing Authority"}),o(ut,{children:[o("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35.8458 15.8292C37.604 13.801 39.778 12.1748 42.2203 11.0612C44.6625 9.94753 47.3158 9.37246 50 9.37501C55.6542 9.37501 60.7208 11.875 64.1542 15.8292C66.8321 15.638 69.5198 16.0254 72.0347 16.965C74.5496 17.9047 76.8328 19.3746 78.7292 21.275C80.6288 23.1711 82.0982 25.4536 83.0379 27.9677C83.9775 30.4818 84.3653 33.1686 84.175 35.8458C86.2025 37.6044 87.8278 39.7786 88.9407 42.2208C90.0536 44.6631 90.6281 47.3162 90.625 50C90.6276 52.6842 90.0525 55.3375 88.9388 57.7797C87.8252 60.222 86.1991 62.396 84.1708 64.1542C84.3612 66.8314 83.9733 69.5182 83.0337 72.0323C82.0941 74.5464 80.6246 76.8289 78.725 78.725C76.8289 80.6246 74.5464 82.0941 72.0323 83.0337C69.5182 83.9733 66.8314 84.3612 64.1542 84.1708C62.396 86.1991 60.222 87.8252 57.7797 88.9388C55.3375 90.0525 52.6842 90.6276 50 90.625C47.3158 90.6276 44.6625 90.0525 42.2203 88.9388C39.778 87.8252 37.604 86.1991 35.8458 84.1708C33.1682 84.3626 30.4807 83.9759 27.9659 83.0369C25.451 82.098 23.1676 80.6288 21.2708 78.7292C19.3707 76.8326 17.9009 74.5494 16.9613 72.0345C16.0216 69.5197 15.6341 66.8321 15.825 64.1542C13.7976 62.3956 12.1722 60.2214 11.0593 57.7792C9.94636 55.337 9.37194 52.6839 9.37501 50C9.37501 44.3458 11.875 39.2792 15.8292 35.8458C15.6386 33.1686 16.0263 30.4817 16.9659 27.9676C17.9056 25.4535 19.3752 23.1709 21.275 21.275C23.1709 19.3752 25.4535 17.9056 27.9676 16.9659C30.4817 16.0263 33.1686 15.6386 35.8458 15.8292ZM65.0417 42.4417C65.2917 42.1086 65.4726 41.7288 65.5737 41.3248C65.6748 40.9208 65.6942 40.5006 65.6306 40.089C65.5671 39.6774 65.4219 39.2826 65.2036 38.9279C64.9853 38.5732 64.6982 38.2657 64.3594 38.0236C64.0206 37.7814 63.6367 37.6094 63.2305 37.5176C62.8242 37.4259 62.4037 37.4163 61.9937 37.4894C61.5836 37.5625 61.1924 37.7169 60.8428 37.9434C60.4933 38.1699 60.1926 38.464 59.9583 38.8083L46.475 57.6833L39.7083 50.9167C39.1159 50.3647 38.3324 50.0642 37.5228 50.0784C36.7132 50.0927 35.9408 50.4207 35.3683 50.9933C34.7957 51.5658 34.4677 52.3382 34.4534 53.1478C34.4392 53.9574 34.7397 54.7409 35.2917 55.3333L44.6667 64.7083C44.9875 65.0289 45.3742 65.2758 45.8 65.4319C46.2257 65.5879 46.6804 65.6495 47.1324 65.6122C47.5843 65.575 48.0227 65.4398 48.4172 65.216C48.8117 64.9923 49.1527 64.6854 49.4167 64.3167L65.0417 42.4417Z",fill:"#008171"}),o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M33.2763 9.62585C35.3536 7.22944 37.9223 5.30809 40.808 3.99228C43.6936 2.67646 46.8285 1.997 50 2.00001C56.6806 2.00001 62.6671 4.95386 66.7237 9.62585C69.8877 9.39993 73.0633 9.85765 76.0348 10.9679C79.0062 12.0782 81.7039 13.815 83.9446 16.0603C86.189 18.3006 87.9253 20.9975 89.0355 23.968C90.1457 26.9385 90.6039 30.1131 90.3791 33.2763C92.7746 35.3541 94.695 37.923 96.01 40.8086C97.3249 43.6942 98.0036 46.8289 98 50C98.003 53.1715 97.3235 56.3064 96.0077 59.1921C94.6919 62.0777 92.7706 64.6464 90.3741 66.7237C90.599 69.8869 90.1408 73.0615 89.0306 76.032C87.9203 79.0025 86.1841 81.6994 83.9397 83.9397C81.6994 86.1841 79.0025 87.9204 76.032 89.0306C73.0615 90.1408 69.8869 90.599 66.7237 90.3742C64.6463 92.7706 62.0777 94.6919 59.192 96.0077C56.3064 97.3235 53.1715 98.003 50 98C46.8285 98.003 43.6936 97.3235 40.808 96.0077C37.9223 94.6919 35.3536 92.7706 33.2763 90.3742C30.1126 90.6007 26.9373 90.1438 23.9658 89.0344C20.9944 87.925 18.2965 86.1891 16.0554 83.9446C13.8103 81.7038 12.0737 79.006 10.9634 76.0346C9.85321 73.0632 9.39534 69.8877 9.62094 66.7237C7.22542 64.6459 5.305 62.077 3.99004 59.1914C2.67509 56.3058 1.99639 53.1711 2.00001 50C2.00001 43.3194 4.95386 37.3329 9.62586 33.2763C9.40066 30.1131 9.85873 26.9384 10.969 23.9679C12.0792 20.9973 13.8156 18.3004 16.0603 16.0603C18.3004 13.8156 20.9973 12.0792 23.9679 10.969C26.9384 9.85873 30.1131 9.40066 33.2763 9.62585ZM67.7723 41.0695C68.0677 40.6759 68.2814 40.2273 68.4009 39.7499C68.5204 39.2725 68.5433 38.7761 68.4682 38.2897C68.3931 37.8034 68.2215 37.337 67.9636 36.9179C67.7056 36.4988 67.3665 36.1355 66.9662 35.8494C66.5658 35.5632 66.1123 35.36 65.6323 35.2516C65.1523 35.1432 64.6554 35.1319 64.171 35.2183C63.6865 35.3047 63.2242 35.487 62.8112 35.7546C62.3982 36.0223 62.0429 36.3697 61.7661 36.7766L45.8351 59.0782L37.84 51.0831C37.1401 50.4309 36.2143 50.0758 35.2577 50.0927C34.3012 50.1096 33.3885 50.4971 32.712 51.1736C32.0355 51.8501 31.648 52.7627 31.6311 53.7193C31.6143 54.6758 31.9693 55.6016 32.6215 56.3015L43.6985 67.3785C44.0775 67.7572 44.5344 68.0489 45.0375 68.2333C45.5406 68.4178 46.0777 68.4905 46.6118 68.4464C47.1458 68.4024 47.6638 68.2427 48.1299 67.9783C48.5959 67.714 48.9989 67.3514 49.3108 66.9157L67.7723 41.0695Z",fill:"#008171","fill-opacity":"0.1"})]}),o("h4",{className:"app-modal__content__title",children:"Approve Permit"}),o("p",{className:"app-modal__content__desc",children:"By approving this permit, it means you have verified all the details and document provided they match the required standards."}),o("div",{className:"app-modal__content__footer",children:[o(x,{variant:"secondary",onClick:()=>c("confirmApproval"),children:"Cancel"}),o(x,{variant:"success",onClick:d,isLoading:e.isLoading,children:"Approve"})]})]})]}),o(lt,{show:l.confirmRejection,toggle:()=>c("confirmRejection"),align:"center",children:[o(dt,{children:"Authorizing Authority"}),o(ut,{children:[o("img",{src:"/svgs/danger.svg",alt:"danger"}),o("h4",{className:"app-modal__content__title",children:"Reject Permit"}),o("p",{className:"app-modal__content__desc",children:"By rejecting this permit, it means you have verified all the details and document provided and they do not match the required standards."}),o("div",{className:"app-modal__content__footer",children:[o(x,{variant:"secondary",onClick:()=>c("confirmRejection"),children:"Cancel"}),o(x,{variant:"danger",onClick:u,isLoading:t.isLoading,children:"Reject"})]})]})]})]})}function vI({permit:r}){var e;return(e=r.comments)!=null&&e.length?o("div",{className:"app-section",children:[o(x,{variant:"primary",dimension:"md",href:`/permit-management/ptw/add-comment/${r==null?void 0:r.id}`,children:[o(ne,{name:"plus"}),"Add Onsite Note"]}),o("br",{}),o("br",{}),o(vt,{show:!0,title:"All Notes",children:[o(z,{title:"Date",value:""}),o(z,{title:"Posted by",value:""}),o(z,{title:"Note / Comments",value:""}),o(nd,{}),o(z,{title:"Date",value:""}),o(z,{title:"Posted by",value:""}),o(z,{title:"Note / Comments",value:""}),o(nd,{}),o(z,{title:"Date",value:""}),o(z,{title:"Posted by",value:""}),o(z,{title:"Note / Comments",value:""})]})]}):o("div",{className:"base-empty",children:[o("img",{src:"/svgs/comments.svg"}),o("p",{children:["No notes or comments yet.",o("br",{}),"Click the button below to add a note"]}),o(x,{variant:"primary",dimension:"md",href:`/permit-management/ptw/add-comment/${r==null?void 0:r.id}`,children:[o(ne,{name:"plus"}),"Add Onsite Note"]})]})}function _I({permit:r}){const{makeRequest:e,isLoading:t}=X(Uk),{toggle:n,modals:i}=Qt({confirmContinuation:!1});async function a(){n("confirmContinuation");const[s,c]=await e({id:+(r==null?void 0:r.id)});if(c)return q({variant:"error",message:c.message??"Failed to continue permit, please try again"});q({variant:"success",message:s.message})}return(r==null?void 0:r.status)!=="SUSPENDED"?null:o(P,{children:[o("div",{className:"app-ptw__continue",children:[o("div",{children:[o("h3",{children:"Work Continuation"}),o("p",{children:"Click the button for to begin work continuation process"})]}),o(x,{variant:"primary",dimension:"md",isLoading:t,onClick:()=>n("confirmContinuation"),children:"Continue Work"})]}),o(lt,{show:i.confirmContinuation,toggle:()=>n("confirmContinuation"),align:"center",children:[o(dt,{children:"Continuation of Work"}),o(ut,{children:[o("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35.8458 15.8292C37.604 13.801 39.778 12.1748 42.2203 11.0612C44.6625 9.94753 47.3158 9.37246 50 9.37501C55.6542 9.37501 60.7208 11.875 64.1542 15.8292C66.8321 15.638 69.5198 16.0254 72.0347 16.965C74.5496 17.9047 76.8328 19.3746 78.7292 21.275C80.6288 23.1711 82.0982 25.4536 83.0379 27.9677C83.9775 30.4818 84.3653 33.1686 84.175 35.8458C86.2025 37.6044 87.8278 39.7786 88.9407 42.2208C90.0536 44.6631 90.6281 47.3162 90.625 50C90.6276 52.6842 90.0525 55.3375 88.9388 57.7797C87.8252 60.222 86.1991 62.396 84.1708 64.1542C84.3612 66.8314 83.9733 69.5182 83.0337 72.0323C82.0941 74.5464 80.6246 76.8289 78.725 78.725C76.8289 80.6246 74.5464 82.0941 72.0323 83.0337C69.5182 83.9733 66.8314 84.3612 64.1542 84.1708C62.396 86.1991 60.222 87.8252 57.7797 88.9388C55.3375 90.0525 52.6842 90.6276 50 90.625C47.3158 90.6276 44.6625 90.0525 42.2203 88.9388C39.778 87.8252 37.604 86.1991 35.8458 84.1708C33.1682 84.3626 30.4807 83.9759 27.9659 83.0369C25.451 82.098 23.1676 80.6288 21.2708 78.7292C19.3707 76.8326 17.9009 74.5494 16.9613 72.0345C16.0216 69.5197 15.6341 66.8321 15.825 64.1542C13.7976 62.3956 12.1722 60.2214 11.0593 57.7792C9.94636 55.337 9.37194 52.6839 9.37501 50C9.37501 44.3458 11.875 39.2792 15.8292 35.8458C15.6386 33.1686 16.0263 30.4817 16.9659 27.9676C17.9056 25.4535 19.3752 23.1709 21.275 21.275C23.1709 19.3752 25.4535 17.9056 27.9676 16.9659C30.4817 16.0263 33.1686 15.6386 35.8458 15.8292ZM65.0417 42.4417C65.2917 42.1086 65.4726 41.7288 65.5737 41.3248C65.6748 40.9208 65.6942 40.5006 65.6306 40.089C65.5671 39.6774 65.4219 39.2826 65.2036 38.9279C64.9853 38.5732 64.6982 38.2657 64.3594 38.0236C64.0206 37.7814 63.6367 37.6094 63.2305 37.5176C62.8242 37.4259 62.4037 37.4163 61.9937 37.4894C61.5836 37.5625 61.1924 37.7169 60.8428 37.9434C60.4933 38.1699 60.1926 38.464 59.9583 38.8083L46.475 57.6833L39.7083 50.9167C39.1159 50.3647 38.3324 50.0642 37.5228 50.0784C36.7132 50.0927 35.9408 50.4207 35.3683 50.9933C34.7957 51.5658 34.4677 52.3382 34.4534 53.1478C34.4392 53.9574 34.7397 54.7409 35.2917 55.3333L44.6667 64.7083C44.9875 65.0289 45.3742 65.2758 45.8 65.4319C46.2257 65.5879 46.6804 65.6495 47.1324 65.6122C47.5843 65.575 48.0227 65.4398 48.4172 65.216C48.8117 64.9923 49.1527 64.6854 49.4167 64.3167L65.0417 42.4417Z",fill:"#008171"}),o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M33.2763 9.62585C35.3536 7.22944 37.9223 5.30809 40.808 3.99228C43.6936 2.67646 46.8285 1.997 50 2.00001C56.6806 2.00001 62.6671 4.95386 66.7237 9.62585C69.8877 9.39993 73.0633 9.85765 76.0348 10.9679C79.0062 12.0782 81.7039 13.815 83.9446 16.0603C86.189 18.3006 87.9253 20.9975 89.0355 23.968C90.1457 26.9385 90.6039 30.1131 90.3791 33.2763C92.7746 35.3541 94.695 37.923 96.01 40.8086C97.3249 43.6942 98.0036 46.8289 98 50C98.003 53.1715 97.3235 56.3064 96.0077 59.1921C94.6919 62.0777 92.7706 64.6464 90.3741 66.7237C90.599 69.8869 90.1408 73.0615 89.0306 76.032C87.9203 79.0025 86.1841 81.6994 83.9397 83.9397C81.6994 86.1841 79.0025 87.9204 76.032 89.0306C73.0615 90.1408 69.8869 90.599 66.7237 90.3742C64.6463 92.7706 62.0777 94.6919 59.192 96.0077C56.3064 97.3235 53.1715 98.003 50 98C46.8285 98.003 43.6936 97.3235 40.808 96.0077C37.9223 94.6919 35.3536 92.7706 33.2763 90.3742C30.1126 90.6007 26.9373 90.1438 23.9658 89.0344C20.9944 87.925 18.2965 86.1891 16.0554 83.9446C13.8103 81.7038 12.0737 79.006 10.9634 76.0346C9.85321 73.0632 9.39534 69.8877 9.62094 66.7237C7.22542 64.6459 5.305 62.077 3.99004 59.1914C2.67509 56.3058 1.99639 53.1711 2.00001 50C2.00001 43.3194 4.95386 37.3329 9.62586 33.2763C9.40066 30.1131 9.85873 26.9384 10.969 23.9679C12.0792 20.9973 13.8156 18.3004 16.0603 16.0603C18.3004 13.8156 20.9973 12.0792 23.9679 10.969C26.9384 9.85873 30.1131 9.40066 33.2763 9.62585ZM67.7723 41.0695C68.0677 40.6759 68.2814 40.2273 68.4009 39.7499C68.5204 39.2725 68.5433 38.7761 68.4682 38.2897C68.3931 37.8034 68.2215 37.337 67.9636 36.9179C67.7056 36.4988 67.3665 36.1355 66.9662 35.8494C66.5658 35.5632 66.1123 35.36 65.6323 35.2516C65.1523 35.1432 64.6554 35.1319 64.171 35.2183C63.6865 35.3047 63.2242 35.487 62.8112 35.7546C62.3982 36.0223 62.0429 36.3697 61.7661 36.7766L45.8351 59.0782L37.84 51.0831C37.1401 50.4309 36.2143 50.0758 35.2577 50.0927C34.3012 50.1096 33.3885 50.4971 32.712 51.1736C32.0355 51.8501 31.648 52.7627 31.6311 53.7193C31.6143 54.6758 31.9693 55.6016 32.6215 56.3015L43.6985 67.3785C44.0775 67.7572 44.5344 68.0489 45.0375 68.2333C45.5406 68.4178 46.0777 68.4905 46.6118 68.4464C47.1458 68.4024 47.6638 68.2427 48.1299 67.9783C48.5959 67.714 48.9989 67.3514 49.3108 66.9157L67.7723 41.0695Z",fill:"#008171","fill-opacity":"0.1"})]}),o("h4",{className:"app-modal__content__title",children:"Continuation of Work"}),o("p",{className:"app-modal__content__desc",children:"By proceeding, you can confirm the work site has been inspected after the suspension and all controls and precautions are reinstated and in place."}),o("div",{className:"app-modal__content__footer",children:[o(x,{variant:"secondary",onClick:()=>n("confirmContinuation"),children:"Cancel"}),o(x,{variant:"success",onClick:a,isLoading:t,children:"Confirm"})]})]})]})]})}function yI({}){const e=er()[0].matches.id,{response:t,isLoading:n}=X(zf,{id:e},!0),i=t==null?void 0:t.data,a=["PTW Details","Issuing Auth","HSE Auth","Authorizing Auth"];(i==null?void 0:i.status)==="APPROVED"&&a.push("Onsite Notes & Comments");const s=le().isBefore(le(i==null?void 0:i.validityendDate)),{activeTab:c,tabs:l}=Zt(a);return o("div",{className:"app-ptw__details",children:[o(Ne,{title:"Permit Details"}),(i==null?void 0:i.status)==="APPROVED"&&o("div",{className:"app-ptw__print",children:[o("div",{children:[o("h3",{children:"Print Permit"}),o("p",{children:"Click the button to get a hardcopy version of this permit"})]}),o(x,{variant:"primary",dimension:"md",children:[o(ne,{name:"print"}),"Print Permit"]})]}),o("div",{className:"app-section",children:o("div",{className:"app-ptw__header-status",children:[o("div",{children:[o("h4",{children:"Issuing Authority"}),o(Jr,{variant:i==null?void 0:i.issuringAuthorityStatus})]}),o("div",{children:[o("h4",{children:"HSE Authority"}),o(Jr,{variant:i==null?void 0:i.hseAuthorityStatus})]}),o("div",{children:[o("h4",{children:"Authorizing Authority"}),o(Jr,{variant:i==null?void 0:i.authorizingAuthorityStatus})]})]})}),o(ai,{tabs:l}),o(_I,{permit:i}),(i==null?void 0:i.status)==="COMPLETED"?o("div",{className:"app-ptw__renew",children:[o("div",{children:[o("h3",{children:"Renew This Permit"}),o("p",{children:"Click the button for permit renewal"})]}),o(x,{variant:"primary",dimension:"md",onClick:()=>V(`/permit-management/ptw/renew/${i==null?void 0:i.id}`),children:[o(ne,{name:"renew"}),"Renew Permit"]})]}):null,i?o(P,{children:[c==="PTW Details"&&o(mI,{permit:i,isInProgress:s}),c==="Issuing Auth"&&o(fI,{permit:i}),c==="HSE Auth"&&o(pI,{permit:i}),c==="Authorizing Auth"&&o(gI,{permit:i}),c==="Onsite Notes & Comments"&&o(vI,{permit:i})]}):o("div",{className:"base-empty",children:[o("img",{src:"/svgs/document.svg"}),o("p",{children:n?"Fetching permit details, please wait...":"Failed to fetch, please try again"})]})]})}function Jr({variant:r}){return(r==null?void 0:r.toLowerCase())==="approved"?o("span",{"data-variant":r.toLowerCase(),children:[o(ne,{name:"approved"}),"Approved"]}):(r==null?void 0:r.toLowerCase())==="rejected"?o("span",{"data-variant":r.toLowerCase(),children:[o(ne,{name:"rejected"}),"Rejected"]}):(r==null?void 0:r.toLowerCase())==="in_progress"?o("span",{"data-variant":r.toLowerCase(),children:[o(ne,{name:"clock"}),"In Progress"]}):o("span",{"data-variant":(r==null?void 0:r.toLowerCase())||"awaiting",children:[o(ne,{name:"pending"}),"Awaiting"]})}const CI=Ri({context:{measuresOnEquipments:{},precautions:{},fireFighting:{},personalEquipments:{},permitCerts:{},uploadPermitDocs:{},consent:{isReviewed:!1,consentGiven:!1}},initial:"measuresOnEquipments",states:{measuresOnEquipments:{on:{submit:{target:"precautions",actions:["updateContext"]}}},precautions:{on:{submit:{target:"fireFighting",actions:["updateContext"]},goBack:"measuresOnEquipments"}},fireFighting:{on:{submit:{target:"personalEquipments",actions:["updateContext"]},goBack:"precautions"}},personalEquipments:{on:{submit:{target:"permitCerts",actions:["updateContext"]},goBack:"fireFighting"}},permitCerts:{on:{submit:{target:"uploadPermitDocs",actions:["updateContext"]},goBack:"personalEquipments"}},uploadPermitDocs:{on:{submit:{target:"consent",actions:["updateContext"]},goBack:"permitCerts"}},consent:{on:{goBack:"uploadPermitDocs",submit:"success"}},success:{}}},{actions:{updateContext(r,e){return Object.assign(r,e.data)}}}),N_=Ft({});function bI({children:r}){const[e,t,n]=Mi(CI);return Z(()=>{const i=n.subscribe(()=>window.scroll(0,0));return()=>{i.unsubscribe()}},[]),o(N_.Provider,{value:{state:e,send:t},children:r})}function Hi(){return Yt(N_)}function wI(){const{state:r,send:e}=Hi(),[{matches:{id:t}}]=er(),{handleSubmit:n,getFieldProps:i,values:a,setFieldValue:s}=se({initialValues:r.context.measuresOnEquipments,onSubmit:c,validationSchema:AI});function c(l){e("submit",{data:{measuresOnEquipments:l}})}return o("form",{onSubmit:n,className:"app-register__attachment-form",children:[o("h3",{className:"app-register__form__title",children:"MEASURES ON EQUIPMENT / LINES"}),SI.map((l,d)=>o("label",{children:[o(Gt,{checked:a[l.label],onChange:u=>s(l.label,u)}),o("p",{children:l.label})]},d)),o("div",{className:"app-register__form-grid",children:o(ee,{label:"OTHERS",placeholder:"Write here...",...i("others")})}),o("div",{className:"app-register__form-footer",children:[o(x,{href:`/permit-management/ptw/${t}`,variant:"secondary",type:"button",children:"Previous"}),o(x,{variant:"primary",children:"Next"})]})]})}const SI=[{label:"ISOLATION AND TAGGING OF VALVES (Ref. to P&IDs)"},{label:"FLANGES (Ref. to P&IDs and/or other schematic drawings)"},{label:"INSTALLATION"},{label:"REMOVAL"},{label:"LINE DISCONNECTION (Ref. to P&IDs and/or other schematic drawings)"},{label:"DRAINAGE"},{label:"DEPRESSURIZATION"},{label:"INERTING (inert gas / water / steam)"},{label:"VENTILATION (natural / mechanical means)"}],AI=re({});function NI(){const{state:r,send:e}=Hi(),{handleSubmit:t,getFieldProps:n,values:i,setFieldValue:a}=se({initialValues:r.context.precautions,onSubmit:s,validationSchema:TI});function s(c){e("submit",{data:{precautions:c}})}return o("form",{onSubmit:t,className:"app-register__attachment-form",children:[o("h3",{className:"app-register__form__title",children:"PRECAUTION"}),o("div",{className:"app-register__form-grid",children:EI.map((c,l)=>o("label",{className:"base-checkbox-label",children:[o(Gt,{checked:i[c.label],onChange:d=>a(c.label,d)}),o("p",{children:c.label})]},l))}),o("div",{className:"app-register__form-grid",children:o(ee,{label:"OTHERS",placeholder:"Write here...",...n("others")})}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>e("goBack"),children:"Previous"}),o(x,{variant:"primary",children:"Next"})]})]})}const EI=[{label:"SHIELD ADJACENT WORK / EQUIPMENT"},{label:"AREA TO BE CORDONED / WARNING SIGNS / NOTICES"},{label:"WIND DIRECTION"},{label:"SEWERS / DRAIN TO BE CLOSED"},{label:"REMOTE CONTROLLED EQUIPMENT AFFECTED"},{label:"SCAFFOLDING / WORK PLATFORM / RESCUE PLAN IN PLACE"},{label:"EARTHING / BONDING CORRECTLY APPLIED"},{label:"WORK TO STOP DURING ADVERSE WEATHER"},{label:"NON-CONDUCTIVE LADDER"},{label:"USE OF NON-SPARK TOOL"},{label:"ELECTRICAL ISOLATED TOOLS"},{label:"FOAM MAKING EQUIPMENT / FIRE TRUCK"},{label:"VOLTAGE IS BELOW 6KV IF NOT SEE BELOW"},{label:"TBT SIGNED BY WORK FORCE"},{label:"ABOVE 6KV PERSONNEL MUST BE TRAINED TO WORK ON THE SYSTEM"},{label:"GAS TESTING"},{label:"PORTABLE GROUNDING KIT"},{label:"CONTAINMENT OF ANY LIQUID"}],TI=re({});function kI(){const{state:r,send:e}=Hi(),{handleSubmit:t,getFieldProps:n,values:i,setFieldValue:a}=se({initialValues:r.context.fireFighting,onSubmit:s,validationSchema:xI});function s(c){e("submit",{data:{fireFighting:c}})}return o("form",{onSubmit:t,className:"app-register__attachment-form",children:[o("h3",{className:"app-register__form__title",children:"FIREFIGHTING PRECAUTION"}),II.map((c,l)=>o("label",{children:[o(Gt,{checked:i[c.label],onChange:d=>a(c.label,d)}),o("p",{children:c.label})]},l)),o("div",{className:"app-register__form-grid",children:o(ee,{label:"OTHERS",placeholder:"Write here...",...n("others")})}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>e("goBack"),children:"Previous"}),o(x,{variant:"primary",children:"Next"})]})]})}const II=[{label:"FIRE EXTINGUISHER (CO2)"},{label:"FIRE EXTINGUISHER (DCP)"},{label:"REMOVAL OF FLAMMABLE SUBSTANCES"},{label:"EXPLOSION-PROOF WORKING TOOLS (e.g. bronze tools)"},{label:"FLAME PROOF BLANKET"},{label:"GROUNDING OF EQUIPMENT"},{label:"CONTINOUS GAS MONITORING"},{label:"FIREWATCHER / STANDBY MAN"}],xI=re({});function PI(){const{state:r,send:e}=Hi(),{handleSubmit:t,getFieldProps:n,values:i,setFieldValue:a}=se({initialValues:r.context.personalEquipments,onSubmit:s,validationSchema:OI});function s(c){e("submit",{data:{personalEquipments:c}})}return o("form",{onSubmit:t,className:"app-register__attachment-form",children:[o("h3",{className:"app-register__form__title",children:"PERSONAL PROTECTIVE EQUIPMENT"}),o("div",{className:"app-register__form-grid",children:DI.map((c,l)=>o("label",{className:"base-checkbox-label",children:[o(Gt,{checked:i[c.label],onChange:d=>a(c.label,d)}),o("p",{children:c.label})]},l))}),o("div",{className:"app-register__form-grid",children:o(ee,{label:"OTHERS",placeholder:"Write here...",...n("others")})}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>e("goBack"),children:"Previous"}),o(x,{variant:"primary",children:"Next"})]})]})}const DI=[{label:"SAFETY HELMET"},{label:"BEATING APPARATUS"},{label:"SAFETY BOOTS (boots / rubber boots)"},{label:"DUST / FUMES / SPECIAL GAS FILTER MASKS"},{label:"BODY CLOTHING (coverall / full chem / APRON)"},{label:"LIFE JACKET / WORK VESTS"},{label:"GLOVES (chemical / work / weld)"},{label:"ELECTRICAL RESCUE (Shepherds) HOOK"},{label:"SAFETY GLASSES / FACE SHIELD"},{label:"ELECTRICAL STATIC DISCHARGE STICK"},{label:"HEARING PROTECTION (ear muff / ear plugs)"},{label:"FOAM MAKING EQUIPMENT / FIRE TRUCK"},{label:"SAFETY HARNESS (full body type only) / LIFELINE"},{label:"ABOVE 6KV PERSONNEL MUST BE TRAINED TO WORK ON THE SYSTEM"},{label:"PORTABLE GROUNDING KIT"}],OI=re({});function RI(){const{state:r,send:e}=Hi(),{handleSubmit:t,getFieldProps:n}=se({initialValues:r.context.permitCerts,onSubmit:i,validationSchema:MI});function i(a){e("submit",{data:{permitCerts:a}})}return o("form",{onSubmit:t,className:"app-register__attachment-form",children:[o("h3",{className:"app-register__form__title",children:"Complementary Permits, Certificates / Documents"}),o("div",{className:"app-register__form-grid",children:[o(ee,{label:"Entry Certificate",...n("certificateNo")}),o(ee,{label:"Electronic Isolation Cert.",...n("electronicIsolationCert")}),o(ee,{label:"Explosives Cert.",...n("explosivesCert")}),o(ee,{label:"Mechanical isolation Cert.",...n("mechanicalIsolationCert")}),o(ee,{label:"Gas Clearance",...n("gasClearance")}),o(ee,{label:"Scaffolding Cert.",...n("scaffoldingCert")}),o(ee,{label:"MEWP Cert.",...n("mewpCert")}),o(ee,{label:"Man Basket Cert.",...n("manBasketCert")}),o(ee,{label:"Work Near Powerlines Cert.",...n("workNearPowerlineCert")}),o(ee,{label:"Radiography cert.",...n("radiographyCert")}),o(ee,{label:"Excavation Cert.",...n("excavationCert")}),o(ee,{label:"Lift Cert.",...n("liftCert")}),o(ee,{label:"Hot Tapping Cert.",...n("hotTappingCert")}),o(ee,{label:"Diving / ROV Cert.",...n("divingCert")}),o(ee,{label:"Man Riding Cert.",...n("manRidingCert")}),o(ee,{label:"Others",...n("others")})]}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>e("goBack"),children:"Previous"}),o(x,{variant:"primary",children:"Next"})]})]})}const MI=re({certificateNo:oe().required("This field is required"),electronicIsolationCert:oe().required("This field is required"),explosivesCert:oe().required("This field is required"),mechanicalIsolationCert:oe().required("This field is required"),gasClearance:oe().required("This field is required"),scaffoldingCert:oe().required("This field is required"),mewpCert:oe().required("This field is required"),manBasketCert:oe().required("This field is required"),workNearPowerlineCert:oe().required("This field is required"),radiographyCert:oe().required("This field is required"),excavationCert:oe().required("This field is required"),liftCert:oe().required("This field is required"),hotTappingCert:oe().required("This field is required"),divingCert:oe().required("This field is required"),manRidingCert:oe().required("This field is required")});function LI(){const{state:r,send:e}=Hi(),{handleSubmit:t}=se({initialValues:r.context.uploadPermitDocs,onSubmit:n,validationSchema:FI});function n(i){e("submit",{data:{uploadPermitDocs:i}})}return o("form",{onSubmit:t,className:"app-register__attachment-form",children:[o("h3",{className:"app-register__form__title",children:"Complementary Permits, Certificates / Documents"}),o("p",{className:"app-create-permit__description",children:"Ensure you upload authentic documents that are clear and visible."}),o("br",{}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>e("goBack"),children:"Previous"}),o(x,{variant:"primary",children:"Next"})]})]})}const FI=re({});function HI(){const{state:r,send:e}=Hi(),{handleSubmit:t,values:n,setFieldValue:i}=se({initialValues:r.context.consent,onSubmit:a,validationSchema:UI});async function a(){}return o("form",{onSubmit:t,className:"app-register__attachment-form",children:[o("label",{children:[o(Gt,{checked:n.consentGiven,onChange:s=>i("consentGiven",s)}),o("p",{children:"I hereby certify that the listed unit / facility on this permit should be released for work commence, after I have reviewed the worksite with the PA."})]}),o("label",{children:[o(Gt,{checked:n.isReviewed,onChange:s=>i("isReviewed",s)}),o("p",{children:"I hereby confirm that i have properly reviewed all the details and documents provided for this permit"})]}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>e("goBack"),children:"Previous"}),o(x,{variant:"primary",disabled:!n.consentGiven||!n.isReviewed,children:"Next"})]})]})}const UI=re({});function $I(){const[{matches:{id:r}}]=er(),{state:e}=Hi(),t=e.toStrings()[0],n=Ru.indexOf(t)+1;return o("div",{className:"app-register",children:[o("div",{className:"app-register__nav-wrapper app-container-wrapper",children:o("div",{className:"app-container app-register__nav",children:[o("img",{src:"/svgs/logo.svg",alt:"eptw_logo"}),o("h5",{children:"Permit To Work Form / Hot Work"}),o("a",{href:"mailto:helpdesk@oandoplc.com",className:"app-link",children:"Need help?"})]})}),o("div",{className:"app-register__content-wrapper app-container-wrapper ",children:[o("div",{className:"app-register__content app-container",children:[!e.matches("success")&&o(P,{children:[o("div",{className:"app-register__content__header app-create-permit__header",children:[o("h3",{children:[o("span",{children:"Section C -"})," Precautions to be Taken"]}),o("p",{children:["Step ",n," of ",Ru.length]})]}),o("div",{className:"app-register__progress-bar",children:o("span",{style:{width:`${n/Ru.length*100}%`}})})]}),e.matches("measuresOnEquipments")&&o(wI,{}),e.matches("precautions")&&o(NI,{}),e.matches("fireFighting")&&o(kI,{}),e.matches("personalEquipments")&&o(PI,{}),e.matches("permitCerts")&&o(RI,{}),e.matches("uploadPermitDocs")&&o(LI,{}),e.matches("consent")&&o(HI,{}),e.matches("success")&&o("div",{className:"app-approve-permit__success",children:[o("svg",{width:"180",height:"180",viewBox:"0 0 180 180",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M64.5225 28.4925C67.6872 24.8417 71.6004 21.9147 75.9965 19.9101C80.3926 17.9056 85.1685 16.8704 90 16.875C100.178 16.875 109.298 21.375 115.478 28.4925C120.298 28.1483 125.136 28.8456 129.662 30.5371C134.189 32.2285 138.299 34.8744 141.713 38.295C145.132 41.708 147.777 45.8166 149.468 50.3419C151.16 54.8673 151.858 59.7036 151.515 64.5225C155.164 67.6879 158.09 71.6015 160.093 75.9975C162.097 80.3935 163.131 85.1691 163.125 90C163.13 94.8315 162.094 99.6075 160.09 104.004C158.085 108.4 155.158 112.313 151.508 115.478C151.85 120.296 151.152 125.133 149.461 129.658C147.769 134.183 145.124 138.292 141.705 141.705C138.292 145.124 134.183 147.769 129.658 149.461C125.133 151.152 120.296 151.85 115.478 151.508C112.313 155.158 108.4 158.085 104.004 160.09C99.6075 162.094 94.8315 163.13 90 163.125C85.1685 163.13 80.3926 162.094 75.9965 160.09C71.6004 158.085 67.6872 155.158 64.5225 151.508C59.7029 151.853 54.8654 151.157 50.3386 149.466C45.8118 147.776 41.7017 145.132 38.2875 141.713C34.8673 138.299 32.2216 134.189 30.5303 129.662C28.8389 125.135 28.1413 120.298 28.485 115.478C24.8356 112.312 21.91 108.399 19.9067 104.003C17.9035 99.6065 16.8695 94.831 16.875 90C16.875 79.8225 21.375 70.7025 28.4925 64.5225C28.1494 59.7035 28.8473 54.8671 30.5387 50.3417C32.23 45.8162 34.8754 41.7077 38.295 38.295C41.7077 34.8754 45.8162 32.23 50.3417 30.5387C54.8671 28.8473 59.7035 28.1494 64.5225 28.4925ZM117.075 76.395C117.525 75.7954 117.851 75.1119 118.033 74.3846C118.215 73.6574 118.25 72.9011 118.135 72.1602C118.021 71.4193 117.759 70.7087 117.366 70.0702C116.973 69.4318 116.457 68.8783 115.847 68.4424C115.237 68.0065 114.546 67.6968 113.815 67.5317C113.084 67.3666 112.327 67.3494 111.589 67.481C110.851 67.6126 110.146 67.8904 109.517 68.2981C108.888 68.7058 108.347 69.2351 107.925 69.855L83.655 103.83L71.475 91.65C70.4087 90.6564 68.9984 90.1155 67.5411 90.1412C66.0838 90.1669 64.6935 90.7573 63.6629 91.7879C62.6323 92.8185 62.0419 94.2088 62.0162 95.6661C61.9905 97.1234 62.5314 98.5337 63.525 99.6L80.4 116.475C80.9774 117.052 81.6735 117.496 82.4399 117.777C83.2063 118.058 84.0247 118.169 84.8382 118.102C85.6518 118.035 86.4409 117.792 87.151 117.389C87.861 116.986 88.4749 116.434 88.95 115.77L117.075 76.395Z",fill:"#008171"}),o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M62.1272 22.7098C65.5894 18.7157 69.8706 15.5135 74.6799 13.3205C79.4893 11.1274 84.7142 9.99499 90 10C101.134 10 111.112 14.9231 117.873 22.7098C123.146 22.3332 128.439 23.0961 133.391 24.9465C138.344 26.797 142.84 29.6916 146.574 33.4339C150.315 37.1677 153.209 41.6626 155.059 46.6134C156.91 51.5642 157.673 56.8552 157.298 62.1272C161.291 65.5902 164.492 69.8717 166.683 74.681C168.875 79.4903 170.006 84.7149 170 90C170.005 95.2858 168.873 100.511 166.68 105.32C164.487 110.129 161.284 114.411 157.29 117.873C157.665 123.145 156.901 128.436 155.051 133.387C153.201 138.337 150.307 142.832 146.566 146.566C142.832 150.307 138.337 153.201 133.387 155.051C128.436 156.901 123.145 157.665 117.873 157.29C114.411 161.284 110.129 164.487 105.32 166.68C100.511 168.873 95.2858 170.005 90 170C84.7142 170.005 79.4893 168.873 74.6799 166.68C69.8706 164.487 65.5894 161.284 62.1272 157.29C56.8544 157.668 51.5621 156.906 46.6097 155.057C41.6573 153.208 37.1608 150.315 33.4257 146.574C29.6839 142.84 26.7895 138.343 24.9391 133.391C23.0887 128.439 22.3256 123.146 22.7016 117.873C18.709 114.41 15.5083 110.128 13.3167 105.319C11.1251 100.51 9.99398 95.2851 10 90C10 78.8656 14.9231 68.8882 22.7098 62.1272C22.3344 56.8551 23.0979 51.564 24.9483 46.6131C26.7987 41.6622 29.6927 37.1674 33.4339 33.4339C37.1674 29.6927 41.6622 26.7987 46.6131 24.9483C51.564 23.0979 56.8551 22.3344 62.1272 22.7098ZM119.62 75.1159C120.113 74.4599 120.469 73.7121 120.668 72.9165C120.867 72.1209 120.905 71.2935 120.78 70.4829C120.655 69.6723 120.369 68.895 119.939 68.1965C119.509 67.498 118.944 66.8925 118.277 66.4156C117.61 65.9387 116.854 65.5999 116.054 65.4193C115.254 65.2387 114.426 65.2198 113.618 65.3638C112.811 65.5078 112.04 65.8117 111.352 66.2577C110.664 66.7038 110.072 67.2829 109.61 67.961L83.0585 105.13L69.7333 91.8051C68.5668 90.7181 67.0238 90.1263 65.4296 90.1545C63.8353 90.1826 62.3142 90.8284 61.1867 91.9559C60.0592 93.0834 59.4134 94.6045 59.3852 96.1988C59.3571 97.7931 59.9489 99.336 61.0359 100.503L79.4974 118.964C80.1292 119.595 80.8907 120.082 81.7291 120.389C82.5676 120.696 83.4629 120.817 84.3529 120.744C85.2429 120.671 86.1063 120.404 86.8831 119.964C87.6599 119.523 88.3315 118.919 88.8513 118.193L119.62 75.1159Z",fill:"#008171","fill-opacity":"0.1"})]}),o("h3",{children:"Permits Success fully Approved"}),o("p",{children:"You have successfully approved this permit. And it has been moved ahead to other authorities."}),o(x,{href:`/permit-management/ptw/${r}`,variant:"primary",children:"View Permit Details"}),o(x,{href:"/permit-management/",variant:"secondary",children:"Back To All Permits"})]})]}),o("img",{src:"/svgs/auth-blur.svg",alt:"auth-blur"})]})]})}function BI({}){return o(bI,{children:o($I,{})})}const Ru=["measuresOnEquipments","precautions","fireFighting","personalEquipments","permitCerts","uploadPermitDocs","consent","success"];function VI({}){const{makeRequest:r,isLoading:e}=X(Sk),[{matches:{id:t}}]=er(),{getFieldProps:n,handleSubmit:i}=se({initialValues:{permitId:+t,startDate:"",startTime:"",endDate:"",endTime:"",gasTesterName:"",gasTestDate:"",o2Percentage:"",co:"",h2s:"",lel:""},validationSchema:YI,onSubmit:a});async function a(s){const[c,l]=await r(s);if(l)return q({variant:"error",message:l.message??"Failed to renew permit. Please try again"});q({variant:"success",message:"Permit renewed successfully"}),V(`/permit-management/ptw/${t}`)}return o("div",{className:"app-register",children:[o("div",{className:"app-register__nav-wrapper app-container-wrapper",children:o("div",{className:"app-container app-register__nav",children:[o("img",{src:"/svgs/logo.svg",alt:"eptw_logo"}),o("h5",{children:"Permit To Work Form / Hot Work"}),o("a",{href:"mailto:helpdesk@oandoplc.com",className:"app-link",children:"Need help?"})]})}),o("div",{className:"app-register__content-wrapper app-container-wrapper ",children:[o("div",{className:"app-register__content app-container",children:[o("div",{className:"app-register__content__header app-create-permit__header",children:o("h3",{children:"PERMIT RENEWAL"})}),o("br",{}),o("br",{}),o("form",{className:"app-register__form",onSubmit:i,children:[o("div",{className:"app-register__form-grid",children:[o("h3",{style:{marginBottom:"20px"},children:"Start Date"}),o("h3",{style:{marginBottom:"20px"},children:"End Date"}),o("div",{className:"app-register__form-grid",children:[o(ee,{label:"Date",placeholder:"dd / mm / yyyy",type:"date",...n("startDate")}),o(ee,{label:"Time",type:"time",placeholder:"00:00AM",...n("startTime")})]}),o("div",{className:"app-register__form-grid",children:[o(ee,{label:"Date",placeholder:"dd / mm / yyyy",type:"date",...n("endDate")}),o(ee,{label:"Time",type:"time",placeholder:"00:00AM",...n("endTime")})]}),o(ee,{label:"Name of Gas Tester",placeholder:"Enter gas tester",type:"text",...n("gasTesterName")}),o(ee,{label:"Date Gas Test",placeholder:"dd / mm / yyyy",type:"date",...n("gasTestDate")}),o(ee,{label:"25% > O2 < 19.5%",placeholder:"---",type:"text",...n("o2Percentage")}),o(ee,{label:"CO:",placeholder:"---",type:"text",...n("co")}),o(ee,{label:"H2S < 2PPM",placeholder:"---",type:"text",...n("h2s")}),o(ee,{label:"L.E.L < 10%",placeholder:"---",type:"text",...n("lel")})]}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",href:`/permit-management/ptw/${t}`,children:"Back"}),o(x,{variant:"primary",isLoading:e,children:"Next"})]})]})]}),o("img",{src:"/svgs/auth-blur.svg",alt:"auth-blur"})]})]})}const YI=re({startDate:oe().required("This field is required"),startTime:oe().required("This field is required"),endDate:oe().required("This field is required"),endTime:oe().required("This field is required"),gasTesterName:oe().required("This field is required"),gasTestDate:oe().required("This field is required"),o2Percentage:oe().required("This field is required"),co:oe().required("This field is required"),h2s:oe().required("This field is required"),lel:oe().required("This field is required")});function WI({}){const[{matches:{id:r}}]=er(),{isLoading:e,makeRequest:t}=X(Ak),{handleSubmit:n,getFieldProps:i}=se({onSubmit:a,initialValues:{permitId:+r,content:""},validationSchema:re({content:oe().required("This field is required")})});async function a(s){const[c,l]=await t(s);if(l)return q({variant:"error",message:l.message??"Failed to add comment. Please try again"});q({variant:"success",message:"Comment added successfully"}),V(`/permit-management/ptw/${r}`)}return o("div",{className:"app-register",children:[o("div",{className:"app-register__nav-wrapper app-container-wrapper",children:o("div",{className:"app-container app-register__nav",children:[o("img",{src:"/svgs/logo.svg",alt:"eptw_logo"}),o("a",{href:"mailto:helpdesk@oandoplc.com",className:"app-link",children:"Need help?"})]})}),o("div",{className:"app-register__content-wrapper app-container-wrapper ",children:[o("div",{className:"app-register__content app-container",children:[o("div",{className:"app-register__content__header app-create-permit__header",children:o("h3",{children:"ONSITE NOTE / COMMENT"})}),o("br",{}),o("br",{}),o("form",{className:"app-register__form",onSubmit:n,children:[o(ln,{placeholder:"Write here...",...i("content")}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",href:`/permit-management/ptw/${r}`,children:"Back"}),o(x,{variant:"primary",isLoading:e,children:"Submit"})]})]})]}),o("img",{src:"/svgs/auth-blur.svg",alt:"auth-blur"})]})]})}function Fa({flag:r}){var n,i;const{response:e,isLoading:t}=X(Tk,{flag:r},!0);return o("div",{className:"app-section",children:[o(je,{children:[o(Ct,{children:o(me,{children:[o(D,{children:"PTW No."}),o(D,{children:"Start Date"}),o(D,{children:"End Date"}),o(D,{children:"Gas Tester"}),o(D,{children:"Status"}),o(D,{})]})}),o(Qe,{children:(n=e==null?void 0:e.data)==null?void 0:n.map(a=>{var s;return o(me,{children:[o(D,{children:a.permitId}),o(D,{children:le(a.startDate).format("MMM DD, YYYY")}),o(D,{children:le(a.endDate).format("MMM DD, YYYY")}),o(D,{children:a.gasTesterName}),o(D,{children:o("div",{className:`base-tag--${zI(a.status)}`,children:(s=a.status)==null?void 0:s.replace("_"," ").toLowerCase()})}),o(D,{children:o(x,{href:`/permit-renewals/ptw/${a.id}`,variant:"outline",children:"View"})})]},a.id)})})]}),!((i=e==null?void 0:e.data)!=null&&i.length)&&o("div",{className:"base-empty",children:[o("img",{src:"/svgs/document.svg"}),o("p",{children:t?"Fetching permits, please wait...":"No permits yet"})]})]})}function zI(r){switch(r){case"IN_PROGRESS":return"warn";case"APPROVED":return"success";case"REJECTED":return"danger";case"COMPLETED":return"success";case"SUSPENDED":return"warn"}}function jI({}){const{tabs:r,activeTab:e}=Zt(["All Permits","Safety Officer","Issuing Auth. Supervisor","Approved","Rejected"]);return o(P,{children:[o(Ne,{title:"Permit Renewals"}),o("div",{className:"app-section__header",children:[o($n,{placeholder:"Search by user name",onSearch:""}),o(_o,{variant:"secondary"})]}),o(ai,{tabs:r}),e==="All Permits"&&o(Fa,{}),e==="Safety Officer"&&o(Fa,{flag:"safety"}),e==="Issuing Auth. Supervisor"&&o(Fa,{flag:"issuing"}),e==="Approved"&&o(Fa,{flag:"approved"}),e==="Rejected"&&o(Fa,{flag:"rejected"})]})}function qI({permit:r}){const e=X(Ik),t=X(xk),n=r.safetyOfficerStatus==="APPROVED",{values:{notes:i},getFieldProps:a,values:s}=se({initialValues:{notes:"",renewalId:+r.id},validationSchema:re({}),onSubmit:()=>null}),{toggle:c,modals:l}=Qt({confirmApproval:!1,confirmRejection:!1});async function d(){const[h,p]=await e.makeRequest(s);if(p)return q({variant:"error",message:p.message??"Failed to approve permit, please try again"});window.location.reload()}async function u(){const[h,p]=await t.makeRequest(s);if(p)return q({variant:"error",message:p.message??"Failed to reject permit, please try again"});window.location.reload()}return o("div",{className:"app-section",children:[r.safetyOfficerStatus==="IN_PROGRESS"?o("div",{className:"app-ptw__details__module",children:[o("h4",{children:"Approval Section"}),o("p",{children:"To approve or reject this permit, ensure you have properly gone through the PTW Details and confirmed all details and documents provided. Kindly fill in addition notes below to add more details (Additional notes must be filled if you are rejecting this permit, to state the reason for rejection)."}),o(ln,{label:"Additional Note",placeholder:"Write here...",...a("notes")}),o("div",{className:"app-ptw__details__module__btn-footer",children:[o(x,{variant:"primary",onClick:()=>c("confirmApproval"),children:"Approve Permit"}),o(x,{variant:"secondary",onClick:()=>c("confirmRejection"),disabled:!i,children:"Reject Permit"})]})]}):o(vt,{show:!0,title:"Approval Details",children:[o(z,{title:"Status",value:n?o("p",{className:"active-text",children:"Approved"}):o("p",{className:"danger-text",children:"Rejected"})}),o(z,{title:"Date",value:le(r.safetyOfficerStatusDate).format("MMM DD, YYYY HH:mm A")}),o(z,{title:"Approved by:",value:`${r.safetyOfficer.firstname} ${r.safetyOfficer.lastname}`}),o(z,{title:"Additional Notes",value:r.safetyOfficerNotes||"--"})]}),o(lt,{show:l.confirmApproval,toggle:()=>c("confirmApproval"),align:"center",children:[o(dt,{children:"Safety Officer"}),o(ut,{children:[o("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35.8458 15.8292C37.604 13.801 39.778 12.1748 42.2203 11.0612C44.6625 9.94753 47.3158 9.37246 50 9.37501C55.6542 9.37501 60.7208 11.875 64.1542 15.8292C66.8321 15.638 69.5198 16.0254 72.0347 16.965C74.5496 17.9047 76.8328 19.3746 78.7292 21.275C80.6288 23.1711 82.0982 25.4536 83.0379 27.9677C83.9775 30.4818 84.3653 33.1686 84.175 35.8458C86.2025 37.6044 87.8278 39.7786 88.9407 42.2208C90.0536 44.6631 90.6281 47.3162 90.625 50C90.6276 52.6842 90.0525 55.3375 88.9388 57.7797C87.8252 60.222 86.1991 62.396 84.1708 64.1542C84.3612 66.8314 83.9733 69.5182 83.0337 72.0323C82.0941 74.5464 80.6246 76.8289 78.725 78.725C76.8289 80.6246 74.5464 82.0941 72.0323 83.0337C69.5182 83.9733 66.8314 84.3612 64.1542 84.1708C62.396 86.1991 60.222 87.8252 57.7797 88.9388C55.3375 90.0525 52.6842 90.6276 50 90.625C47.3158 90.6276 44.6625 90.0525 42.2203 88.9388C39.778 87.8252 37.604 86.1991 35.8458 84.1708C33.1682 84.3626 30.4807 83.9759 27.9659 83.0369C25.451 82.098 23.1676 80.6288 21.2708 78.7292C19.3707 76.8326 17.9009 74.5494 16.9613 72.0345C16.0216 69.5197 15.6341 66.8321 15.825 64.1542C13.7976 62.3956 12.1722 60.2214 11.0593 57.7792C9.94636 55.337 9.37194 52.6839 9.37501 50C9.37501 44.3458 11.875 39.2792 15.8292 35.8458C15.6386 33.1686 16.0263 30.4817 16.9659 27.9676C17.9056 25.4535 19.3752 23.1709 21.275 21.275C23.1709 19.3752 25.4535 17.9056 27.9676 16.9659C30.4817 16.0263 33.1686 15.6386 35.8458 15.8292ZM65.0417 42.4417C65.2917 42.1086 65.4726 41.7288 65.5737 41.3248C65.6748 40.9208 65.6942 40.5006 65.6306 40.089C65.5671 39.6774 65.4219 39.2826 65.2036 38.9279C64.9853 38.5732 64.6982 38.2657 64.3594 38.0236C64.0206 37.7814 63.6367 37.6094 63.2305 37.5176C62.8242 37.4259 62.4037 37.4163 61.9937 37.4894C61.5836 37.5625 61.1924 37.7169 60.8428 37.9434C60.4933 38.1699 60.1926 38.464 59.9583 38.8083L46.475 57.6833L39.7083 50.9167C39.1159 50.3647 38.3324 50.0642 37.5228 50.0784C36.7132 50.0927 35.9408 50.4207 35.3683 50.9933C34.7957 51.5658 34.4677 52.3382 34.4534 53.1478C34.4392 53.9574 34.7397 54.7409 35.2917 55.3333L44.6667 64.7083C44.9875 65.0289 45.3742 65.2758 45.8 65.4319C46.2257 65.5879 46.6804 65.6495 47.1324 65.6122C47.5843 65.575 48.0227 65.4398 48.4172 65.216C48.8117 64.9923 49.1527 64.6854 49.4167 64.3167L65.0417 42.4417Z",fill:"#008171"}),o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M33.2763 9.62585C35.3536 7.22944 37.9223 5.30809 40.808 3.99228C43.6936 2.67646 46.8285 1.997 50 2.00001C56.6806 2.00001 62.6671 4.95386 66.7237 9.62585C69.8877 9.39993 73.0633 9.85765 76.0348 10.9679C79.0062 12.0782 81.7039 13.815 83.9446 16.0603C86.189 18.3006 87.9253 20.9975 89.0355 23.968C90.1457 26.9385 90.6039 30.1131 90.3791 33.2763C92.7746 35.3541 94.695 37.923 96.01 40.8086C97.3249 43.6942 98.0036 46.8289 98 50C98.003 53.1715 97.3235 56.3064 96.0077 59.1921C94.6919 62.0777 92.7706 64.6464 90.3741 66.7237C90.599 69.8869 90.1408 73.0615 89.0306 76.032C87.9203 79.0025 86.1841 81.6994 83.9397 83.9397C81.6994 86.1841 79.0025 87.9204 76.032 89.0306C73.0615 90.1408 69.8869 90.599 66.7237 90.3742C64.6463 92.7706 62.0777 94.6919 59.192 96.0077C56.3064 97.3235 53.1715 98.003 50 98C46.8285 98.003 43.6936 97.3235 40.808 96.0077C37.9223 94.6919 35.3536 92.7706 33.2763 90.3742C30.1126 90.6007 26.9373 90.1438 23.9658 89.0344C20.9944 87.925 18.2965 86.1891 16.0554 83.9446C13.8103 81.7038 12.0737 79.006 10.9634 76.0346C9.85321 73.0632 9.39534 69.8877 9.62094 66.7237C7.22542 64.6459 5.305 62.077 3.99004 59.1914C2.67509 56.3058 1.99639 53.1711 2.00001 50C2.00001 43.3194 4.95386 37.3329 9.62586 33.2763C9.40066 30.1131 9.85873 26.9384 10.969 23.9679C12.0792 20.9973 13.8156 18.3004 16.0603 16.0603C18.3004 13.8156 20.9973 12.0792 23.9679 10.969C26.9384 9.85873 30.1131 9.40066 33.2763 9.62585ZM67.7723 41.0695C68.0677 40.6759 68.2814 40.2273 68.4009 39.7499C68.5204 39.2725 68.5433 38.7761 68.4682 38.2897C68.3931 37.8034 68.2215 37.337 67.9636 36.9179C67.7056 36.4988 67.3665 36.1355 66.9662 35.8494C66.5658 35.5632 66.1123 35.36 65.6323 35.2516C65.1523 35.1432 64.6554 35.1319 64.171 35.2183C63.6865 35.3047 63.2242 35.487 62.8112 35.7546C62.3982 36.0223 62.0429 36.3697 61.7661 36.7766L45.8351 59.0782L37.84 51.0831C37.1401 50.4309 36.2143 50.0758 35.2577 50.0927C34.3012 50.1096 33.3885 50.4971 32.712 51.1736C32.0355 51.8501 31.648 52.7627 31.6311 53.7193C31.6143 54.6758 31.9693 55.6016 32.6215 56.3015L43.6985 67.3785C44.0775 67.7572 44.5344 68.0489 45.0375 68.2333C45.5406 68.4178 46.0777 68.4905 46.6118 68.4464C47.1458 68.4024 47.6638 68.2427 48.1299 67.9783C48.5959 67.714 48.9989 67.3514 49.3108 66.9157L67.7723 41.0695Z",fill:"#008171","fill-opacity":"0.1"})]}),o("h4",{className:"app-modal__content__title",children:"Approve Permit"}),o("p",{className:"app-modal__content__desc",children:"By approving this permit, it means you have verified all the details and document provided they match the required standards."}),o("div",{className:"app-modal__content__footer",children:[o(x,{variant:"secondary",onClick:()=>c("confirmApproval"),children:"Cancel"}),o(x,{variant:"success",onClick:d,isLoading:e.isLoading,children:"Approve"})]})]})]}),o(lt,{show:l.confirmRejection,toggle:()=>c("confirmRejection"),align:"center",children:[o(dt,{children:"Safety Officer"}),o(ut,{children:[o("img",{src:"/svgs/danger.svg",alt:"danger"}),o("h4",{className:"app-modal__content__title",children:"Reject Permit"}),o("p",{className:"app-modal__content__desc",children:"By rejecting this permit, it means you have verified all the details and document provided and they do not match the required standards."}),o("div",{className:"app-modal__content__footer",children:[o(x,{variant:"secondary",onClick:()=>c("confirmRejection"),children:"Cancel"}),o(x,{variant:"danger",onClick:u,isLoading:t.isLoading,children:"Reject"})]})]})]})]})}function KI({permit:r}){const e=X(Pk),t=X(Dk),n=r.issuringAuthoritySupStatus==="APPROVED",{values:{notes:i},getFieldProps:a,values:s}=se({initialValues:{notes:"",renewalId:+r.id},validationSchema:re({}),onSubmit:()=>null}),{toggle:c,modals:l}=Qt({confirmApproval:!1,confirmRejection:!1});async function d(){const[h,p]=await e.makeRequest(s);if(p)return q({variant:"error",message:p.message??"Failed to approve permit, please try again"});window.location.reload()}async function u(){const[h,p]=await t.makeRequest(s);if(p)return q({variant:"error",message:p.message??"Failed to reject permit, please try again"});window.location.reload()}return o("div",{className:"app-section",children:[r.issuringAuthoritySupStatus==="IN_PROGRESS"?o("div",{className:"app-ptw__details__module",children:[o("h4",{children:"Approval Section"}),o("p",{children:"To approve or reject this permit, ensure you have properly gone through the PTW Details and confirmed all details and documents provided. Kindly fill in addition notes below to add more details (Additional notes must be filled if you are rejecting this permit, to state the reason for rejection)."}),o(ln,{label:"Additional Note",placeholder:"Write here...",...a("notes")}),o("div",{className:"app-ptw__details__module__btn-footer",children:[o(x,{variant:"primary",onClick:()=>c("confirmApproval"),children:"Approve Permit"}),o(x,{variant:"secondary",onClick:()=>c("confirmRejection"),disabled:!i,children:"Reject Permit"})]})]}):o(vt,{show:!0,title:"Approval Details",children:[o(z,{title:"Status",value:n?o("p",{className:"active-text",children:"Approved"}):o("p",{className:"danger-text",children:"Rejected"})}),o(z,{title:"Date",value:le(r.issuringAuthoritySupStatusDate).format("MMM DD, YYYY HH:mm A")}),o(z,{title:"Approved by:",value:`${r.issuringAuthoritySup.firstname} ${r.issuringAuthoritySup.lastname}`}),o(z,{title:"Additional Notes",value:r.issuringAuthoritySupNotes||"--"})]}),o(lt,{show:l.confirmApproval,toggle:()=>c("confirmApproval"),align:"center",children:[o(dt,{children:"Issuing Auth"}),o(ut,{children:[o("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35.8458 15.8292C37.604 13.801 39.778 12.1748 42.2203 11.0612C44.6625 9.94753 47.3158 9.37246 50 9.37501C55.6542 9.37501 60.7208 11.875 64.1542 15.8292C66.8321 15.638 69.5198 16.0254 72.0347 16.965C74.5496 17.9047 76.8328 19.3746 78.7292 21.275C80.6288 23.1711 82.0982 25.4536 83.0379 27.9677C83.9775 30.4818 84.3653 33.1686 84.175 35.8458C86.2025 37.6044 87.8278 39.7786 88.9407 42.2208C90.0536 44.6631 90.6281 47.3162 90.625 50C90.6276 52.6842 90.0525 55.3375 88.9388 57.7797C87.8252 60.222 86.1991 62.396 84.1708 64.1542C84.3612 66.8314 83.9733 69.5182 83.0337 72.0323C82.0941 74.5464 80.6246 76.8289 78.725 78.725C76.8289 80.6246 74.5464 82.0941 72.0323 83.0337C69.5182 83.9733 66.8314 84.3612 64.1542 84.1708C62.396 86.1991 60.222 87.8252 57.7797 88.9388C55.3375 90.0525 52.6842 90.6276 50 90.625C47.3158 90.6276 44.6625 90.0525 42.2203 88.9388C39.778 87.8252 37.604 86.1991 35.8458 84.1708C33.1682 84.3626 30.4807 83.9759 27.9659 83.0369C25.451 82.098 23.1676 80.6288 21.2708 78.7292C19.3707 76.8326 17.9009 74.5494 16.9613 72.0345C16.0216 69.5197 15.6341 66.8321 15.825 64.1542C13.7976 62.3956 12.1722 60.2214 11.0593 57.7792C9.94636 55.337 9.37194 52.6839 9.37501 50C9.37501 44.3458 11.875 39.2792 15.8292 35.8458C15.6386 33.1686 16.0263 30.4817 16.9659 27.9676C17.9056 25.4535 19.3752 23.1709 21.275 21.275C23.1709 19.3752 25.4535 17.9056 27.9676 16.9659C30.4817 16.0263 33.1686 15.6386 35.8458 15.8292ZM65.0417 42.4417C65.2917 42.1086 65.4726 41.7288 65.5737 41.3248C65.6748 40.9208 65.6942 40.5006 65.6306 40.089C65.5671 39.6774 65.4219 39.2826 65.2036 38.9279C64.9853 38.5732 64.6982 38.2657 64.3594 38.0236C64.0206 37.7814 63.6367 37.6094 63.2305 37.5176C62.8242 37.4259 62.4037 37.4163 61.9937 37.4894C61.5836 37.5625 61.1924 37.7169 60.8428 37.9434C60.4933 38.1699 60.1926 38.464 59.9583 38.8083L46.475 57.6833L39.7083 50.9167C39.1159 50.3647 38.3324 50.0642 37.5228 50.0784C36.7132 50.0927 35.9408 50.4207 35.3683 50.9933C34.7957 51.5658 34.4677 52.3382 34.4534 53.1478C34.4392 53.9574 34.7397 54.7409 35.2917 55.3333L44.6667 64.7083C44.9875 65.0289 45.3742 65.2758 45.8 65.4319C46.2257 65.5879 46.6804 65.6495 47.1324 65.6122C47.5843 65.575 48.0227 65.4398 48.4172 65.216C48.8117 64.9923 49.1527 64.6854 49.4167 64.3167L65.0417 42.4417Z",fill:"#008171"}),o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M33.2763 9.62585C35.3536 7.22944 37.9223 5.30809 40.808 3.99228C43.6936 2.67646 46.8285 1.997 50 2.00001C56.6806 2.00001 62.6671 4.95386 66.7237 9.62585C69.8877 9.39993 73.0633 9.85765 76.0348 10.9679C79.0062 12.0782 81.7039 13.815 83.9446 16.0603C86.189 18.3006 87.9253 20.9975 89.0355 23.968C90.1457 26.9385 90.6039 30.1131 90.3791 33.2763C92.7746 35.3541 94.695 37.923 96.01 40.8086C97.3249 43.6942 98.0036 46.8289 98 50C98.003 53.1715 97.3235 56.3064 96.0077 59.1921C94.6919 62.0777 92.7706 64.6464 90.3741 66.7237C90.599 69.8869 90.1408 73.0615 89.0306 76.032C87.9203 79.0025 86.1841 81.6994 83.9397 83.9397C81.6994 86.1841 79.0025 87.9204 76.032 89.0306C73.0615 90.1408 69.8869 90.599 66.7237 90.3742C64.6463 92.7706 62.0777 94.6919 59.192 96.0077C56.3064 97.3235 53.1715 98.003 50 98C46.8285 98.003 43.6936 97.3235 40.808 96.0077C37.9223 94.6919 35.3536 92.7706 33.2763 90.3742C30.1126 90.6007 26.9373 90.1438 23.9658 89.0344C20.9944 87.925 18.2965 86.1891 16.0554 83.9446C13.8103 81.7038 12.0737 79.006 10.9634 76.0346C9.85321 73.0632 9.39534 69.8877 9.62094 66.7237C7.22542 64.6459 5.305 62.077 3.99004 59.1914C2.67509 56.3058 1.99639 53.1711 2.00001 50C2.00001 43.3194 4.95386 37.3329 9.62586 33.2763C9.40066 30.1131 9.85873 26.9384 10.969 23.9679C12.0792 20.9973 13.8156 18.3004 16.0603 16.0603C18.3004 13.8156 20.9973 12.0792 23.9679 10.969C26.9384 9.85873 30.1131 9.40066 33.2763 9.62585ZM67.7723 41.0695C68.0677 40.6759 68.2814 40.2273 68.4009 39.7499C68.5204 39.2725 68.5433 38.7761 68.4682 38.2897C68.3931 37.8034 68.2215 37.337 67.9636 36.9179C67.7056 36.4988 67.3665 36.1355 66.9662 35.8494C66.5658 35.5632 66.1123 35.36 65.6323 35.2516C65.1523 35.1432 64.6554 35.1319 64.171 35.2183C63.6865 35.3047 63.2242 35.487 62.8112 35.7546C62.3982 36.0223 62.0429 36.3697 61.7661 36.7766L45.8351 59.0782L37.84 51.0831C37.1401 50.4309 36.2143 50.0758 35.2577 50.0927C34.3012 50.1096 33.3885 50.4971 32.712 51.1736C32.0355 51.8501 31.648 52.7627 31.6311 53.7193C31.6143 54.6758 31.9693 55.6016 32.6215 56.3015L43.6985 67.3785C44.0775 67.7572 44.5344 68.0489 45.0375 68.2333C45.5406 68.4178 46.0777 68.4905 46.6118 68.4464C47.1458 68.4024 47.6638 68.2427 48.1299 67.9783C48.5959 67.714 48.9989 67.3514 49.3108 66.9157L67.7723 41.0695Z",fill:"#008171","fill-opacity":"0.1"})]}),o("h4",{className:"app-modal__content__title",children:"Approve Permit"}),o("p",{className:"app-modal__content__desc",children:"By approving this permit, it means you have verified all the details and document provided they match the required standards."}),o("div",{className:"app-modal__content__footer",children:[o(x,{variant:"secondary",onClick:()=>c("confirmApproval"),children:"Cancel"}),o(x,{variant:"success",onClick:d,isLoading:e.isLoading,children:"Approve"})]})]})]}),o(lt,{show:l.confirmRejection,toggle:()=>c("confirmRejection"),align:"center",children:[o(dt,{children:"Issuing Auth"}),o(ut,{children:[o("img",{src:"/svgs/danger.svg",alt:"danger"}),o("h4",{className:"app-modal__content__title",children:"Reject Permit"}),o("p",{className:"app-modal__content__desc",children:"By rejecting this permit, it means you have verified all the details and document provided and they do not match the required standards."}),o("div",{className:"app-modal__content__footer",children:[o(x,{variant:"secondary",onClick:()=>c("confirmRejection"),children:"Cancel"}),o(x,{variant:"danger",onClick:u,isLoading:t.isLoading,children:"Reject"})]})]})]})]})}function GI({}){const[{matches:{id:r}}]=er(),{isLoading:e,response:t}=X(kk,{id:r},!0),n=t==null?void 0:t.data,{activeTab:i,tabs:a}=Zt(["Renewal Details","Safety Officer","Issuing Auth."]);return o("div",{className:"app-ptw__details",children:[o(Ne,{title:"Permit Renewal Details"}),o("div",{className:"app-section",children:o("div",{className:"app-ptw__header-status",style:{gridTemplateColumns:"1fr 1fr"},children:[o("div",{children:[o("h4",{children:"Safety Officer"}),o(Jr,{variant:n==null?void 0:n.safetyOfficerStatus})]}),o("div",{children:[o("h4",{children:"Issuing Authority"}),o(Jr,{variant:n==null?void 0:n.issuringAuthoritySupStatus})]})]})}),o(ai,{tabs:a}),n?o(P,{children:[i==="Renewal Details"&&o("div",{className:"app-section",children:[o(vt,{show:!0,children:[o(z,{title:"Start Date & Time",value:le(n.startDate).format("DD / MM / YYYY. HH:mm A")}),o(z,{title:"End Date & Time",value:le(n.endDate).format("DD / MM / YYYY. HH:mm A")}),o(z,{title:"Name of Gas Tester",value:n.gasTesterName}),o(z,{title:"Date Gas Test",value:le(n.gasTestDate).format("DD / MM / YYYY. HH:mm A")}),o(z,{title:"23.5% > O2 < 19.5%t",value:"MECHANICAL"}),o(z,{title:"CO",value:n.o2Percentage}),o(z,{title:"H2S < 2PPM",value:n.h2s}),o(z,{title:"L.E.L. < 10%",value:n.lel})]}),o(vt,{show:!0,children:[o(z,{title:"Date Created",value:le(n.createdAt).format("DD / MM / YYYY. HH:mm A")}),o(z,{title:"Initiated by:",value:`${n.initiator.firstname} ${n.initiator.lastname}`}),o(z,{title:"PTW No.",value:n.permitId})]})]}),i==="Safety Officer"&&o(qI,{permit:n}),i==="Issuing Auth."&&o(KI,{permit:n})]}):o("div",{className:"base-empty",children:[o("img",{src:"/svgs/document.svg"}),o("p",{children:e?"Fetching permit renewal details, please wait...":"Failed to fetch, please try again"})]})]})}function Ha({flag:r}){var n,i;const{response:e,isLoading:t}=X(Ok,{flag:r},!0);return o("div",{className:"app-section",children:[o(je,{children:[o(Ct,{children:o(me,{children:[o(D,{children:"PTW No."}),o(D,{children:"Start Date"}),o(D,{children:"Work To Be Performed"}),o(D,{children:"Location of Work"}),o(D,{children:"Exec. Company"}),o(D,{children:"Status"}),o(D,{})]})}),o(Qe,{children:(n=e==null?void 0:e.data)==null?void 0:n.map(a=>{var s;return o(me,{children:[o(D,{children:a.id}),o(D,{children:le(a.validityStartDate).format("MMM DD, YYYY")}),o(D,{children:a.workDescription??"-"}),o(D,{children:"AKRI"}),o(D,{children:"Pasquale_Appaito"}),o(D,{children:o("div",{className:`base-tag--${QI(a.status)}`,children:(s=a.status)==null?void 0:s.replace("_"," ").toLowerCase()})}),o(D,{children:o(x,{href:`/permit-completions/${a.id}`,variant:"outline",children:"View"})})]},a.id)})})]}),!((i=e==null?void 0:e.data)!=null&&i.length)&&o("div",{className:"base-empty",children:[o("img",{src:"/svgs/document.svg"}),o("p",{children:t?"Fetching permits, please wait...":"No permits yet"})]})]})}function QI(r){switch(r){case"IN_PROGRESS":return"warn";case"APPROVED":return"success";case"REJECTED":return"danger";case"COMPLETED":return"success";case"SUSPENDED":return"warn"}}function ZI({}){const{tabs:r,activeTab:e}=Zt(["All Permits","Safety Officer","Issuing Auth. Supervisor","Approved","Rejected"]);return o(P,{children:[o(Ne,{title:"Work Completions"}),o("div",{className:"app-section__header",children:o(_o,{variant:"secondary"})}),o(ai,{tabs:r}),e==="All Permits"&&o(Ha,{}),e==="Safety Officer"&&o(Ha,{flag:"safety"}),e==="Issuing Auth. Supervisor"&&o(Ha,{flag:"issuing"}),e==="Approved"&&o(Ha,{flag:"approved"}),e==="Rejected"&&o(Ha,{flag:"rejected"})]})}function XI({permit:r}){const e=X(Rk),t=X(Mk),n=r.completionHseOfficerStatus==="APPROVED",{toggle:i,modals:a}=Qt({confirmApproval:!1,confirmRejection:!1});async function s(){const[l,d]=await e.makeRequest({id:+r.id});if(d)return q({variant:"error",message:d.message??"Failed to approve permit, please try again"});window.location.reload()}async function c(){const[l,d]=await t.makeRequest({id:+r.id});if(d)return q({variant:"error",message:d.message??"Failed to reject permit, please try again"});window.location.reload()}return o("div",{className:"app-section",children:[r.completionHseOfficerStatus==="IN_PROGRESS"?o("div",{className:"app-ptw__details__module",children:[o("h4",{children:"Approval Section"}),o("p",{children:"To approve the completion fo this project, you can confirm the work is completed, all tools an equipment are reinstated in their initial position, and worksite is left clean and safe."}),o("div",{className:"app-ptw__details__module__btn-footer",children:o(x,{variant:"primary",onClick:()=>i("confirmApproval"),children:"Approve Permit"})})]}):o(vt,{show:!0,title:"Approval Details",children:[o(z,{title:"Status",value:n?o("p",{className:"active-text",children:"Approved"}):o("p",{className:"danger-text",children:"Rejected"})}),o(z,{title:"Date",value:le(r.completionHseOfficerStatusDate).format("MMM DD, YYYY HH:mm A")}),o(z,{title:"Approved by:",value:"MECHANICAL"})]}),o(lt,{show:a.confirmApproval,toggle:()=>i("confirmApproval"),align:"center",children:[o(dt,{children:"HSE Officer"}),o(ut,{children:[o("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35.8458 15.8292C37.604 13.801 39.778 12.1748 42.2203 11.0612C44.6625 9.94753 47.3158 9.37246 50 9.37501C55.6542 9.37501 60.7208 11.875 64.1542 15.8292C66.8321 15.638 69.5198 16.0254 72.0347 16.965C74.5496 17.9047 76.8328 19.3746 78.7292 21.275C80.6288 23.1711 82.0982 25.4536 83.0379 27.9677C83.9775 30.4818 84.3653 33.1686 84.175 35.8458C86.2025 37.6044 87.8278 39.7786 88.9407 42.2208C90.0536 44.6631 90.6281 47.3162 90.625 50C90.6276 52.6842 90.0525 55.3375 88.9388 57.7797C87.8252 60.222 86.1991 62.396 84.1708 64.1542C84.3612 66.8314 83.9733 69.5182 83.0337 72.0323C82.0941 74.5464 80.6246 76.8289 78.725 78.725C76.8289 80.6246 74.5464 82.0941 72.0323 83.0337C69.5182 83.9733 66.8314 84.3612 64.1542 84.1708C62.396 86.1991 60.222 87.8252 57.7797 88.9388C55.3375 90.0525 52.6842 90.6276 50 90.625C47.3158 90.6276 44.6625 90.0525 42.2203 88.9388C39.778 87.8252 37.604 86.1991 35.8458 84.1708C33.1682 84.3626 30.4807 83.9759 27.9659 83.0369C25.451 82.098 23.1676 80.6288 21.2708 78.7292C19.3707 76.8326 17.9009 74.5494 16.9613 72.0345C16.0216 69.5197 15.6341 66.8321 15.825 64.1542C13.7976 62.3956 12.1722 60.2214 11.0593 57.7792C9.94636 55.337 9.37194 52.6839 9.37501 50C9.37501 44.3458 11.875 39.2792 15.8292 35.8458C15.6386 33.1686 16.0263 30.4817 16.9659 27.9676C17.9056 25.4535 19.3752 23.1709 21.275 21.275C23.1709 19.3752 25.4535 17.9056 27.9676 16.9659C30.4817 16.0263 33.1686 15.6386 35.8458 15.8292ZM65.0417 42.4417C65.2917 42.1086 65.4726 41.7288 65.5737 41.3248C65.6748 40.9208 65.6942 40.5006 65.6306 40.089C65.5671 39.6774 65.4219 39.2826 65.2036 38.9279C64.9853 38.5732 64.6982 38.2657 64.3594 38.0236C64.0206 37.7814 63.6367 37.6094 63.2305 37.5176C62.8242 37.4259 62.4037 37.4163 61.9937 37.4894C61.5836 37.5625 61.1924 37.7169 60.8428 37.9434C60.4933 38.1699 60.1926 38.464 59.9583 38.8083L46.475 57.6833L39.7083 50.9167C39.1159 50.3647 38.3324 50.0642 37.5228 50.0784C36.7132 50.0927 35.9408 50.4207 35.3683 50.9933C34.7957 51.5658 34.4677 52.3382 34.4534 53.1478C34.4392 53.9574 34.7397 54.7409 35.2917 55.3333L44.6667 64.7083C44.9875 65.0289 45.3742 65.2758 45.8 65.4319C46.2257 65.5879 46.6804 65.6495 47.1324 65.6122C47.5843 65.575 48.0227 65.4398 48.4172 65.216C48.8117 64.9923 49.1527 64.6854 49.4167 64.3167L65.0417 42.4417Z",fill:"#008171"}),o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M33.2763 9.62585C35.3536 7.22944 37.9223 5.30809 40.808 3.99228C43.6936 2.67646 46.8285 1.997 50 2.00001C56.6806 2.00001 62.6671 4.95386 66.7237 9.62585C69.8877 9.39993 73.0633 9.85765 76.0348 10.9679C79.0062 12.0782 81.7039 13.815 83.9446 16.0603C86.189 18.3006 87.9253 20.9975 89.0355 23.968C90.1457 26.9385 90.6039 30.1131 90.3791 33.2763C92.7746 35.3541 94.695 37.923 96.01 40.8086C97.3249 43.6942 98.0036 46.8289 98 50C98.003 53.1715 97.3235 56.3064 96.0077 59.1921C94.6919 62.0777 92.7706 64.6464 90.3741 66.7237C90.599 69.8869 90.1408 73.0615 89.0306 76.032C87.9203 79.0025 86.1841 81.6994 83.9397 83.9397C81.6994 86.1841 79.0025 87.9204 76.032 89.0306C73.0615 90.1408 69.8869 90.599 66.7237 90.3742C64.6463 92.7706 62.0777 94.6919 59.192 96.0077C56.3064 97.3235 53.1715 98.003 50 98C46.8285 98.003 43.6936 97.3235 40.808 96.0077C37.9223 94.6919 35.3536 92.7706 33.2763 90.3742C30.1126 90.6007 26.9373 90.1438 23.9658 89.0344C20.9944 87.925 18.2965 86.1891 16.0554 83.9446C13.8103 81.7038 12.0737 79.006 10.9634 76.0346C9.85321 73.0632 9.39534 69.8877 9.62094 66.7237C7.22542 64.6459 5.305 62.077 3.99004 59.1914C2.67509 56.3058 1.99639 53.1711 2.00001 50C2.00001 43.3194 4.95386 37.3329 9.62586 33.2763C9.40066 30.1131 9.85873 26.9384 10.969 23.9679C12.0792 20.9973 13.8156 18.3004 16.0603 16.0603C18.3004 13.8156 20.9973 12.0792 23.9679 10.969C26.9384 9.85873 30.1131 9.40066 33.2763 9.62585ZM67.7723 41.0695C68.0677 40.6759 68.2814 40.2273 68.4009 39.7499C68.5204 39.2725 68.5433 38.7761 68.4682 38.2897C68.3931 37.8034 68.2215 37.337 67.9636 36.9179C67.7056 36.4988 67.3665 36.1355 66.9662 35.8494C66.5658 35.5632 66.1123 35.36 65.6323 35.2516C65.1523 35.1432 64.6554 35.1319 64.171 35.2183C63.6865 35.3047 63.2242 35.487 62.8112 35.7546C62.3982 36.0223 62.0429 36.3697 61.7661 36.7766L45.8351 59.0782L37.84 51.0831C37.1401 50.4309 36.2143 50.0758 35.2577 50.0927C34.3012 50.1096 33.3885 50.4971 32.712 51.1736C32.0355 51.8501 31.648 52.7627 31.6311 53.7193C31.6143 54.6758 31.9693 55.6016 32.6215 56.3015L43.6985 67.3785C44.0775 67.7572 44.5344 68.0489 45.0375 68.2333C45.5406 68.4178 46.0777 68.4905 46.6118 68.4464C47.1458 68.4024 47.6638 68.2427 48.1299 67.9783C48.5959 67.714 48.9989 67.3514 49.3108 66.9157L67.7723 41.0695Z",fill:"#008171","fill-opacity":"0.1"})]}),o("h4",{className:"app-modal__content__title",children:"Approve Permit"}),o("p",{className:"app-modal__content__desc",children:"By approving this permit, it means you have verified all the details and document provided they match the required standards."}),o("div",{className:"app-modal__content__footer",children:[o(x,{variant:"secondary",onClick:()=>i("confirmApproval"),children:"Cancel"}),o(x,{variant:"success",onClick:s,isLoading:e.isLoading,children:"Approve"})]})]})]}),o(lt,{show:a.confirmRejection,toggle:()=>i("confirmRejection"),align:"center",children:[o(dt,{children:"HSE Officer"}),o(ut,{children:[o("img",{src:"/svgs/danger.svg",alt:"danger"}),o("h4",{className:"app-modal__content__title",children:"Reject Permit"}),o("p",{className:"app-modal__content__desc",children:"By rejecting this permit, it means you have verified all the details and document provided and they do not match the required standards."}),o("div",{className:"app-modal__content__footer",children:[o(x,{variant:"secondary",onClick:()=>i("confirmRejection"),children:"Cancel"}),o(x,{variant:"danger",onClick:c,isLoading:t.isLoading,children:"Reject"})]})]})]})]})}function JI({permit:r}){const e=X(Lk),t=X(Fk),n=r.completionIssuringAuthSupStatus==="APPROVED",{toggle:i,modals:a}=Qt({confirmApproval:!1,confirmRejection:!1});async function s(){const[l,d]=await e.makeRequest({id:+r.id});if(d)return q({variant:"error",message:d.message??"Failed to approve permit, please try again"});window.location.reload()}async function c(){const[l,d]=await t.makeRequest({id:+r.id});if(d)return q({variant:"error",message:d.message??"Failed to reject permit, please try again"});window.location.reload()}return o("div",{className:"app-section",children:[r.completionIssuringAuthSupStatus==="IN_PROGRESS"?o("div",{className:"app-ptw__details__module",children:[o("h4",{children:"Approval Section"}),o("p",{children:"To approve the completion fo this project, you can confirm the work is completed, all tools an equipment are reinstated in their initial position, and worksite is left clean and safe."}),o("div",{className:"app-ptw__details__module__btn-footer",children:o(x,{variant:"primary",onClick:()=>i("confirmApproval"),children:"Approve Permit"})})]}):o(vt,{show:!0,title:"Approval Details",children:[o(z,{title:"Status",value:n?o("p",{className:"active-text",children:"Approved"}):o("p",{className:"danger-text",children:"Rejected"})}),o(z,{title:"Date",value:le(r.completionIssuringAuthSupStatusDate).format("MMM DD, YYYY HH:mm A")}),o(z,{title:"Approved by:",value:"MECHANICAL"})]}),o(lt,{show:a.confirmApproval,toggle:()=>i("confirmApproval"),align:"center",children:[o(dt,{children:"Issuing Auth. Supervisor"}),o(ut,{children:[o("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35.8458 15.8292C37.604 13.801 39.778 12.1748 42.2203 11.0612C44.6625 9.94753 47.3158 9.37246 50 9.37501C55.6542 9.37501 60.7208 11.875 64.1542 15.8292C66.8321 15.638 69.5198 16.0254 72.0347 16.965C74.5496 17.9047 76.8328 19.3746 78.7292 21.275C80.6288 23.1711 82.0982 25.4536 83.0379 27.9677C83.9775 30.4818 84.3653 33.1686 84.175 35.8458C86.2025 37.6044 87.8278 39.7786 88.9407 42.2208C90.0536 44.6631 90.6281 47.3162 90.625 50C90.6276 52.6842 90.0525 55.3375 88.9388 57.7797C87.8252 60.222 86.1991 62.396 84.1708 64.1542C84.3612 66.8314 83.9733 69.5182 83.0337 72.0323C82.0941 74.5464 80.6246 76.8289 78.725 78.725C76.8289 80.6246 74.5464 82.0941 72.0323 83.0337C69.5182 83.9733 66.8314 84.3612 64.1542 84.1708C62.396 86.1991 60.222 87.8252 57.7797 88.9388C55.3375 90.0525 52.6842 90.6276 50 90.625C47.3158 90.6276 44.6625 90.0525 42.2203 88.9388C39.778 87.8252 37.604 86.1991 35.8458 84.1708C33.1682 84.3626 30.4807 83.9759 27.9659 83.0369C25.451 82.098 23.1676 80.6288 21.2708 78.7292C19.3707 76.8326 17.9009 74.5494 16.9613 72.0345C16.0216 69.5197 15.6341 66.8321 15.825 64.1542C13.7976 62.3956 12.1722 60.2214 11.0593 57.7792C9.94636 55.337 9.37194 52.6839 9.37501 50C9.37501 44.3458 11.875 39.2792 15.8292 35.8458C15.6386 33.1686 16.0263 30.4817 16.9659 27.9676C17.9056 25.4535 19.3752 23.1709 21.275 21.275C23.1709 19.3752 25.4535 17.9056 27.9676 16.9659C30.4817 16.0263 33.1686 15.6386 35.8458 15.8292ZM65.0417 42.4417C65.2917 42.1086 65.4726 41.7288 65.5737 41.3248C65.6748 40.9208 65.6942 40.5006 65.6306 40.089C65.5671 39.6774 65.4219 39.2826 65.2036 38.9279C64.9853 38.5732 64.6982 38.2657 64.3594 38.0236C64.0206 37.7814 63.6367 37.6094 63.2305 37.5176C62.8242 37.4259 62.4037 37.4163 61.9937 37.4894C61.5836 37.5625 61.1924 37.7169 60.8428 37.9434C60.4933 38.1699 60.1926 38.464 59.9583 38.8083L46.475 57.6833L39.7083 50.9167C39.1159 50.3647 38.3324 50.0642 37.5228 50.0784C36.7132 50.0927 35.9408 50.4207 35.3683 50.9933C34.7957 51.5658 34.4677 52.3382 34.4534 53.1478C34.4392 53.9574 34.7397 54.7409 35.2917 55.3333L44.6667 64.7083C44.9875 65.0289 45.3742 65.2758 45.8 65.4319C46.2257 65.5879 46.6804 65.6495 47.1324 65.6122C47.5843 65.575 48.0227 65.4398 48.4172 65.216C48.8117 64.9923 49.1527 64.6854 49.4167 64.3167L65.0417 42.4417Z",fill:"#008171"}),o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M33.2763 9.62585C35.3536 7.22944 37.9223 5.30809 40.808 3.99228C43.6936 2.67646 46.8285 1.997 50 2.00001C56.6806 2.00001 62.6671 4.95386 66.7237 9.62585C69.8877 9.39993 73.0633 9.85765 76.0348 10.9679C79.0062 12.0782 81.7039 13.815 83.9446 16.0603C86.189 18.3006 87.9253 20.9975 89.0355 23.968C90.1457 26.9385 90.6039 30.1131 90.3791 33.2763C92.7746 35.3541 94.695 37.923 96.01 40.8086C97.3249 43.6942 98.0036 46.8289 98 50C98.003 53.1715 97.3235 56.3064 96.0077 59.1921C94.6919 62.0777 92.7706 64.6464 90.3741 66.7237C90.599 69.8869 90.1408 73.0615 89.0306 76.032C87.9203 79.0025 86.1841 81.6994 83.9397 83.9397C81.6994 86.1841 79.0025 87.9204 76.032 89.0306C73.0615 90.1408 69.8869 90.599 66.7237 90.3742C64.6463 92.7706 62.0777 94.6919 59.192 96.0077C56.3064 97.3235 53.1715 98.003 50 98C46.8285 98.003 43.6936 97.3235 40.808 96.0077C37.9223 94.6919 35.3536 92.7706 33.2763 90.3742C30.1126 90.6007 26.9373 90.1438 23.9658 89.0344C20.9944 87.925 18.2965 86.1891 16.0554 83.9446C13.8103 81.7038 12.0737 79.006 10.9634 76.0346C9.85321 73.0632 9.39534 69.8877 9.62094 66.7237C7.22542 64.6459 5.305 62.077 3.99004 59.1914C2.67509 56.3058 1.99639 53.1711 2.00001 50C2.00001 43.3194 4.95386 37.3329 9.62586 33.2763C9.40066 30.1131 9.85873 26.9384 10.969 23.9679C12.0792 20.9973 13.8156 18.3004 16.0603 16.0603C18.3004 13.8156 20.9973 12.0792 23.9679 10.969C26.9384 9.85873 30.1131 9.40066 33.2763 9.62585ZM67.7723 41.0695C68.0677 40.6759 68.2814 40.2273 68.4009 39.7499C68.5204 39.2725 68.5433 38.7761 68.4682 38.2897C68.3931 37.8034 68.2215 37.337 67.9636 36.9179C67.7056 36.4988 67.3665 36.1355 66.9662 35.8494C66.5658 35.5632 66.1123 35.36 65.6323 35.2516C65.1523 35.1432 64.6554 35.1319 64.171 35.2183C63.6865 35.3047 63.2242 35.487 62.8112 35.7546C62.3982 36.0223 62.0429 36.3697 61.7661 36.7766L45.8351 59.0782L37.84 51.0831C37.1401 50.4309 36.2143 50.0758 35.2577 50.0927C34.3012 50.1096 33.3885 50.4971 32.712 51.1736C32.0355 51.8501 31.648 52.7627 31.6311 53.7193C31.6143 54.6758 31.9693 55.6016 32.6215 56.3015L43.6985 67.3785C44.0775 67.7572 44.5344 68.0489 45.0375 68.2333C45.5406 68.4178 46.0777 68.4905 46.6118 68.4464C47.1458 68.4024 47.6638 68.2427 48.1299 67.9783C48.5959 67.714 48.9989 67.3514 49.3108 66.9157L67.7723 41.0695Z",fill:"#008171","fill-opacity":"0.1"})]}),o("h4",{className:"app-modal__content__title",children:"Approve Permit"}),o("p",{className:"app-modal__content__desc",children:"By approving this permit, it means you have verified all the details and document provided they match the required standards."}),o("div",{className:"app-modal__content__footer",children:[o(x,{variant:"secondary",onClick:()=>i("confirmApproval"),children:"Cancel"}),o(x,{variant:"success",onClick:s,isLoading:e.isLoading,children:"Approve"})]})]})]}),o(lt,{show:a.confirmRejection,toggle:()=>i("confirmRejection"),align:"center",children:[o(dt,{children:"Issuing Auth. Supervisor"}),o(ut,{children:[o("img",{src:"/svgs/danger.svg",alt:"danger"}),o("h4",{className:"app-modal__content__title",children:"Reject Permit"}),o("p",{className:"app-modal__content__desc",children:"By rejecting this permit, it means you have verified all the details and document provided and they do not match the required standards."}),o("div",{className:"app-modal__content__footer",children:[o(x,{variant:"secondary",onClick:()=>i("confirmRejection"),children:"Cancel"}),o(x,{variant:"danger",onClick:c,isLoading:t.isLoading,children:"Reject"})]})]})]})]})}function ex({}){const[{matches:{id:r}}]=er(),{isLoading:e,response:t}=X(zf,{id:r},!0),n=t==null?void 0:t.data,{activeTab:i,tabs:a}=Zt(["Completion Request","HSE Officer","Issuing Auth. Supervisor"]);return o("div",{className:"app-ptw__details",children:[o(Ne,{title:"Work Completion Details"}),o("div",{className:"app-section",children:o("div",{className:"app-ptw__header-status",style:{gridTemplateColumns:"1fr 1fr"},children:[o("div",{children:[o("h4",{children:"HSE Officer"}),o(Jr,{variant:n==null?void 0:n.completionHseOfficerStatus})]}),o("div",{children:[o("h4",{children:"Issuing Authority Supervisor"}),o(Jr,{variant:n==null?void 0:n.completionIssuringAuthSupStatus})]})]})}),o(ai,{tabs:a}),n?o(P,{children:[i==="Completion Request"&&o("div",{className:"app-section",children:o(vt,{show:!0,children:[o(z,{title:"Initiated by:",value:"MECHANICAL"}),o(z,{title:"Date Requested",value:le(n.completionRequestDate).format("DD MMM YYYY. HH:mm A")}),o(z,{title:"PTW No.",value:n.id})]})}),i==="HSE Officer"&&o(XI,{permit:n}),i==="Issuing Auth. Supervisor"&&o(JI,{permit:n})]}):o("div",{className:"base-empty",children:[o("img",{src:"/svgs/document.svg"}),o("p",{children:e?"Fetching permit Completion Request, please wait...":"Failed to fetch, please try again"})]})]})}function Xa({flag:r,detailsLink:e="/permit-management/ptw/",api:t=Hk}){var a,s;const{response:n,isLoading:i}=X(t,{flag:r},!0);return o("div",{className:"app-section",children:[o(je,{children:[o(Ct,{children:o(me,{children:[o(D,{children:"PTW No."}),o(D,{children:"Start Date"}),o(D,{children:"Work To Be Performed"}),o(D,{children:"Location of Work"}),o(D,{children:"Exec. Company"}),o(D,{children:"Status"}),o(D,{})]})}),o(Qe,{children:(a=n==null?void 0:n.data)==null?void 0:a.map(c=>{var l;return o(me,{children:[o(D,{children:c.id}),o(D,{children:le(c.validityStartDate).format("MMM DD, YYYY")}),o(D,{children:c.workDescription??"-"}),o(D,{children:"AKRI"}),o(D,{children:"Pasquale_Appaito"}),o(D,{children:o("div",{className:`base-tag--${tx(c.status)}`,children:(l=c.status)==null?void 0:l.replace("_"," ").toLowerCase()})}),o(D,{children:o(x,{href:`${e}${c.id}`,variant:"outline",children:"View"})})]},c.id)})})]}),!((s=n==null?void 0:n.data)!=null&&s.length)&&o("div",{className:"base-empty",children:[o("img",{src:"/svgs/document.svg"}),o("p",{children:i?"Fetching permits, please wait...":"No permits yet"})]})]})}function tx(r){switch(r){case"IN_PROGRESS":return"warn";case"APPROVED":return"success";case"REJECTED":return"danger";case"COMPLETED":return"success";case"SUSPENDED":return"warn"}}function nx({}){const{tabs:r,activeTab:e}=Zt(["SUSPENDED WORKS","WORK CONTINUATION"]);return o(P,{children:[o(Ne,{title:"Work Completions"}),o("div",{className:"app-section__header",children:o(_o,{variant:"secondary"})}),o(ai,{tabs:r}),e==="SUSPENDED WORKS"&&o(Xa,{}),e==="WORK CONTINUATION"&&o(rx,{})]})}function rx(){const{tabs:r,activeTab:e}=Zt(["All Requests","HSE Officer","Issuing Auth. Supervisor","Approved"]);return o(P,{children:[o(ai,{tabs:r}),e==="All Requests"&&o(Xa,{api:Ec,flag:"all",detailsLink:"/permit-suspensions/continuation/"}),e==="HSE Officer"&&o(Xa,{api:Ec,flag:"hse",detailsLink:"/permit-suspensions/continuation/"}),e==="Issuing Auth. Supervisor"&&o(Xa,{api:Ec,flag:"issuing",detailsLink:"/permit-suspensions/continuation/"}),e==="Approved"&&o(Xa,{api:Ec,flag:"approved",detailsLink:"/permit-suspensions/continuation/"})]})}function ix({permit:r}){const e=X($k),t=r.continuationHseOfficerStatus==="APPROVED",{toggle:n,modals:i}=Qt({confirmApproval:!1,confirmRejection:!1});async function a(){const[s,c]=await e.makeRequest({id:+r.id});if(c)return q({variant:"error",message:c.message??"Failed to approve continuation, please try again"});window.location.reload()}return o("div",{className:"app-section",children:[r.continuationHseOfficerStatus==="IN_PROGRESS"?o("div",{className:"app-ptw__details__module",children:[o("h4",{children:"Approval Section"}),o("p",{children:"To approve this permit, ensure you have properly gone through the PTW Details and confirmed all details and documents provided. Kindly fill in addition notes below to add more details."}),o("div",{className:"app-ptw__details__module__btn-footer",children:o(x,{variant:"primary",onClick:()=>n("confirmApproval"),children:"Approve Permit"})})]}):o(vt,{show:!0,title:"Approval Details",children:[o(z,{title:"Status",value:t?o("p",{className:"active-text",children:"Approved"}):o("p",{className:"danger-text",children:"Rejected"})}),o(z,{title:"Date",value:le(r.continuationHseOfficerStatusDate).format("MMM DD, YYYY HH:mm A")}),o(z,{title:"Approved by:",value:"MECHANICAL"})]}),o(lt,{show:i.confirmApproval,toggle:()=>n("confirmApproval"),align:"center",children:[o(dt,{children:"HSE Officer"}),o(ut,{children:[o("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35.8458 15.8292C37.604 13.801 39.778 12.1748 42.2203 11.0612C44.6625 9.94753 47.3158 9.37246 50 9.37501C55.6542 9.37501 60.7208 11.875 64.1542 15.8292C66.8321 15.638 69.5198 16.0254 72.0347 16.965C74.5496 17.9047 76.8328 19.3746 78.7292 21.275C80.6288 23.1711 82.0982 25.4536 83.0379 27.9677C83.9775 30.4818 84.3653 33.1686 84.175 35.8458C86.2025 37.6044 87.8278 39.7786 88.9407 42.2208C90.0536 44.6631 90.6281 47.3162 90.625 50C90.6276 52.6842 90.0525 55.3375 88.9388 57.7797C87.8252 60.222 86.1991 62.396 84.1708 64.1542C84.3612 66.8314 83.9733 69.5182 83.0337 72.0323C82.0941 74.5464 80.6246 76.8289 78.725 78.725C76.8289 80.6246 74.5464 82.0941 72.0323 83.0337C69.5182 83.9733 66.8314 84.3612 64.1542 84.1708C62.396 86.1991 60.222 87.8252 57.7797 88.9388C55.3375 90.0525 52.6842 90.6276 50 90.625C47.3158 90.6276 44.6625 90.0525 42.2203 88.9388C39.778 87.8252 37.604 86.1991 35.8458 84.1708C33.1682 84.3626 30.4807 83.9759 27.9659 83.0369C25.451 82.098 23.1676 80.6288 21.2708 78.7292C19.3707 76.8326 17.9009 74.5494 16.9613 72.0345C16.0216 69.5197 15.6341 66.8321 15.825 64.1542C13.7976 62.3956 12.1722 60.2214 11.0593 57.7792C9.94636 55.337 9.37194 52.6839 9.37501 50C9.37501 44.3458 11.875 39.2792 15.8292 35.8458C15.6386 33.1686 16.0263 30.4817 16.9659 27.9676C17.9056 25.4535 19.3752 23.1709 21.275 21.275C23.1709 19.3752 25.4535 17.9056 27.9676 16.9659C30.4817 16.0263 33.1686 15.6386 35.8458 15.8292ZM65.0417 42.4417C65.2917 42.1086 65.4726 41.7288 65.5737 41.3248C65.6748 40.9208 65.6942 40.5006 65.6306 40.089C65.5671 39.6774 65.4219 39.2826 65.2036 38.9279C64.9853 38.5732 64.6982 38.2657 64.3594 38.0236C64.0206 37.7814 63.6367 37.6094 63.2305 37.5176C62.8242 37.4259 62.4037 37.4163 61.9937 37.4894C61.5836 37.5625 61.1924 37.7169 60.8428 37.9434C60.4933 38.1699 60.1926 38.464 59.9583 38.8083L46.475 57.6833L39.7083 50.9167C39.1159 50.3647 38.3324 50.0642 37.5228 50.0784C36.7132 50.0927 35.9408 50.4207 35.3683 50.9933C34.7957 51.5658 34.4677 52.3382 34.4534 53.1478C34.4392 53.9574 34.7397 54.7409 35.2917 55.3333L44.6667 64.7083C44.9875 65.0289 45.3742 65.2758 45.8 65.4319C46.2257 65.5879 46.6804 65.6495 47.1324 65.6122C47.5843 65.575 48.0227 65.4398 48.4172 65.216C48.8117 64.9923 49.1527 64.6854 49.4167 64.3167L65.0417 42.4417Z",fill:"#008171"}),o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M33.2763 9.62585C35.3536 7.22944 37.9223 5.30809 40.808 3.99228C43.6936 2.67646 46.8285 1.997 50 2.00001C56.6806 2.00001 62.6671 4.95386 66.7237 9.62585C69.8877 9.39993 73.0633 9.85765 76.0348 10.9679C79.0062 12.0782 81.7039 13.815 83.9446 16.0603C86.189 18.3006 87.9253 20.9975 89.0355 23.968C90.1457 26.9385 90.6039 30.1131 90.3791 33.2763C92.7746 35.3541 94.695 37.923 96.01 40.8086C97.3249 43.6942 98.0036 46.8289 98 50C98.003 53.1715 97.3235 56.3064 96.0077 59.1921C94.6919 62.0777 92.7706 64.6464 90.3741 66.7237C90.599 69.8869 90.1408 73.0615 89.0306 76.032C87.9203 79.0025 86.1841 81.6994 83.9397 83.9397C81.6994 86.1841 79.0025 87.9204 76.032 89.0306C73.0615 90.1408 69.8869 90.599 66.7237 90.3742C64.6463 92.7706 62.0777 94.6919 59.192 96.0077C56.3064 97.3235 53.1715 98.003 50 98C46.8285 98.003 43.6936 97.3235 40.808 96.0077C37.9223 94.6919 35.3536 92.7706 33.2763 90.3742C30.1126 90.6007 26.9373 90.1438 23.9658 89.0344C20.9944 87.925 18.2965 86.1891 16.0554 83.9446C13.8103 81.7038 12.0737 79.006 10.9634 76.0346C9.85321 73.0632 9.39534 69.8877 9.62094 66.7237C7.22542 64.6459 5.305 62.077 3.99004 59.1914C2.67509 56.3058 1.99639 53.1711 2.00001 50C2.00001 43.3194 4.95386 37.3329 9.62586 33.2763C9.40066 30.1131 9.85873 26.9384 10.969 23.9679C12.0792 20.9973 13.8156 18.3004 16.0603 16.0603C18.3004 13.8156 20.9973 12.0792 23.9679 10.969C26.9384 9.85873 30.1131 9.40066 33.2763 9.62585ZM67.7723 41.0695C68.0677 40.6759 68.2814 40.2273 68.4009 39.7499C68.5204 39.2725 68.5433 38.7761 68.4682 38.2897C68.3931 37.8034 68.2215 37.337 67.9636 36.9179C67.7056 36.4988 67.3665 36.1355 66.9662 35.8494C66.5658 35.5632 66.1123 35.36 65.6323 35.2516C65.1523 35.1432 64.6554 35.1319 64.171 35.2183C63.6865 35.3047 63.2242 35.487 62.8112 35.7546C62.3982 36.0223 62.0429 36.3697 61.7661 36.7766L45.8351 59.0782L37.84 51.0831C37.1401 50.4309 36.2143 50.0758 35.2577 50.0927C34.3012 50.1096 33.3885 50.4971 32.712 51.1736C32.0355 51.8501 31.648 52.7627 31.6311 53.7193C31.6143 54.6758 31.9693 55.6016 32.6215 56.3015L43.6985 67.3785C44.0775 67.7572 44.5344 68.0489 45.0375 68.2333C45.5406 68.4178 46.0777 68.4905 46.6118 68.4464C47.1458 68.4024 47.6638 68.2427 48.1299 67.9783C48.5959 67.714 48.9989 67.3514 49.3108 66.9157L67.7723 41.0695Z",fill:"#008171","fill-opacity":"0.1"})]}),o("h4",{className:"app-modal__content__title",children:"Approve Permit"}),o("p",{className:"app-modal__content__desc",children:"By approving this permit, it means you have verified all the details and document provided they match the required standards."}),o("div",{className:"app-modal__content__footer",children:[o(x,{variant:"secondary",onClick:()=>n("confirmApproval"),children:"Cancel"}),o(x,{variant:"success",onClick:a,isLoading:e.isLoading,children:"Approve"})]})]})]})]})}function ox({permit:r}){const e=X(Bk),t=r.continuationIssuringAuthSupStatus==="APPROVED",{toggle:n,modals:i}=Qt({confirmApproval:!1,confirmRejection:!1});async function a(){const[s,c]=await e.makeRequest({id:+r.id});if(c)return q({variant:"error",message:c.message??"Failed to approve permit, please try again"});window.location.reload()}return o("div",{className:"app-section",children:[r.continuationIssuringAuthSupStatus==="IN_PROGRESS"?o("div",{className:"app-ptw__details__module",children:[o("h4",{children:"Approval Section"}),o("p",{children:"To approve this permit, ensure you have properly gone through the PTW Details and confirmed all details and documents provided. Kindly fill in addition notes below to add more details."}),o("div",{className:"app-ptw__details__module__btn-footer",children:o(x,{variant:"primary",onClick:()=>n("confirmApproval"),children:"Approve Permit"})})]}):o(vt,{show:!0,title:"Approval Details",children:[o(z,{title:"Status",value:t?o("p",{className:"active-text",children:"Approved"}):o("p",{className:"danger-text",children:"Rejected"})}),o(z,{title:"Date",value:le(r.continuationIssuringAuthSupStatusDate).format("MMM DD, YYYY HH:mm A")}),o(z,{title:"Approved by:",value:"MECHANICAL"})]}),o(lt,{show:i.confirmApproval,toggle:()=>n("confirmApproval"),align:"center",children:[o(dt,{children:"Issuing Auth. Supervisor"}),o(ut,{children:[o("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35.8458 15.8292C37.604 13.801 39.778 12.1748 42.2203 11.0612C44.6625 9.94753 47.3158 9.37246 50 9.37501C55.6542 9.37501 60.7208 11.875 64.1542 15.8292C66.8321 15.638 69.5198 16.0254 72.0347 16.965C74.5496 17.9047 76.8328 19.3746 78.7292 21.275C80.6288 23.1711 82.0982 25.4536 83.0379 27.9677C83.9775 30.4818 84.3653 33.1686 84.175 35.8458C86.2025 37.6044 87.8278 39.7786 88.9407 42.2208C90.0536 44.6631 90.6281 47.3162 90.625 50C90.6276 52.6842 90.0525 55.3375 88.9388 57.7797C87.8252 60.222 86.1991 62.396 84.1708 64.1542C84.3612 66.8314 83.9733 69.5182 83.0337 72.0323C82.0941 74.5464 80.6246 76.8289 78.725 78.725C76.8289 80.6246 74.5464 82.0941 72.0323 83.0337C69.5182 83.9733 66.8314 84.3612 64.1542 84.1708C62.396 86.1991 60.222 87.8252 57.7797 88.9388C55.3375 90.0525 52.6842 90.6276 50 90.625C47.3158 90.6276 44.6625 90.0525 42.2203 88.9388C39.778 87.8252 37.604 86.1991 35.8458 84.1708C33.1682 84.3626 30.4807 83.9759 27.9659 83.0369C25.451 82.098 23.1676 80.6288 21.2708 78.7292C19.3707 76.8326 17.9009 74.5494 16.9613 72.0345C16.0216 69.5197 15.6341 66.8321 15.825 64.1542C13.7976 62.3956 12.1722 60.2214 11.0593 57.7792C9.94636 55.337 9.37194 52.6839 9.37501 50C9.37501 44.3458 11.875 39.2792 15.8292 35.8458C15.6386 33.1686 16.0263 30.4817 16.9659 27.9676C17.9056 25.4535 19.3752 23.1709 21.275 21.275C23.1709 19.3752 25.4535 17.9056 27.9676 16.9659C30.4817 16.0263 33.1686 15.6386 35.8458 15.8292ZM65.0417 42.4417C65.2917 42.1086 65.4726 41.7288 65.5737 41.3248C65.6748 40.9208 65.6942 40.5006 65.6306 40.089C65.5671 39.6774 65.4219 39.2826 65.2036 38.9279C64.9853 38.5732 64.6982 38.2657 64.3594 38.0236C64.0206 37.7814 63.6367 37.6094 63.2305 37.5176C62.8242 37.4259 62.4037 37.4163 61.9937 37.4894C61.5836 37.5625 61.1924 37.7169 60.8428 37.9434C60.4933 38.1699 60.1926 38.464 59.9583 38.8083L46.475 57.6833L39.7083 50.9167C39.1159 50.3647 38.3324 50.0642 37.5228 50.0784C36.7132 50.0927 35.9408 50.4207 35.3683 50.9933C34.7957 51.5658 34.4677 52.3382 34.4534 53.1478C34.4392 53.9574 34.7397 54.7409 35.2917 55.3333L44.6667 64.7083C44.9875 65.0289 45.3742 65.2758 45.8 65.4319C46.2257 65.5879 46.6804 65.6495 47.1324 65.6122C47.5843 65.575 48.0227 65.4398 48.4172 65.216C48.8117 64.9923 49.1527 64.6854 49.4167 64.3167L65.0417 42.4417Z",fill:"#008171"}),o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M33.2763 9.62585C35.3536 7.22944 37.9223 5.30809 40.808 3.99228C43.6936 2.67646 46.8285 1.997 50 2.00001C56.6806 2.00001 62.6671 4.95386 66.7237 9.62585C69.8877 9.39993 73.0633 9.85765 76.0348 10.9679C79.0062 12.0782 81.7039 13.815 83.9446 16.0603C86.189 18.3006 87.9253 20.9975 89.0355 23.968C90.1457 26.9385 90.6039 30.1131 90.3791 33.2763C92.7746 35.3541 94.695 37.923 96.01 40.8086C97.3249 43.6942 98.0036 46.8289 98 50C98.003 53.1715 97.3235 56.3064 96.0077 59.1921C94.6919 62.0777 92.7706 64.6464 90.3741 66.7237C90.599 69.8869 90.1408 73.0615 89.0306 76.032C87.9203 79.0025 86.1841 81.6994 83.9397 83.9397C81.6994 86.1841 79.0025 87.9204 76.032 89.0306C73.0615 90.1408 69.8869 90.599 66.7237 90.3742C64.6463 92.7706 62.0777 94.6919 59.192 96.0077C56.3064 97.3235 53.1715 98.003 50 98C46.8285 98.003 43.6936 97.3235 40.808 96.0077C37.9223 94.6919 35.3536 92.7706 33.2763 90.3742C30.1126 90.6007 26.9373 90.1438 23.9658 89.0344C20.9944 87.925 18.2965 86.1891 16.0554 83.9446C13.8103 81.7038 12.0737 79.006 10.9634 76.0346C9.85321 73.0632 9.39534 69.8877 9.62094 66.7237C7.22542 64.6459 5.305 62.077 3.99004 59.1914C2.67509 56.3058 1.99639 53.1711 2.00001 50C2.00001 43.3194 4.95386 37.3329 9.62586 33.2763C9.40066 30.1131 9.85873 26.9384 10.969 23.9679C12.0792 20.9973 13.8156 18.3004 16.0603 16.0603C18.3004 13.8156 20.9973 12.0792 23.9679 10.969C26.9384 9.85873 30.1131 9.40066 33.2763 9.62585ZM67.7723 41.0695C68.0677 40.6759 68.2814 40.2273 68.4009 39.7499C68.5204 39.2725 68.5433 38.7761 68.4682 38.2897C68.3931 37.8034 68.2215 37.337 67.9636 36.9179C67.7056 36.4988 67.3665 36.1355 66.9662 35.8494C66.5658 35.5632 66.1123 35.36 65.6323 35.2516C65.1523 35.1432 64.6554 35.1319 64.171 35.2183C63.6865 35.3047 63.2242 35.487 62.8112 35.7546C62.3982 36.0223 62.0429 36.3697 61.7661 36.7766L45.8351 59.0782L37.84 51.0831C37.1401 50.4309 36.2143 50.0758 35.2577 50.0927C34.3012 50.1096 33.3885 50.4971 32.712 51.1736C32.0355 51.8501 31.648 52.7627 31.6311 53.7193C31.6143 54.6758 31.9693 55.6016 32.6215 56.3015L43.6985 67.3785C44.0775 67.7572 44.5344 68.0489 45.0375 68.2333C45.5406 68.4178 46.0777 68.4905 46.6118 68.4464C47.1458 68.4024 47.6638 68.2427 48.1299 67.9783C48.5959 67.714 48.9989 67.3514 49.3108 66.9157L67.7723 41.0695Z",fill:"#008171","fill-opacity":"0.1"})]}),o("h4",{className:"app-modal__content__title",children:"Approve Permit"}),o("p",{className:"app-modal__content__desc",children:"By approving this permit, it means you have verified all the details and document provided they match the required standards."}),o("div",{className:"app-modal__content__footer",children:[o(x,{variant:"secondary",onClick:()=>n("confirmApproval"),children:"Cancel"}),o(x,{variant:"success",onClick:a,isLoading:e.isLoading,children:"Approve"})]})]})]})]})}function ax({}){const[{matches:{id:r}}]=er(),{isLoading:e,response:t}=X(zf,{id:r},!0),n=t==null?void 0:t.data,{activeTab:i,tabs:a}=Zt(["Continuation Request","HSE Officer","Issuing Auth. Supervisor"]);return o("div",{className:"app-ptw__details",children:[o(Ne,{title:"Work Continuation Details"}),o("div",{className:"app-section",children:o("div",{className:"app-ptw__header-status",style:{gridTemplateColumns:"1fr 1fr"},children:[o("div",{children:[o("h4",{children:"HSE Officer"}),o(Jr,{variant:n==null?void 0:n.continuationHseOfficerStatus})]}),o("div",{children:[o("h4",{children:"Issuing Authority Supervisor"}),o(Jr,{variant:n==null?void 0:n.continuationIssuringAuthSupStatus})]})]})}),o(ai,{tabs:a}),n?o(P,{children:[i==="Continuation Request"&&o("div",{className:"app-section",children:o(vt,{show:!0,children:[o(z,{title:"Initiated by:",value:"MECHANICAL"}),o(z,{title:"Date Requested",value:le(n.continuationRequestDate).format("DD MMM YYYY. HH:mm A")}),o(z,{title:"PTW No.",value:n.id})]})}),i==="HSE Officer"&&o(ix,{permit:n}),i==="Issuing Auth. Supervisor"&&o(ox,{permit:n})]}):o("div",{className:"base-empty",children:[o("img",{src:"/svgs/document.svg"}),o("p",{children:e?"Fetching permit Continuation Request, please wait...":"Failed to fetch, please try again"})]})]})}/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Qs(r){return r+.5|0}const _i=(r,e,t)=>Math.max(Math.min(r,t),e);function Ja(r){return _i(Qs(r*2.55),0,255)}function Ai(r){return _i(Qs(r*255),0,255)}function Ur(r){return _i(Qs(r/2.55)/100,0,1)}function k1(r){return _i(Qs(r*100),0,100)}const Rn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},tp=[..."0123456789ABCDEF"],sx=r=>tp[r&15],cx=r=>tp[(r&240)>>4]+tp[r&15],Tc=r=>(r&240)>>4===(r&15),lx=r=>Tc(r.r)&&Tc(r.g)&&Tc(r.b)&&Tc(r.a);function dx(r){var e=r.length,t;return r[0]==="#"&&(e===4||e===5?t={r:255&Rn[r[1]]*17,g:255&Rn[r[2]]*17,b:255&Rn[r[3]]*17,a:e===5?Rn[r[4]]*17:255}:(e===7||e===9)&&(t={r:Rn[r[1]]<<4|Rn[r[2]],g:Rn[r[3]]<<4|Rn[r[4]],b:Rn[r[5]]<<4|Rn[r[6]],a:e===9?Rn[r[7]]<<4|Rn[r[8]]:255})),t}const ux=(r,e)=>r<255?e(r):"";function hx(r){var e=lx(r)?sx:cx;return r?"#"+e(r.r)+e(r.g)+e(r.b)+ux(r.a,e):void 0}const px=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function E_(r,e,t){const n=e*Math.min(t,1-t),i=(a,s=(a+r/30)%12)=>t-n*Math.max(Math.min(s-3,9-s,1),-1);return[i(0),i(8),i(4)]}function fx(r,e,t){const n=(i,a=(i+r/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function mx(r,e,t){const n=E_(r,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)n[i]*=1-e-t,n[i]+=e;return n}function gx(r,e,t,n,i){return r===i?(e-t)/n+(e<t?6:0):e===i?(t-r)/n+2:(r-e)/n+4}function jf(r){const t=r.r/255,n=r.g/255,i=r.b/255,a=Math.max(t,n,i),s=Math.min(t,n,i),c=(a+s)/2;let l,d,u;return a!==s&&(u=a-s,d=c>.5?u/(2-a-s):u/(a+s),l=gx(t,n,i,u,a),l=l*60+.5),[l|0,d||0,c]}function qf(r,e,t,n){return(Array.isArray(e)?r(e[0],e[1],e[2]):r(e,t,n)).map(Ai)}function Kf(r,e,t){return qf(E_,r,e,t)}function vx(r,e,t){return qf(mx,r,e,t)}function _x(r,e,t){return qf(fx,r,e,t)}function T_(r){return(r%360+360)%360}function yx(r){const e=px.exec(r);let t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?Ja(+e[5]):Ai(+e[5]));const i=T_(+e[2]),a=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?n=vx(i,a,s):e[1]==="hsv"?n=_x(i,a,s):n=Kf(i,a,s),{r:n[0],g:n[1],b:n[2],a:t}}function Cx(r,e){var t=jf(r);t[0]=T_(t[0]+e),t=Kf(t),r.r=t[0],r.g=t[1],r.b=t[2]}function bx(r){if(!r)return;const e=jf(r),t=e[0],n=k1(e[1]),i=k1(e[2]);return r.a<255?`hsla(${t}, ${n}%, ${i}%, ${Ur(r.a)})`:`hsl(${t}, ${n}%, ${i}%)`}const I1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},x1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function wx(){const r={},e=Object.keys(x1),t=Object.keys(I1);let n,i,a,s,c;for(n=0;n<e.length;n++){for(s=c=e[n],i=0;i<t.length;i++)a=t[i],c=c.replace(a,I1[a]);a=parseInt(x1[s],16),r[c]=[a>>16&255,a>>8&255,a&255]}return r}let kc;function Sx(r){kc||(kc=wx(),kc.transparent=[0,0,0,0]);const e=kc[r.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Ax=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Nx(r){const e=Ax.exec(r);let t=255,n,i,a;if(e){if(e[7]!==n){const s=+e[7];t=e[8]?Ja(s):_i(s*255,0,255)}return n=+e[1],i=+e[3],a=+e[5],n=255&(e[2]?Ja(n):_i(n,0,255)),i=255&(e[4]?Ja(i):_i(i,0,255)),a=255&(e[6]?Ja(a):_i(a,0,255)),{r:n,g:i,b:a,a:t}}}function Ex(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${Ur(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}const Mu=r=>r<=.0031308?r*12.92:Math.pow(r,1/2.4)*1.055-.055,Ho=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function Tx(r,e,t){const n=Ho(Ur(r.r)),i=Ho(Ur(r.g)),a=Ho(Ur(r.b));return{r:Ai(Mu(n+t*(Ho(Ur(e.r))-n))),g:Ai(Mu(i+t*(Ho(Ur(e.g))-i))),b:Ai(Mu(a+t*(Ho(Ur(e.b))-a))),a:r.a+t*(e.a-r.a)}}function Ic(r,e,t){if(r){let n=jf(r);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=Kf(n),r.r=n[0],r.g=n[1],r.b=n[2]}}function k_(r,e){return r&&Object.assign(e||{},r)}function P1(r){var e={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(e={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(e.a=Ai(r[3]))):(e=k_(r,{r:0,g:0,b:0,a:1}),e.a=Ai(e.a)),e}function kx(r){return r.charAt(0)==="r"?Nx(r):yx(r)}class Ts{constructor(e){if(e instanceof Ts)return e;const t=typeof e;let n;t==="object"?n=P1(e):t==="string"&&(n=dx(e)||Sx(e)||kx(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=k_(this._rgb);return e&&(e.a=Ur(e.a)),e}set rgb(e){this._rgb=P1(e)}rgbString(){return this._valid?Ex(this._rgb):void 0}hexString(){return this._valid?hx(this._rgb):void 0}hslString(){return this._valid?bx(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let a;const s=t===a?.5:t,c=2*s-1,l=n.a-i.a,d=((c*l===-1?c:(c+l)/(1+c*l))+1)/2;a=1-d,n.r=255&d*n.r+a*i.r+.5,n.g=255&d*n.g+a*i.g+.5,n.b=255&d*n.b+a*i.b+.5,n.a=s*n.a+(1-s)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=Tx(this._rgb,e._rgb,t)),this}clone(){return new Ts(this.rgb)}alpha(e){return this._rgb.a=Ai(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Qs(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ic(this._rgb,2,e),this}darken(e){return Ic(this._rgb,2,-e),this}saturate(e){return Ic(this._rgb,1,e),this}desaturate(e){return Ic(this._rgb,1,-e),this}rotate(e){return Cx(this._rgb,e),this}}/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Rr(){}const Ix=(()=>{let r=0;return()=>r++})();function De(r){return r===null||typeof r>"u"}function ot(r){if(Array.isArray&&Array.isArray(r))return!0;const e=Object.prototype.toString.call(r);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ee(r){return r!==null&&Object.prototype.toString.call(r)==="[object Object]"}function _t(r){return(typeof r=="number"||r instanceof Number)&&isFinite(+r)}function Sn(r,e){return _t(r)?r:e}function ye(r,e){return typeof r>"u"?e:r}const xx=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100:+r/e,I_=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100*e:+r;function nt(r,e,t){if(r&&typeof r.call=="function")return r.apply(t,e)}function Ye(r,e,t,n){let i,a,s;if(ot(r))if(a=r.length,n)for(i=a-1;i>=0;i--)e.call(t,r[i],i);else for(i=0;i<a;i++)e.call(t,r[i],i);else if(Ee(r))for(s=Object.keys(r),a=s.length,i=0;i<a;i++)e.call(t,r[s[i]],s[i])}function rd(r,e){let t,n,i,a;if(!r||!e||r.length!==e.length)return!1;for(t=0,n=r.length;t<n;++t)if(i=r[t],a=e[t],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function id(r){if(ot(r))return r.map(id);if(Ee(r)){const e=Object.create(null),t=Object.keys(r),n=t.length;let i=0;for(;i<n;++i)e[t[i]]=id(r[t[i]]);return e}return r}function x_(r){return["__proto__","prototype","constructor"].indexOf(r)===-1}function Px(r,e,t,n){if(!x_(r))return;const i=e[r],a=t[r];Ee(i)&&Ee(a)?ks(i,a,n):e[r]=id(a)}function ks(r,e,t){const n=ot(e)?e:[e],i=n.length;if(!Ee(r))return r;t=t||{};const a=t.merger||Px;let s;for(let c=0;c<i;++c){if(s=n[c],!Ee(s))continue;const l=Object.keys(s);for(let d=0,u=l.length;d<u;++d)a(l[d],r,s,t)}return r}function ps(r,e){return ks(r,e,{merger:Dx})}function Dx(r,e,t){if(!x_(r))return;const n=e[r],i=t[r];Ee(n)&&Ee(i)?ps(n,i):Object.prototype.hasOwnProperty.call(e,r)||(e[r]=id(i))}const D1={"":r=>r,x:r=>r.x,y:r=>r.y};function Ox(r){const e=r.split("."),t=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function Rx(r){const e=Ox(r);return t=>{for(const n of e){if(n==="")break;t=t&&t[n]}return t}}function ki(r,e){return(D1[e]||(D1[e]=Rx(e)))(r)}function Gf(r){return r.charAt(0).toUpperCase()+r.slice(1)}const Is=r=>typeof r<"u",Ii=r=>typeof r=="function",O1=(r,e)=>{if(r.size!==e.size)return!1;for(const t of r)if(!e.has(t))return!1;return!0};function Mx(r){return r.type==="mouseup"||r.type==="click"||r.type==="contextmenu"}const ct=Math.PI,st=2*ct,Lx=st+ct,od=Number.POSITIVE_INFINITY,Fx=ct/180,Et=ct/2,Bi=ct/4,R1=ct*2/3,yi=Math.log10,br=Math.sign;function fs(r,e,t){return Math.abs(r-e)<t}function M1(r){const e=Math.round(r);r=fs(r,e,r/1e3)?e:r;const t=Math.pow(10,Math.floor(yi(r))),n=r/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function Hx(r){const e=[],t=Math.sqrt(r);let n;for(n=1;n<t;n++)r%n===0&&(e.push(n),e.push(r/n));return t===(t|0)&&e.push(t),e.sort((i,a)=>i-a).pop(),e}function _a(r){return!isNaN(parseFloat(r))&&isFinite(r)}function Ux(r,e){const t=Math.round(r);return t-e<=r&&t+e>=r}function P_(r,e,t){let n,i,a;for(n=0,i=r.length;n<i;n++)a=r[n][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function jn(r){return r*(ct/180)}function Qf(r){return r*(180/ct)}function L1(r){if(!_t(r))return;let e=1,t=0;for(;Math.round(r*e)/e!==r;)e*=10,t++;return t}function D_(r,e){const t=e.x-r.x,n=e.y-r.y,i=Math.sqrt(t*t+n*n);let a=Math.atan2(n,t);return a<-.5*ct&&(a+=st),{angle:a,distance:i}}function np(r,e){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function $x(r,e){return(r-e+Lx)%st-ct}function Nn(r){return(r%st+st)%st}function xs(r,e,t,n){const i=Nn(r),a=Nn(e),s=Nn(t),c=Nn(a-i),l=Nn(s-i),d=Nn(i-a),u=Nn(i-s);return i===a||i===s||n&&a===s||c>l&&d<u}function Vt(r,e,t){return Math.max(e,Math.min(t,r))}function Bx(r){return Vt(r,-32768,32767)}function Wr(r,e,t,n=1e-6){return r>=Math.min(e,t)-n&&r<=Math.max(e,t)+n}function Zf(r,e,t){t=t||(s=>r[s]<e);let n=r.length-1,i=0,a;for(;n-i>1;)a=i+n>>1,t(a)?i=a:n=a;return{lo:i,hi:n}}const zr=(r,e,t,n)=>Zf(r,t,n?i=>{const a=r[i][e];return a<t||a===t&&r[i+1][e]===t}:i=>r[i][e]<t),Vx=(r,e,t)=>Zf(r,t,n=>r[n][e]>=t);function Yx(r,e,t){let n=0,i=r.length;for(;n<i&&r[n]<e;)n++;for(;i>n&&r[i-1]>t;)i--;return n>0||i<r.length?r.slice(n,i):r}const O_=["push","pop","shift","splice","unshift"];function Wx(r,e){if(r._chartjs){r._chartjs.listeners.push(e);return}Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),O_.forEach(t=>{const n="_onData"+Gf(t),i=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(...a){const s=i.apply(this,a);return r._chartjs.listeners.forEach(c=>{typeof c[n]=="function"&&c[n](...a)}),s}})})}function F1(r,e){const t=r._chartjs;if(!t)return;const n=t.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(O_.forEach(a=>{delete r[a]}),delete r._chartjs)}function R_(r){const e=new Set(r);return e.size===r.length?r:Array.from(e)}const M_=function(){return typeof window>"u"?function(r){return r()}:window.requestAnimationFrame}();function L_(r,e){let t=[],n=!1;return function(...i){t=i,n||(n=!0,M_.call(window,()=>{n=!1,r.apply(e,t)}))}}function zx(r,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(r,e,n)):r.apply(this,n),e}}const Xf=r=>r==="start"?"left":r==="end"?"right":"center",Xt=(r,e,t)=>r==="start"?e:r==="end"?t:(e+t)/2,jx=(r,e,t,n)=>r===(n?"left":"right")?t:r==="center"?(e+t)/2:e;function F_(r,e,t){const n=e.length;let i=0,a=n;if(r._sorted){const{iScale:s,_parsed:c}=r,l=s.axis,{min:d,max:u,minDefined:h,maxDefined:p}=s.getUserBounds();h&&(i=Vt(Math.min(zr(c,l,d).lo,t?n:zr(e,l,s.getPixelForValue(d)).lo),0,n-1)),p?a=Vt(Math.max(zr(c,s.axis,u,!0).hi+1,t?0:zr(e,l,s.getPixelForValue(u),!0).hi+1),i,n)-i:a=n-i}return{start:i,count:a}}function H_(r){const{xScale:e,yScale:t,_scaleRanges:n}=r,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!n)return r._scaleRanges=i,!0;const a=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,i),a}const xc=r=>r===0||r===1,H1=(r,e,t)=>-(Math.pow(2,10*(r-=1))*Math.sin((r-e)*st/t)),U1=(r,e,t)=>Math.pow(2,-10*r)*Math.sin((r-e)*st/t)+1,ms={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>-Math.cos(r*Et)+1,easeOutSine:r=>Math.sin(r*Et),easeInOutSine:r=>-.5*(Math.cos(ct*r)-1),easeInExpo:r=>r===0?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>r===1?1:-Math.pow(2,-10*r)+1,easeInOutExpo:r=>xc(r)?r:r<.5?.5*Math.pow(2,10*(r*2-1)):.5*(-Math.pow(2,-10*(r*2-1))+2),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>xc(r)?r:H1(r,.075,.3),easeOutElastic:r=>xc(r)?r:U1(r,.075,.3),easeInOutElastic(r){return xc(r)?r:r<.5?.5*H1(r*2,.1125,.45):.5+.5*U1(r*2-1,.1125,.45)},easeInBack(r){return r*r*((1.70158+1)*r-1.70158)},easeOutBack(r){return(r-=1)*r*((1.70158+1)*r+1.70158)+1},easeInOutBack(r){let e=1.70158;return(r/=.5)<1?.5*(r*r*(((e*=1.525)+1)*r-e)):.5*((r-=2)*r*(((e*=1.525)+1)*r+e)+2)},easeInBounce:r=>1-ms.easeOutBounce(1-r),easeOutBounce(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:r=>r<.5?ms.easeInBounce(r*2)*.5:ms.easeOutBounce(r*2-1)*.5+.5};function Jf(r){if(r&&typeof r=="object"){const e=r.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function $1(r){return Jf(r)?r:new Ts(r)}function Lu(r){return Jf(r)?r:new Ts(r).saturate(.5).darken(.1).hexString()}const qx=["x","y","borderWidth","radius","tension"],Kx=["color","borderColor","backgroundColor"];function Gx(r){r.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),r.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),r.set("animations",{colors:{type:"color",properties:Kx},numbers:{type:"number",properties:qx}}),r.describe("animations",{_fallback:"animation"}),r.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Qx(r){r.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const B1=new Map;function Zx(r,e){e=e||{};const t=r+JSON.stringify(e);let n=B1.get(t);return n||(n=new Intl.NumberFormat(r,e),B1.set(t,n)),n}function Zs(r,e,t){return Zx(e,t).format(r)}const U_={values(r){return ot(r)?r:""+r},numeric(r,e,t){if(r===0)return"0";const n=this.chart.options.locale;let i,a=r;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),a=Xx(r,t)}const s=yi(Math.abs(a)),c=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:i,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(l,this.options.ticks.format),Zs(r,n,l)},logarithmic(r,e,t){if(r===0)return"0";const n=t[e].significand||r/Math.pow(10,Math.floor(yi(r)));return[1,2,3,5,10,15].includes(n)||e>.8*t.length?U_.numeric.call(this,r,e,t):""}};function Xx(r,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&r!==Math.floor(r)&&(t=r-Math.floor(r)),t}var eu={formatters:U_};function Jx(r){r.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:eu.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),r.route("scale.ticks","color","","color"),r.route("scale.grid","color","","borderColor"),r.route("scale.border","color","","borderColor"),r.route("scale.title","color","","color"),r.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),r.describe("scales",{_fallback:"scale"}),r.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const yo=Object.create(null),rp=Object.create(null);function gs(r,e){if(!e)return r;const t=e.split(".");for(let n=0,i=t.length;n<i;++n){const a=t[n];r=r[a]||(r[a]=Object.create(null))}return r}function Fu(r,e,t){return typeof e=="string"?ks(gs(r,e),t):ks(gs(r,""),e)}class eP{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>Lu(i.backgroundColor),this.hoverBorderColor=(n,i)=>Lu(i.borderColor),this.hoverColor=(n,i)=>Lu(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Fu(this,e,t)}get(e){return gs(this,e)}describe(e,t){return Fu(rp,e,t)}override(e,t){return Fu(yo,e,t)}route(e,t,n,i){const a=gs(this,e),s=gs(this,n),c="_"+t;Object.defineProperties(a,{[c]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[c],d=s[i];return Ee(l)?Object.assign({},d,l):ye(l,d)},set(l){this[c]=l}}})}apply(e){e.forEach(t=>t(this))}}var yt=new eP({_scriptable:r=>!r.startsWith("on"),_indexable:r=>r!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Gx,Qx,Jx]);function tP(r){return!r||De(r.size)||De(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}function ad(r,e,t,n,i){let a=e[i];return a||(a=e[i]=r.measureText(i).width,t.push(i)),a>n&&(n=a),n}function nP(r,e,t,n){n=n||{};let i=n.data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(i=n.data={},a=n.garbageCollect=[],n.font=e),r.save(),r.font=e;let s=0;const c=t.length;let l,d,u,h,p;for(l=0;l<c;l++)if(h=t[l],h!=null&&!ot(h))s=ad(r,i,a,s,h);else if(ot(h))for(d=0,u=h.length;d<u;d++)p=h[d],p!=null&&!ot(p)&&(s=ad(r,i,a,s,p));r.restore();const f=a.length/2;if(f>t.length){for(l=0;l<f;l++)delete i[a[l]];a.splice(0,f)}return s}function Vi(r,e,t){const n=r.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*n)/n+i}function V1(r,e){!e&&!r||(e=e||r.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,r.width,r.height),e.restore())}function ip(r,e,t,n){$_(r,e,t,n,null)}function $_(r,e,t,n,i){let a,s,c,l,d,u,h,p;const f=e.pointStyle,g=e.rotation,m=e.radius;let v=(g||0)*Fx;if(f&&typeof f=="object"&&(a=f.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){r.save(),r.translate(t,n),r.rotate(v),r.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),r.restore();return}if(!(isNaN(m)||m<=0)){switch(r.beginPath(),f){default:i?r.ellipse(t,n,i/2,m,0,0,st):r.arc(t,n,m,0,st),r.closePath();break;case"triangle":u=i?i/2:m,r.moveTo(t+Math.sin(v)*u,n-Math.cos(v)*m),v+=R1,r.lineTo(t+Math.sin(v)*u,n-Math.cos(v)*m),v+=R1,r.lineTo(t+Math.sin(v)*u,n-Math.cos(v)*m),r.closePath();break;case"rectRounded":d=m*.516,l=m-d,s=Math.cos(v+Bi)*l,h=Math.cos(v+Bi)*(i?i/2-d:l),c=Math.sin(v+Bi)*l,p=Math.sin(v+Bi)*(i?i/2-d:l),r.arc(t-h,n-c,d,v-ct,v-Et),r.arc(t+p,n-s,d,v-Et,v),r.arc(t+h,n+c,d,v,v+Et),r.arc(t-p,n+s,d,v+Et,v+ct),r.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*m,u=i?i/2:l,r.rect(t-u,n-l,2*u,2*l);break}v+=Bi;case"rectRot":h=Math.cos(v)*(i?i/2:m),s=Math.cos(v)*m,c=Math.sin(v)*m,p=Math.sin(v)*(i?i/2:m),r.moveTo(t-h,n-c),r.lineTo(t+p,n-s),r.lineTo(t+h,n+c),r.lineTo(t-p,n+s),r.closePath();break;case"crossRot":v+=Bi;case"cross":h=Math.cos(v)*(i?i/2:m),s=Math.cos(v)*m,c=Math.sin(v)*m,p=Math.sin(v)*(i?i/2:m),r.moveTo(t-h,n-c),r.lineTo(t+h,n+c),r.moveTo(t+p,n-s),r.lineTo(t-p,n+s);break;case"star":h=Math.cos(v)*(i?i/2:m),s=Math.cos(v)*m,c=Math.sin(v)*m,p=Math.sin(v)*(i?i/2:m),r.moveTo(t-h,n-c),r.lineTo(t+h,n+c),r.moveTo(t+p,n-s),r.lineTo(t-p,n+s),v+=Bi,h=Math.cos(v)*(i?i/2:m),s=Math.cos(v)*m,c=Math.sin(v)*m,p=Math.sin(v)*(i?i/2:m),r.moveTo(t-h,n-c),r.lineTo(t+h,n+c),r.moveTo(t+p,n-s),r.lineTo(t-p,n+s);break;case"line":s=i?i/2:Math.cos(v)*m,c=Math.sin(v)*m,r.moveTo(t-s,n-c),r.lineTo(t+s,n+c);break;case"dash":r.moveTo(t,n),r.lineTo(t+Math.cos(v)*(i?i/2:m),n+Math.sin(v)*m);break;case!1:r.closePath();break}r.fill(),e.borderWidth>0&&r.stroke()}}function jr(r,e,t){return t=t||.5,!e||r&&r.x>e.left-t&&r.x<e.right+t&&r.y>e.top-t&&r.y<e.bottom+t}function tu(r,e){r.save(),r.beginPath(),r.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),r.clip()}function nu(r){r.restore()}function rP(r,e,t,n,i){if(!e)return r.lineTo(t.x,t.y);if(i==="middle"){const a=(e.x+t.x)/2;r.lineTo(a,e.y),r.lineTo(a,t.y)}else i==="after"!=!!n?r.lineTo(e.x,t.y):r.lineTo(t.x,e.y);r.lineTo(t.x,t.y)}function iP(r,e,t,n){if(!e)return r.lineTo(t.x,t.y);r.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function oP(r,e){e.translation&&r.translate(e.translation[0],e.translation[1]),De(e.rotation)||r.rotate(e.rotation),e.color&&(r.fillStyle=e.color),e.textAlign&&(r.textAlign=e.textAlign),e.textBaseline&&(r.textBaseline=e.textBaseline)}function aP(r,e,t,n,i){if(i.strikethrough||i.underline){const a=r.measureText(n),s=e-a.actualBoundingBoxLeft,c=e+a.actualBoundingBoxRight,l=t-a.actualBoundingBoxAscent,d=t+a.actualBoundingBoxDescent,u=i.strikethrough?(l+d)/2:d;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=i.decorationWidth||2,r.moveTo(s,u),r.lineTo(c,u),r.stroke()}}function sP(r,e){const t=r.fillStyle;r.fillStyle=e.color,r.fillRect(e.left,e.top,e.width,e.height),r.fillStyle=t}function Co(r,e,t,n,i,a={}){const s=ot(e)?e:[e],c=a.strokeWidth>0&&a.strokeColor!=="";let l,d;for(r.save(),r.font=i.string,oP(r,a),l=0;l<s.length;++l)d=s[l],a.backdrop&&sP(r,a.backdrop),c&&(a.strokeColor&&(r.strokeStyle=a.strokeColor),De(a.strokeWidth)||(r.lineWidth=a.strokeWidth),r.strokeText(d,t,n,a.maxWidth)),r.fillText(d,t,n,a.maxWidth),aP(r,t,n,d,a),n+=Number(i.lineHeight);r.restore()}function Ps(r,e){const{x:t,y:n,w:i,h:a,radius:s}=e;r.arc(t+s.topLeft,n+s.topLeft,s.topLeft,1.5*ct,ct,!0),r.lineTo(t,n+a-s.bottomLeft),r.arc(t+s.bottomLeft,n+a-s.bottomLeft,s.bottomLeft,ct,Et,!0),r.lineTo(t+i-s.bottomRight,n+a),r.arc(t+i-s.bottomRight,n+a-s.bottomRight,s.bottomRight,Et,0,!0),r.lineTo(t+i,n+s.topRight),r.arc(t+i-s.topRight,n+s.topRight,s.topRight,0,-Et,!0),r.lineTo(t+s.topLeft,n)}const cP=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,lP=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function dP(r,e){const t=(""+r).match(cP);if(!t||t[1]==="normal")return e*1.2;switch(r=+t[2],t[3]){case"px":return r;case"%":r/=100;break}return e*r}const uP=r=>+r||0;function em(r,e){const t={},n=Ee(e),i=n?Object.keys(e):e,a=Ee(r)?n?s=>ye(r[s],r[e[s]]):s=>r[s]:()=>r;for(const s of i)t[s]=uP(a(s));return t}function B_(r){return em(r,{top:"y",right:"x",bottom:"y",left:"x"})}function ao(r){return em(r,["topLeft","topRight","bottomLeft","bottomRight"])}function rn(r){const e=B_(r);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Mt(r,e){r=r||{},e=e||yt.font;let t=ye(r.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=ye(r.style,e.style);n&&!(""+n).match(lP)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:ye(r.family,e.family),lineHeight:dP(ye(r.lineHeight,e.lineHeight),t),size:t,style:n,weight:ye(r.weight,e.weight),string:""};return i.string=tP(i),i}function es(r,e,t,n){let i=!0,a,s,c;for(a=0,s=r.length;a<s;++a)if(c=r[a],c!==void 0&&(e!==void 0&&typeof c=="function"&&(c=c(e),i=!1),t!==void 0&&ot(c)&&(c=c[t%c.length],i=!1),c!==void 0))return n&&!i&&(n.cacheable=!1),c}function hP(r,e,t){const{min:n,max:i}=r,a=I_(e,(i-n)/2),s=(c,l)=>t&&c===0?0:c+l;return{min:s(n,-Math.abs(a)),max:s(i,a)}}function Ui(r,e){return Object.assign(Object.create(r),e)}function tm(r,e=[""],t,n,i=()=>r[0]){const a=t||r;typeof n>"u"&&(n=z_("_fallback",r));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:a,_fallback:n,_getTarget:i,override:c=>tm([c,...r],e,a,n)};return new Proxy(s,{deleteProperty(c,l){return delete c[l],delete c._keys,delete r[0][l],!0},get(c,l){return Y_(c,l,()=>CP(l,e,r,c))},getOwnPropertyDescriptor(c,l){return Reflect.getOwnPropertyDescriptor(c._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(r[0])},has(c,l){return W1(c).includes(l)},ownKeys(c){return W1(c)},set(c,l,d){const u=c._storage||(c._storage=i());return c[l]=u[l]=d,delete c._keys,!0}})}function ya(r,e,t,n){const i={_cacheable:!1,_proxy:r,_context:e,_subProxy:t,_stack:new Set,_descriptors:V_(r,n),setContext:a=>ya(r,a,t,n),override:a=>ya(r.override(a),e,t,n)};return new Proxy(i,{deleteProperty(a,s){return delete a[s],delete r[s],!0},get(a,s,c){return Y_(a,s,()=>fP(a,s,c))},getOwnPropertyDescriptor(a,s){return a._descriptors.allKeys?Reflect.has(r,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,s)},getPrototypeOf(){return Reflect.getPrototypeOf(r)},has(a,s){return Reflect.has(r,s)},ownKeys(){return Reflect.ownKeys(r)},set(a,s,c){return r[s]=c,delete a[s],!0}})}function V_(r,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=r;return{allKeys:i,scriptable:t,indexable:n,isScriptable:Ii(t)?t:()=>t,isIndexable:Ii(n)?n:()=>n}}const pP=(r,e)=>r?r+Gf(e):e,nm=(r,e)=>Ee(e)&&r!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Y_(r,e,t){if(Object.prototype.hasOwnProperty.call(r,e)||e==="constructor")return r[e];const n=t();return r[e]=n,n}function fP(r,e,t){const{_proxy:n,_context:i,_subProxy:a,_descriptors:s}=r;let c=n[e];return Ii(c)&&s.isScriptable(e)&&(c=mP(e,c,r,t)),ot(c)&&c.length&&(c=gP(e,c,r,s.isIndexable)),nm(e,c)&&(c=ya(c,i,a&&a[e],s)),c}function mP(r,e,t,n){const{_proxy:i,_context:a,_subProxy:s,_stack:c}=t;if(c.has(r))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+r);c.add(r);let l=e(a,s||n);return c.delete(r),nm(r,l)&&(l=rm(i._scopes,i,r,l)),l}function gP(r,e,t,n){const{_proxy:i,_context:a,_subProxy:s,_descriptors:c}=t;if(typeof a.index<"u"&&n(r))return e[a.index%e.length];if(Ee(e[0])){const l=e,d=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=rm(d,i,r,u);e.push(ya(h,a,s&&s[r],c))}}return e}function W_(r,e,t){return Ii(r)?r(e,t):r}const vP=(r,e)=>r===!0?e:typeof r=="string"?ki(e,r):void 0;function _P(r,e,t,n,i){for(const a of e){const s=vP(t,a);if(s){r.add(s);const c=W_(s._fallback,t,i);if(typeof c<"u"&&c!==t&&c!==n)return c}else if(s===!1&&typeof n<"u"&&t!==n)return null}return!1}function rm(r,e,t,n){const i=e._rootScopes,a=W_(e._fallback,t,n),s=[...r,...i],c=new Set;c.add(n);let l=Y1(c,s,t,a||t,n);return l===null||typeof a<"u"&&a!==t&&(l=Y1(c,s,a,l,n),l===null)?!1:tm(Array.from(c),[""],i,a,()=>yP(e,t,n))}function Y1(r,e,t,n,i){for(;t;)t=_P(r,e,t,n,i);return t}function yP(r,e,t){const n=r._getTarget();e in n||(n[e]={});const i=n[e];return ot(i)&&Ee(t)?t:i||{}}function CP(r,e,t,n){let i;for(const a of e)if(i=z_(pP(a,r),t),typeof i<"u")return nm(r,i)?rm(t,n,r,i):i}function z_(r,e){for(const t of e){if(!t)continue;const n=t[r];if(typeof n<"u")return n}}function W1(r){let e=r._keys;return e||(e=r._keys=bP(r._scopes)),e}function bP(r){const e=new Set;for(const t of r)for(const n of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}function j_(r,e,t,n){const{iScale:i}=r,{key:a="r"}=this._parsing,s=new Array(n);let c,l,d,u;for(c=0,l=n;c<l;++c)d=c+t,u=e[d],s[c]={r:i.parse(ki(u,a),d)};return s}const wP=Number.EPSILON||1e-14,Ca=(r,e)=>e<r.length&&!r[e].skip&&r[e],q_=r=>r==="x"?"y":"x";function SP(r,e,t,n){const i=r.skip?e:r,a=e,s=t.skip?e:t,c=np(a,i),l=np(s,a);let d=c/(c+l),u=l/(c+l);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=n*d,p=n*u;return{previous:{x:a.x-h*(s.x-i.x),y:a.y-h*(s.y-i.y)},next:{x:a.x+p*(s.x-i.x),y:a.y+p*(s.y-i.y)}}}function AP(r,e,t){const n=r.length;let i,a,s,c,l,d=Ca(r,0);for(let u=0;u<n-1;++u)if(l=d,d=Ca(r,u+1),!(!l||!d)){if(fs(e[u],0,wP)){t[u]=t[u+1]=0;continue}i=t[u]/e[u],a=t[u+1]/e[u],c=Math.pow(i,2)+Math.pow(a,2),!(c<=9)&&(s=3/Math.sqrt(c),t[u]=i*s*e[u],t[u+1]=a*s*e[u])}}function NP(r,e,t="x"){const n=q_(t),i=r.length;let a,s,c,l=Ca(r,0);for(let d=0;d<i;++d){if(s=c,c=l,l=Ca(r,d+1),!c)continue;const u=c[t],h=c[n];s&&(a=(u-s[t])/3,c[`cp1${t}`]=u-a,c[`cp1${n}`]=h-a*e[d]),l&&(a=(l[t]-u)/3,c[`cp2${t}`]=u+a,c[`cp2${n}`]=h+a*e[d])}}function EP(r,e="x"){const t=q_(e),n=r.length,i=Array(n).fill(0),a=Array(n);let s,c,l,d=Ca(r,0);for(s=0;s<n;++s)if(c=l,l=d,d=Ca(r,s+1),!!l){if(d){const u=d[e]-l[e];i[s]=u!==0?(d[t]-l[t])/u:0}a[s]=c?d?br(i[s-1])!==br(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}AP(r,i,a),NP(r,a,e)}function Pc(r,e,t){return Math.max(Math.min(r,t),e)}function TP(r,e){let t,n,i,a,s,c=jr(r[0],e);for(t=0,n=r.length;t<n;++t)s=a,a=c,c=t<n-1&&jr(r[t+1],e),a&&(i=r[t],s&&(i.cp1x=Pc(i.cp1x,e.left,e.right),i.cp1y=Pc(i.cp1y,e.top,e.bottom)),c&&(i.cp2x=Pc(i.cp2x,e.left,e.right),i.cp2y=Pc(i.cp2y,e.top,e.bottom)))}function kP(r,e,t,n,i){let a,s,c,l;if(e.spanGaps&&(r=r.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")EP(r,i);else{let d=n?r[r.length-1]:r[0];for(a=0,s=r.length;a<s;++a)c=r[a],l=SP(d,c,r[Math.min(a+1,s-(n?0:1))%s],e.tension),c.cp1x=l.previous.x,c.cp1y=l.previous.y,c.cp2x=l.next.x,c.cp2y=l.next.y,d=c}e.capBezierPoints&&TP(r,t)}function im(){return typeof window<"u"&&typeof document<"u"}function om(r){let e=r.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function sd(r,e,t){let n;return typeof r=="string"?(n=parseInt(r,10),r.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=r,n}const ru=r=>r.ownerDocument.defaultView.getComputedStyle(r,null);function IP(r,e){return ru(r).getPropertyValue(e)}const xP=["top","right","bottom","left"];function so(r,e,t){const n={};t=t?"-"+t:"";for(let i=0;i<4;i++){const a=xP[i];n[a]=parseFloat(r[e+"-"+a+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const PP=(r,e,t)=>(r>0||e>0)&&(!t||!t.shadowRoot);function DP(r,e){const t=r.touches,n=t&&t.length?t[0]:r,{offsetX:i,offsetY:a}=n;let s=!1,c,l;if(PP(i,a,r.target))c=i,l=a;else{const d=e.getBoundingClientRect();c=n.clientX-d.left,l=n.clientY-d.top,s=!0}return{x:c,y:l,box:s}}function ji(r,e){if("native"in r)return r;const{canvas:t,currentDevicePixelRatio:n}=e,i=ru(t),a=i.boxSizing==="border-box",s=so(i,"padding"),c=so(i,"border","width"),{x:l,y:d,box:u}=DP(r,t),h=s.left+(u&&c.left),p=s.top+(u&&c.top);let{width:f,height:g}=e;return a&&(f-=s.width+c.width,g-=s.height+c.height),{x:Math.round((l-h)/f*t.width/n),y:Math.round((d-p)/g*t.height/n)}}function OP(r,e,t){let n,i;if(e===void 0||t===void 0){const a=r&&om(r);if(!a)e=r.clientWidth,t=r.clientHeight;else{const s=a.getBoundingClientRect(),c=ru(a),l=so(c,"border","width"),d=so(c,"padding");e=s.width-d.width-l.width,t=s.height-d.height-l.height,n=sd(c.maxWidth,a,"clientWidth"),i=sd(c.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:n||od,maxHeight:i||od}}const Dc=r=>Math.round(r*10)/10;function RP(r,e,t,n){const i=ru(r),a=so(i,"margin"),s=sd(i.maxWidth,r,"clientWidth")||od,c=sd(i.maxHeight,r,"clientHeight")||od,l=OP(r,e,t);let{width:d,height:u}=l;if(i.boxSizing==="content-box"){const p=so(i,"border","width"),f=so(i,"padding");d-=f.width+p.width,u-=f.height+p.height}return d=Math.max(0,d-a.width),u=Math.max(0,n?d/n:u-a.height),d=Dc(Math.min(d,s,l.maxWidth)),u=Dc(Math.min(u,c,l.maxHeight)),d&&!u&&(u=Dc(d/2)),(e!==void 0||t!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,d=Dc(Math.floor(u*n))),{width:d,height:u}}function z1(r,e,t){const n=e||1,i=Math.floor(r.height*n),a=Math.floor(r.width*n);r.height=Math.floor(r.height),r.width=Math.floor(r.width);const s=r.canvas;return s.style&&(t||!s.style.height&&!s.style.width)&&(s.style.height=`${r.height}px`,s.style.width=`${r.width}px`),r.currentDevicePixelRatio!==n||s.height!==i||s.width!==a?(r.currentDevicePixelRatio=n,s.height=i,s.width=a,r.ctx.setTransform(n,0,0,n,0,0),!0):!1}const MP=function(){let r=!1;try{const e={get passive(){return r=!0,!1}};im()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return r}();function j1(r,e){const t=IP(r,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function qi(r,e,t,n){return{x:r.x+t*(e.x-r.x),y:r.y+t*(e.y-r.y)}}function LP(r,e,t,n){return{x:r.x+t*(e.x-r.x),y:n==="middle"?t<.5?r.y:e.y:n==="after"?t<1?r.y:e.y:t>0?e.y:r.y}}function FP(r,e,t,n){const i={x:r.cp2x,y:r.cp2y},a={x:e.cp1x,y:e.cp1y},s=qi(r,i,t),c=qi(i,a,t),l=qi(a,e,t),d=qi(s,c,t),u=qi(c,l,t);return qi(d,u,t)}const HP=function(r,e){return{x(t){return r+r+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},UP=function(){return{x(r){return r},setWidth(r){},textAlign(r){return r},xPlus(r,e){return r+e},leftForLtr(r,e){return r}}};function ta(r,e,t){return r?HP(e,t):UP()}function K_(r,e){let t,n;(e==="ltr"||e==="rtl")&&(t=r.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),r.prevTextDirection=n)}function G_(r,e){e!==void 0&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",e[0],e[1]))}function Q_(r){return r==="angle"?{between:xs,compare:$x,normalize:Nn}:{between:Wr,compare:(e,t)=>e-t,normalize:e=>e}}function q1({start:r,end:e,count:t,loop:n,style:i}){return{start:r%t,end:e%t,loop:n&&(e-r+1)%t===0,style:i}}function $P(r,e,t){const{property:n,start:i,end:a}=t,{between:s,normalize:c}=Q_(n),l=e.length;let{start:d,end:u,loop:h}=r,p,f;if(h){for(d+=l,u+=l,p=0,f=l;p<f&&s(c(e[d%l][n]),i,a);++p)d--,u--;d%=l,u%=l}return u<d&&(u+=l),{start:d,end:u,loop:h,style:r.style}}function Z_(r,e,t){if(!t)return[r];const{property:n,start:i,end:a}=t,s=e.length,{compare:c,between:l,normalize:d}=Q_(n),{start:u,end:h,loop:p,style:f}=$P(r,e,t),g=[];let m=!1,v=null,_,y,w;const b=()=>l(i,w,_)&&c(i,w)!==0,C=()=>c(a,_)===0||l(a,w,_),N=()=>m||b(),S=()=>!m||C();for(let k=u,T=u;k<=h;++k)y=e[k%s],!y.skip&&(_=d(y[n]),_!==w&&(m=l(_,i,a),v===null&&N()&&(v=c(_,i)===0?k:T),v!==null&&S()&&(g.push(q1({start:v,end:k,loop:p,count:s,style:f})),v=null),T=k,w=_));return v!==null&&g.push(q1({start:v,end:h,loop:p,count:s,style:f})),g}function X_(r,e){const t=[],n=r.segments;for(let i=0;i<n.length;i++){const a=Z_(n[i],r.points,e);a.length&&t.push(...a)}return t}function BP(r,e,t,n){let i=0,a=e-1;if(t&&!n)for(;i<e&&!r[i].skip;)i++;for(;i<e&&r[i].skip;)i++;for(i%=e,t&&(a+=i);a>i&&r[a%e].skip;)a--;return a%=e,{start:i,end:a}}function VP(r,e,t,n){const i=r.length,a=[];let s=e,c=r[e],l;for(l=e+1;l<=t;++l){const d=r[l%i];d.skip||d.stop?c.skip||(n=!1,a.push({start:e%i,end:(l-1)%i,loop:n}),e=s=d.stop?l:null):(s=l,c.skip&&(e=l)),c=d}return s!==null&&a.push({start:e%i,end:s%i,loop:n}),a}function YP(r,e){const t=r.points,n=r.options.spanGaps,i=t.length;if(!i)return[];const a=!!r._loop,{start:s,end:c}=BP(t,i,a,n);if(n===!0)return K1(r,[{start:s,end:c,loop:a}],t,e);const l=c<s?c+i:c,d=!!r._fullLoop&&s===0&&c===i-1;return K1(r,VP(t,s,l,d),t,e)}function K1(r,e,t,n){return!n||!n.setContext||!t?e:WP(r,e,t,n)}function WP(r,e,t,n){const i=r._chart.getContext(),a=G1(r.options),{_datasetIndex:s,options:{spanGaps:c}}=r,l=t.length,d=[];let u=a,h=e[0].start,p=h;function f(g,m,v,_){const y=c?-1:1;if(g!==m){for(g+=l;t[g%l].skip;)g-=y;for(;t[m%l].skip;)m+=y;g%l!==m%l&&(d.push({start:g%l,end:m%l,loop:v,style:_}),u=_,h=m%l)}}for(const g of e){h=c?h:g.start;let m=t[h%l],v;for(p=h+1;p<=g.end;p++){const _=t[p%l];v=G1(n.setContext(Ui(i,{type:"segment",p0:m,p1:_,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:s}))),zP(v,u)&&f(h,p-1,g.loop,u),m=_,u=v}h<p-1&&f(h,p-1,g.loop,u)}return d}function G1(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function zP(r,e){if(!e)return!1;const t=[],n=function(i,a){return Jf(a)?(t.includes(a)||t.push(a),t.indexOf(a)):a};return JSON.stringify(r,n)!==JSON.stringify(e,n)}/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class jP{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const a=t.listeners[i],s=t.duration;a.forEach(c=>c({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(n-t.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=M_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const a=n.items;let s=a.length-1,c=!1,l;for(;s>=0;--s)l=a[s],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),c=!0):(a[s]=a[a.length-1],a.pop());c&&(i.draw(),this._notify(i,n,e,"progress")),a.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Mr=new jP;const Q1="transparent",qP={boolean(r,e,t){return t>.5?e:r},color(r,e,t){const n=$1(r||Q1),i=n.valid&&$1(e||Q1);return i&&i.valid?i.mix(n,t).hexString():e},number(r,e,t){return r+(e-r)*t}};class KP{constructor(e,t,n,i){const a=t[n];i=es([e.to,i,a,e.from]);const s=es([e.from,a,i]);this._active=!0,this._fn=e.fn||qP[e.type||typeof s],this._easing=ms[e.easing]||ms.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],a=n-this._start,s=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=es([e.to,t,i,e.from]),this._from=es([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,a=this._from,s=this._loop,c=this._to;let l;if(this._active=a!==c&&(s||t<n),!this._active){this._target[i]=c,this._notify(!0);return}if(t<0){this._target[i]=a;return}l=t/n%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(a,c,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}}class J_{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Ee(e))return;const t=Object.keys(yt.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const a=e[i];if(!Ee(a))return;const s={};for(const c of t)s[c]=a[c];(ot(a.properties)&&a.properties||[i]).forEach(c=>{(c===i||!n.has(c))&&n.set(c,s)})})}_animateOptions(e,t){const n=t.options,i=QP(e,n);if(!i)return[];const a=this._createAnimations(i,n);return n.$shared&&GP(e.options.$animations,n).then(()=>{e.options=n},()=>{}),a}_createAnimations(e,t){const n=this._properties,i=[],a=e.$animations||(e.$animations={}),s=Object.keys(t),c=Date.now();let l;for(l=s.length-1;l>=0;--l){const d=s[l];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(e,t));continue}const u=t[d];let h=a[d];const p=n.get(d);if(h)if(p&&h.active()){h.update(p,u,c);continue}else h.cancel();if(!p||!p.duration){e[d]=u;continue}a[d]=h=new KP(p,e,d,u),i.push(h)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const n=this._createAnimations(e,t);if(n.length)return Mr.add(this._chart,n),!0}}function GP(r,e){const t=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const a=r[n[i]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function QP(r,e){if(!e)return;let t=r.options;if(!t){r.options=e;return}return t.$shared&&(r.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Z1(r,e){const t=r&&r.options||{},n=t.reverse,i=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:n?a:i,end:n?i:a}}function ZP(r,e,t){if(t===!1)return!1;const n=Z1(r,t),i=Z1(e,t);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function XP(r){let e,t,n,i;return Ee(r)?(e=r.top,t=r.right,n=r.bottom,i=r.left):e=t=n=i=r,{top:e,right:t,bottom:n,left:i,disabled:r===!1}}function e5(r,e){const t=[],n=r._getSortedDatasetMetas(e);let i,a;for(i=0,a=n.length;i<a;++i)t.push(n[i].index);return t}function X1(r,e,t,n={}){const i=r.keys,a=n.mode==="single";let s,c,l,d;if(e!==null){for(s=0,c=i.length;s<c;++s){if(l=+i[s],l===t){if(n.all)continue;break}d=r.values[l],_t(d)&&(a||e===0||br(e)===br(d))&&(e+=d)}return e}}function JP(r,e){const{iScale:t,vScale:n}=e,i=t.axis==="x"?"x":"y",a=n.axis==="x"?"x":"y",s=Object.keys(r),c=new Array(s.length);let l,d,u;for(l=0,d=s.length;l<d;++l)u=s[l],c[l]={[i]:u,[a]:r[u]};return c}function J1(r,e){const t=r&&r.options.stacked;return t||t===void 0&&e.stack!==void 0}function eD(r,e,t){return`${r.id}.${e.id}.${t.stack||t.type}`}function tD(r){const{min:e,max:t,minDefined:n,maxDefined:i}=r.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function nD(r,e,t){const n=r[e]||(r[e]={});return n[t]||(n[t]={})}function e0(r,e,t,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const a=r[i.index];if(t&&a>0||!t&&a<0)return i.index}return null}function t0(r,e){const{chart:t,_cachedMeta:n}=r,i=t._stacks||(t._stacks={}),{iScale:a,vScale:s,index:c}=n,l=a.axis,d=s.axis,u=eD(a,s,n),h=e.length;let p;for(let f=0;f<h;++f){const g=e[f],{[l]:m,[d]:v}=g,_=g._stacks||(g._stacks={});p=_[d]=nD(i,u,m),p[c]=v,p._top=e0(p,s,!0,n.type),p._bottom=e0(p,s,!1,n.type);const y=p._visualValues||(p._visualValues={});y[c]=v}}function Hu(r,e){const t=r.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function rD(r,e){return Ui(r,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function iD(r,e,t){return Ui(r,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Ua(r,e){const t=r.controller.index,n=r.vScale&&r.vScale.axis;if(n){e=e||r._parsed;for(const i of e){const a=i._stacks;if(!a||a[n]===void 0||a[n][t]===void 0)return;delete a[n][t],a[n]._visualValues!==void 0&&a[n]._visualValues[t]!==void 0&&delete a[n]._visualValues[t]}}}const Uu=r=>r==="reset"||r==="none",n0=(r,e)=>e?r:Object.assign({},r),oD=(r,e,t)=>r&&!e.hidden&&e._stacked&&{keys:e5(t,!0),values:null};class Zn{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=J1(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ua(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(h,p,f,g)=>h==="x"?p:h==="r"?g:f,a=t.xAxisID=ye(n.xAxisID,Hu(e,"x")),s=t.yAxisID=ye(n.yAxisID,Hu(e,"y")),c=t.rAxisID=ye(n.rAxisID,Hu(e,"r")),l=t.indexAxis,d=t.iAxisID=i(l,a,s,c),u=t.vAxisID=i(l,s,a,c);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&F1(this._data,this),e._stacked&&Ua(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Ee(t)){const i=this._cachedMeta;this._data=JP(t,i)}else if(n!==t){if(n){F1(n,this);const i=this._cachedMeta;Ua(i),i._parsed=[]}t&&Object.isExtensible(t)&&Wx(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const a=t._stacked;t._stacked=J1(t.vScale,t),t.stack!==n.stack&&(i=!0,Ua(t),t.stack=n.stack),this._resyncElements(e),(i||a!==t._stacked)&&t0(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:a,_stacked:s}=n,c=a.axis;let l=e===0&&t===i.length?!0:n._sorted,d=e>0&&n._parsed[e-1],u,h,p;if(this._parsing===!1)n._parsed=i,n._sorted=!0,p=i;else{ot(i[e])?p=this.parseArrayData(n,i,e,t):Ee(i[e])?p=this.parseObjectData(n,i,e,t):p=this.parsePrimitiveData(n,i,e,t);const f=()=>h[c]===null||d&&h[c]<d[c];for(u=0;u<t;++u)n._parsed[u+e]=h=p[u],l&&(f()&&(l=!1),d=h);n._sorted=l}s&&t0(this,p)}parsePrimitiveData(e,t,n,i){const{iScale:a,vScale:s}=e,c=a.axis,l=s.axis,d=a.getLabels(),u=a===s,h=new Array(i);let p,f,g;for(p=0,f=i;p<f;++p)g=p+n,h[p]={[c]:u||a.parse(d[g],g),[l]:s.parse(t[g],g)};return h}parseArrayData(e,t,n,i){const{xScale:a,yScale:s}=e,c=new Array(i);let l,d,u,h;for(l=0,d=i;l<d;++l)u=l+n,h=t[u],c[l]={x:a.parse(h[0],u),y:s.parse(h[1],u)};return c}parseObjectData(e,t,n,i){const{xScale:a,yScale:s}=e,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=new Array(i);let u,h,p,f;for(u=0,h=i;u<h;++u)p=u+n,f=t[p],d[u]={x:a.parse(ki(f,c),p),y:s.parse(ki(f,l),p)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,a=this._cachedMeta,s=t[e.axis],c={keys:e5(i,!0),values:t._stacks[e.axis]._visualValues};return X1(c,s,a.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const a=n[t.axis];let s=a===null?NaN:a;const c=i&&n._stacks[t.axis];i&&c&&(i.values=c,s=X1(i,a,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,a=n._sorted&&e===n.iScale,s=i.length,c=this._getOtherScale(e),l=oD(t,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=tD(c);let p,f;function g(){f=i[p];const m=f[c.axis];return!_t(f[e.axis])||u>m||h<m}for(p=0;p<s&&!(!g()&&(this.updateRangeFromParsed(d,e,f,l),a));++p);if(a){for(p=s-1;p>=0;--p)if(!g()){this.updateRangeFromParsed(d,e,f,l);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,a,s;for(i=0,a=t.length;i<a;++i)s=t[i][e.axis],_t(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,a=this.getParsed(e);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=XP(ye(this.options.clip,ZP(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],a=t.chartArea,s=[],c=this._drawStart||0,l=this._drawCount||i.length-c,d=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,a,c,l),u=c;u<c+l;++u){const h=i[u];h.hidden||(h.active&&d?s.push(h):h.draw(e,a))}for(u=0;u<s.length;++u)s[u].draw(e,a)}getStyle(e,t){const n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const s=this._cachedMeta.data[e];a=s.$context||(s.$context=iD(this.getContext(),e,s)),a.parsed=this.getParsed(e),a.raw=i.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=rD(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=n,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const i=t==="active",a=this._cachedDataOpts,s=e+"-"+t,c=a[s],l=this.enableOptionSharing&&Is(n);if(c)return n0(c,l);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],p=d.getOptionScopes(this.getDataset(),u),f=Object.keys(yt.elements[e]),g=()=>this.getContext(n,i,t),m=d.resolveNamedOptions(p,f,g,h);return m.$shared&&(m.$shared=l,a[s]=Object.freeze(n0(m,l))),m}_resolveAnimations(e,t,n){const i=this.chart,a=this._cachedDataOpts,s=`animation-${t}`,c=a[s];if(c)return c;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,t),p=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(p,this.getContext(e,n,t))}const d=new J_(i,l&&l.animations);return l&&l._cacheable&&(a[s]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Uu(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,a=this.getSharedOptions(n),s=this.includeOptions(t,a)||a!==i;return this.updateSharedOptions(a,t,n),{sharedOptions:a,includeOptions:s}}updateElement(e,t,n,i){Uu(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!Uu(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const a=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[c,l,d]of this._syncList)this[c](l,d);this._syncList=[];const i=n.length,a=t.length,s=Math.min(a,i);s&&this.parse(0,s),a>i?this._insertElements(i,a-i,e):a<i&&this._removeElements(a,i-a)}_insertElements(e,t,n=!0){const i=this._cachedMeta,a=i.data,s=e+t;let c;const l=d=>{for(d.length+=t,c=d.length-1;c>=s;c--)d[c]=d[c-t]};for(l(a),c=e;c<s;++c)a[c]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,t),n&&this.updateElements(a,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&Ua(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}$(Zn,"defaults",{}),$(Zn,"datasetElementType",null),$(Zn,"dataElementType",null);function aD(r,e){if(!r._cache.$bar){const t=r.getMatchingVisibleMetas(e);let n=[];for(let i=0,a=t.length;i<a;i++)n=n.concat(t[i].controller.getAllParsedValues(r));r._cache.$bar=R_(n.sort((i,a)=>i-a))}return r._cache.$bar}function sD(r){const e=r.iScale,t=aD(e,r.type);let n=e._length,i,a,s,c;const l=()=>{s===32767||s===-32768||(Is(c)&&(n=Math.min(n,Math.abs(s-c)||n)),c=s)};for(i=0,a=t.length;i<a;++i)s=e.getPixelForValue(t[i]),l();for(c=void 0,i=0,a=e.ticks.length;i<a;++i)s=e.getPixelForTick(i),l();return n}function cD(r,e,t,n){const i=t.barThickness;let a,s;return De(i)?(a=e.min*t.categoryPercentage,s=t.barPercentage):(a=i*n,s=1),{chunk:a/n,ratio:s,start:e.pixels[r]-a/2}}function lD(r,e,t,n){const i=e.pixels,a=i[r];let s=r>0?i[r-1]:null,c=r<i.length-1?i[r+1]:null;const l=t.categoryPercentage;s===null&&(s=a-(c===null?e.end-e.start:c-a)),c===null&&(c=a+a-s);const d=a-(a-Math.min(s,c))/2*l;return{chunk:Math.abs(c-s)/2*l/n,ratio:t.barPercentage,start:d}}function dD(r,e,t,n){const i=t.parse(r[0],n),a=t.parse(r[1],n),s=Math.min(i,a),c=Math.max(i,a);let l=s,d=c;Math.abs(s)>Math.abs(c)&&(l=c,d=s),e[t.axis]=d,e._custom={barStart:l,barEnd:d,start:i,end:a,min:s,max:c}}function t5(r,e,t,n){return ot(r)?dD(r,e,t,n):e[t.axis]=t.parse(r,n),e}function r0(r,e,t,n){const i=r.iScale,a=r.vScale,s=i.getLabels(),c=i===a,l=[];let d,u,h,p;for(d=t,u=t+n;d<u;++d)p=e[d],h={},h[i.axis]=c||i.parse(s[d],d),l.push(t5(p,h,a,d));return l}function $u(r){return r&&r.barStart!==void 0&&r.barEnd!==void 0}function uD(r,e,t){return r!==0?br(r):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function hD(r){let e,t,n,i,a;return r.horizontal?(e=r.base>r.x,t="left",n="right"):(e=r.base<r.y,t="bottom",n="top"),e?(i="end",a="start"):(i="start",a="end"),{start:t,end:n,reverse:e,top:i,bottom:a}}function pD(r,e,t,n){let i=e.borderSkipped;const a={};if(!i){r.borderSkipped=a;return}if(i===!0){r.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:s,end:c,reverse:l,top:d,bottom:u}=hD(r);i==="middle"&&t&&(r.enableBorderRadius=!0,(t._top||0)===n?i=d:(t._bottom||0)===n?i=u:(a[i0(u,s,c,l)]=!0,i=d)),a[i0(i,s,c,l)]=!0,r.borderSkipped=a}function i0(r,e,t,n){return n?(r=fD(r,e,t),r=o0(r,t,e)):r=o0(r,e,t),r}function fD(r,e,t){return r===e?t:r===t?e:r}function o0(r,e,t){return r==="start"?e:r==="end"?t:r}function mD(r,{inflateAmount:e},t){r.inflateAmount=e==="auto"?t===1?.33:0:e}class vs extends Zn{parsePrimitiveData(e,t,n,i){return r0(e,t,n,i)}parseArrayData(e,t,n,i){return r0(e,t,n,i)}parseObjectData(e,t,n,i){const{iScale:a,vScale:s}=e,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=a.axis==="x"?c:l,u=s.axis==="x"?c:l,h=[];let p,f,g,m;for(p=n,f=n+i;p<f;++p)m=t[p],g={},g[a.axis]=a.parse(ki(m,d),p),h.push(t5(ki(m,u),g,s,p));return h}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);const a=n._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:i}=t,a=this.getParsed(e),s=a._custom,c=$u(s)?"["+s.start+", "+s.end+"]":""+i.getLabelForValue(a[i.axis]);return{label:""+n.getLabelForValue(a[n.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){const a=i==="reset",{index:s,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),d=c.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:p}=this._getSharedOptions(t,i);for(let f=t;f<t+n;f++){const g=this.getParsed(f),m=a||De(g[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),v=this._calculateBarIndexPixels(f,u),_=(g._stacks||{})[c.axis],y={horizontal:d,base:m.base,enableBorderRadius:!_||$u(g._custom)||s===_._top||s===_._bottom,x:d?m.head:v.center,y:d?v.center:m.head,height:d?v.size:Math.abs(m.size),width:d?Math.abs(m.size):v.size};p&&(y.options=h||this.resolveDataElementOptions(f,e[f].active?"active":i));const w=y.options||e[f].options;pD(y,w,_,s),mD(y,w,u.ratio),this.updateElement(e[f],f,y,i)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),a=n.options.stacked,s=[],c=l=>{const d=l.controller.getParsed(t),u=d&&d[l.vScale.axis];if(De(u)||isNaN(u))return!0};for(const l of i)if(!(t!==void 0&&c(l))&&((a===!1||s.indexOf(l.stack)===-1||a===void 0&&l.stack===void 0)&&s.push(l.stack),l.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const i=this._getStacks(e,n),a=t!==void 0?i.indexOf(t):-1;return a===-1?i.length-1:a}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,i=[];let a,s;for(a=0,s=t.data.length;a<s;++a)i.push(n.getPixelForValue(this.getParsed(a)[n.axis],a));const c=e.barThickness;return{min:c||sD(t),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:i},options:{base:a,minBarLength:s}}=this,c=a||0,l=this.getParsed(e),d=l._custom,u=$u(d);let h=l[t.axis],p=0,f=n?this.applyStack(t,l,n):h,g,m;f!==h&&(p=f-h,f=h),u&&(h=d.barStart,f=d.barEnd-d.barStart,h!==0&&br(h)!==br(d.barEnd)&&(p=0),p+=h);const v=!De(a)&&!u?a:p;let _=t.getPixelForValue(v);if(this.chart.getDataVisibility(e)?g=t.getPixelForValue(p+f):g=_,m=g-_,Math.abs(m)<s){m=uD(m,t,c)*s,h===c&&(_-=m/2);const y=t.getPixelForDecimal(0),w=t.getPixelForDecimal(1),b=Math.min(y,w),C=Math.max(y,w);_=Math.max(Math.min(_,C),b),g=_+m,n&&!u&&(l._stacks[t.axis]._visualValues[i]=t.getValueForPixel(g)-t.getValueForPixel(_))}if(_===t.getPixelForValue(c)){const y=br(m)*t.getLineWidthForValue(c)/2;_+=y,m-=y}return{size:m,base:_,head:g,center:g+m/2}}_calculateBarIndexPixels(e,t){const n=t.scale,i=this.options,a=i.skipNull,s=ye(i.maxBarThickness,1/0);let c,l;if(t.grouped){const d=a?this._getStackCount(e):t.stackCount,u=i.barThickness==="flex"?lD(e,t,i,d):cD(e,t,i,d),h=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);c=u.start+u.chunk*h+u.chunk/2,l=Math.min(s,u.chunk*u.ratio)}else c=n.getPixelForValue(this.getParsed(e)[n.axis],e),l=Math.min(s,t.min*t.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length;let a=0;for(;a<i;++a)this.getParsed(a)[t.axis]!==null&&!n[a].hidden&&n[a].draw(this._ctx)}}$(vs,"id","bar"),$(vs,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),$(vs,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class hl extends Zn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,i){const a=super.parsePrimitiveData(e,t,n,i);for(let s=0;s<a.length;s++)a[s]._custom=this.resolveDataElementOptions(s+n).radius;return a}parseArrayData(e,t,n,i){const a=super.parseArrayData(e,t,n,i);for(let s=0;s<a.length;s++){const c=t[n+s];a[s]._custom=ye(c[2],this.resolveDataElementOptions(s+n).radius)}return a}parseObjectData(e,t,n,i){const a=super.parseObjectData(e,t,n,i);for(let s=0;s<a.length;s++){const c=t[n+s];a[s]._custom=ye(c&&c.r&&+c.r,this.resolveDataElementOptions(s+n).radius)}return a}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:a}=t,s=this.getParsed(e),c=i.getLabelForValue(s.x),l=a.getLabelForValue(s.y),d=s._custom;return{label:n[e]||"",value:"("+c+", "+l+(d?", "+d:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,i){const a=i==="reset",{iScale:s,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:d}=this._getSharedOptions(t,i),u=s.axis,h=c.axis;for(let p=t;p<t+n;p++){const f=e[p],g=!a&&this.getParsed(p),m={},v=m[u]=a?s.getPixelForDecimal(.5):s.getPixelForValue(g[u]),_=m[h]=a?c.getBasePixel():c.getPixelForValue(g[h]);m.skip=isNaN(v)||isNaN(_),d&&(m.options=l||this.resolveDataElementOptions(p,f.active?"active":i),a&&(m.options.radius=0)),this.updateElement(f,p,m,i)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const a=i.radius;return t!=="active"&&(i.radius=0),i.radius+=ye(n&&n._custom,a),i}}$(hl,"id","bubble"),$(hl,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),$(hl,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function gD(r,e,t){let n=1,i=1,a=0,s=0;if(e<st){const c=r,l=c+e,d=Math.cos(c),u=Math.sin(c),h=Math.cos(l),p=Math.sin(l),f=(w,b,C)=>xs(w,c,l,!0)?1:Math.max(b,b*t,C,C*t),g=(w,b,C)=>xs(w,c,l,!0)?-1:Math.min(b,b*t,C,C*t),m=f(0,d,h),v=f(Et,u,p),_=g(ct,d,h),y=g(ct+Et,u,p);n=(m-_)/2,i=(v-y)/2,a=-(m+_)/2,s=-(v+y)/2}return{ratioX:n,ratioY:i,offsetX:a,offsetY:s}}class Xi extends Zn{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let a=l=>+n[l];if(Ee(n[e])){const{key:l="value"}=this._parsing;a=d=>+ki(n[d],l)}let s,c;for(s=e,c=e+t;s<c;++s)i._parsed[s]=a(s)}}_getRotation(){return jn(this.options.rotation-90)}_getCircumference(){return jn(this.options.circumference)}_getRotationExtents(){let e=st,t=-st;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,a=i._getRotation(),s=i._getCircumference();e=Math.min(e,a),t=Math.max(t,a+s)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,i=this._cachedMeta,a=i.data,s=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(n.width,n.height)-s)/2,0),l=Math.min(xx(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:p,ratioY:f,offsetX:g,offsetY:m}=gD(h,u,l),v=(n.width-s)/p,_=(n.height-s)/f,y=Math.max(Math.min(v,_)/2,0),w=I_(this.options.radius,y),b=Math.max(w*l,0),C=(w-b)/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=m*w,i.total=this.calculateTotal(),this.outerRadius=w-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*d,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const n=this.options,i=this._cachedMeta,a=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*a/st)}updateElements(e,t,n,i){const a=i==="reset",s=this.chart,c=s.chartArea,d=s.options.animation,u=(c.left+c.right)/2,h=(c.top+c.bottom)/2,p=a&&d.animateScale,f=p?0:this.innerRadius,g=p?0:this.outerRadius,{sharedOptions:m,includeOptions:v}=this._getSharedOptions(t,i);let _=this._getRotation(),y;for(y=0;y<t;++y)_+=this._circumference(y,a);for(y=t;y<t+n;++y){const w=this._circumference(y,a),b=e[y],C={x:u+this.offsetX,y:h+this.offsetY,startAngle:_,endAngle:_+w,circumference:w,outerRadius:g,innerRadius:f};v&&(C.options=m||this.resolveDataElementOptions(y,b.active?"active":i)),_+=w,this.updateElement(b,y,C,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n=0,i;for(i=0;i<t.length;i++){const a=e._parsed[i];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(n+=Math.abs(a))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?st*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],a=Zs(t._parsed[e],n.options.locale);return{label:i[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const n=this.chart;let i,a,s,c,l;if(!e){for(i=0,a=n.data.datasets.length;i<a;++i)if(n.isDatasetVisible(i)){s=n.getDatasetMeta(i),e=s.data,c=s.controller;break}}if(!e)return 0;for(i=0,a=e.length;i<a;++i)l=c.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,i=e.length;n<i;++n){const a=this.resolveDataElementOptions(n);t=Math.max(t,a.offset||0,a.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(ye(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}$(Xi,"id","doughnut"),$(Xi,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),$(Xi,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),$(Xi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map((a,s)=>{const l=e.getDatasetMeta(0).controller.getStyle(s);return{text:a,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class pl extends Zn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:i=[],_dataset:a}=t,s=this.chart._animationsDisabled;let{start:c,count:l}=F_(t,i,s);this._drawStart=c,this._drawCount=l,H_(t)&&(c=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=i;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:d},e),this.updateElements(i,c,l,e)}updateElements(e,t,n,i){const a=i==="reset",{iScale:s,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,i),p=s.axis,f=c.axis,{spanGaps:g,segment:m}=this.options,v=_a(g)?g:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||a||i==="none",y=t+n,w=e.length;let b=t>0&&this.getParsed(t-1);for(let C=0;C<w;++C){const N=e[C],S=_?N:{};if(C<t||C>=y){S.skip=!0;continue}const k=this.getParsed(C),T=De(k[f]),A=S[p]=s.getPixelForValue(k[p],C),E=S[f]=a||T?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,k,l):k[f],C);S.skip=isNaN(A)||isNaN(E)||T,S.stop=C>0&&Math.abs(k[p]-b[p])>v,m&&(S.parsed=k,S.raw=d.data[C]),h&&(S.options=u||this.resolveDataElementOptions(C,N.active?"active":i)),_||this.updateElement(N,C,S,i),b=k}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const a=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,a,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}$(pl,"id","line"),$(pl,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),$(pl,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class _s extends Zn{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],a=Zs(t._parsed[e].r,n.options.locale);return{label:i[e]||"",value:a}}parseObjectData(e,t,n,i){return j_.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,i)=>{const a=this.getParsed(i).r;!isNaN(a)&&this.chart.getDataVisibility(i)&&(a<t.min&&(t.min=a),a>t.max&&(t.max=a))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),a=Math.max(i/2,0),s=Math.max(n.cutoutPercentage?a/100*n.cutoutPercentage:1,0),c=(a-s)/e.getVisibleDatasetCount();this.outerRadius=a-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(e,t,n,i){const a=i==="reset",s=this.chart,l=s.options.animation,d=this._cachedMeta.rScale,u=d.xCenter,h=d.yCenter,p=d.getIndexAngle(0)-.5*ct;let f=p,g;const m=360/this.countVisibleElements();for(g=0;g<t;++g)f+=this._computeAngle(g,i,m);for(g=t;g<t+n;g++){const v=e[g];let _=f,y=f+this._computeAngle(g,i,m),w=s.getDataVisibility(g)?d.getDistanceFromCenterForValue(this.getParsed(g).r):0;f=y,a&&(l.animateScale&&(w=0),l.animateRotate&&(_=y=p));const b={x:u,y:h,innerRadius:0,outerRadius:w,startAngle:_,endAngle:y,options:this.resolveDataElementOptions(g,v.active?"active":i)};this.updateElement(v,g,b,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((n,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++}),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?jn(this.resolveDataElementOptions(e,t).angle||n):0}}$(_s,"id","polarArea"),$(_s,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),$(_s,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map((a,s)=>{const l=e.getDatasetMeta(0).controller.getStyle(s);return{text:a,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class op extends Xi{}$(op,"id","pie"),$(op,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class fl extends Zn{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,i){return j_.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta,n=t.dataset,i=t.data||[],a=t.iScale.getLabels();if(n.points=i,e!=="resize"){const s=this.resolveDatasetElementOptions(e);this.options.showLine||(s.borderWidth=0);const c={_loop:!0,_fullLoop:a.length===i.length,options:s};this.updateElement(n,void 0,c,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,n,i){const a=this._cachedMeta.rScale,s=i==="reset";for(let c=t;c<t+n;c++){const l=e[c],d=this.resolveDataElementOptions(c,l.active?"active":i),u=a.getPointPositionForValue(c,this.getParsed(c).r),h=s?a.xCenter:u.x,p=s?a.yCenter:u.y,f={x:h,y:p,angle:u.angle,skip:isNaN(h)||isNaN(p),options:d};this.updateElement(l,c,f,i)}}}$(fl,"id","radar"),$(fl,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),$(fl,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class ml extends Zn{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:a}=t,s=this.getParsed(e),c=i.getLabelForValue(s.x),l=a.getLabelForValue(s.y);return{label:n[e]||"",value:"("+c+", "+l+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,i=this.chart._animationsDisabled;let{start:a,count:s}=F_(t,n,i);if(this._drawStart=a,this._drawCount=s,H_(t)&&(a=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:l}=t;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=n;const d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!i,options:d},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,a,s,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,i){const a=i==="reset",{iScale:s,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,u=this.resolveDataElementOptions(t,i),h=this.getSharedOptions(u),p=this.includeOptions(i,h),f=s.axis,g=c.axis,{spanGaps:m,segment:v}=this.options,_=_a(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||a||i==="none";let w=t>0&&this.getParsed(t-1);for(let b=t;b<t+n;++b){const C=e[b],N=this.getParsed(b),S=y?C:{},k=De(N[g]),T=S[f]=s.getPixelForValue(N[f],b),A=S[g]=a||k?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,N,l):N[g],b);S.skip=isNaN(T)||isNaN(A)||k,S.stop=b>0&&Math.abs(N[f]-w[f])>_,v&&(S.parsed=N,S.raw=d.data[b]),p&&(S.options=h||this.resolveDataElementOptions(b,C.active?"active":i)),y||this.updateElement(C,b,S,i),w=N}this.updateSharedOptions(h,i,u)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let c=0;for(let l=t.length-1;l>=0;--l)c=Math.max(c,t[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}const n=e.dataset,i=n.options&&n.options.borderWidth||0;if(!t.length)return i;const a=t[0].size(this.resolveDataElementOptions(0)),s=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,a,s)/2}}$(ml,"id","scatter"),$(ml,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),$(ml,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var vD=Object.freeze({__proto__:null,BarController:vs,BubbleController:hl,DoughnutController:Xi,LineController:pl,PieController:op,PolarAreaController:_s,RadarController:fl,ScatterController:ml});function Yi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class am{constructor(e){$(this,"options");this.options=e||{}}static override(e){Object.assign(am.prototype,e)}init(){}formats(){return Yi()}parse(){return Yi()}format(){return Yi()}add(){return Yi()}diff(){return Yi()}startOf(){return Yi()}endOf(){return Yi()}}var _D={_date:am};function yD(r,e,t,n){const{controller:i,data:a,_sorted:s}=r,c=i._cachedMeta.iScale;if(c&&e===c.axis&&e!=="r"&&s&&a.length){const l=c._reversePixels?Vx:zr;if(n){if(i._sharedOptions){const d=a[0],u=typeof d.getRange=="function"&&d.getRange(e);if(u){const h=l(a,e,t-u),p=l(a,e,t+u);return{lo:h.lo,hi:p.hi}}}}else return l(a,e,t)}return{lo:0,hi:a.length-1}}function Xs(r,e,t,n,i){const a=r.getSortedVisibleDatasetMetas(),s=t[e];for(let c=0,l=a.length;c<l;++c){const{index:d,data:u}=a[c],{lo:h,hi:p}=yD(a[c],e,s,i);for(let f=h;f<=p;++f){const g=u[f];g.skip||n(g,d,f)}}}function CD(r){const e=r.indexOf("x")!==-1,t=r.indexOf("y")!==-1;return function(n,i){const a=e?Math.abs(n.x-i.x):0,s=t?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(s,2))}}function Bu(r,e,t,n,i){const a=[];return!i&&!r.isPointInArea(e)||Xs(r,t,e,function(c,l,d){!i&&!jr(c,r.chartArea,0)||c.inRange(e.x,e.y,n)&&a.push({element:c,datasetIndex:l,index:d})},!0),a}function bD(r,e,t,n){let i=[];function a(s,c,l){const{startAngle:d,endAngle:u}=s.getProps(["startAngle","endAngle"],n),{angle:h}=D_(s,{x:e.x,y:e.y});xs(h,d,u)&&i.push({element:s,datasetIndex:c,index:l})}return Xs(r,t,e,a),i}function wD(r,e,t,n,i,a){let s=[];const c=CD(t);let l=Number.POSITIVE_INFINITY;function d(u,h,p){const f=u.inRange(e.x,e.y,i);if(n&&!f)return;const g=u.getCenterPoint(i);if(!(!!a||r.isPointInArea(g))&&!f)return;const v=c(e,g);v<l?(s=[{element:u,datasetIndex:h,index:p}],l=v):v===l&&s.push({element:u,datasetIndex:h,index:p})}return Xs(r,t,e,d),s}function Vu(r,e,t,n,i,a){return!a&&!r.isPointInArea(e)?[]:t==="r"&&!n?bD(r,e,t,i):wD(r,e,t,n,i,a)}function a0(r,e,t,n,i){const a=[],s=t==="x"?"inXRange":"inYRange";let c=!1;return Xs(r,t,e,(l,d,u)=>{l[s](e[t],i)&&(a.push({element:l,datasetIndex:d,index:u}),c=c||l.inRange(e.x,e.y,i))}),n&&!c?[]:a}var SD={evaluateInteractionItems:Xs,modes:{index(r,e,t,n){const i=ji(e,r),a=t.axis||"x",s=t.includeInvisible||!1,c=t.intersect?Bu(r,i,a,n,s):Vu(r,i,a,!1,n,s),l=[];return c.length?(r.getSortedVisibleDatasetMetas().forEach(d=>{const u=c[0].index,h=d.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:d.index,index:u})}),l):[]},dataset(r,e,t,n){const i=ji(e,r),a=t.axis||"xy",s=t.includeInvisible||!1;let c=t.intersect?Bu(r,i,a,n,s):Vu(r,i,a,!1,n,s);if(c.length>0){const l=c[0].datasetIndex,d=r.getDatasetMeta(l).data;c=[];for(let u=0;u<d.length;++u)c.push({element:d[u],datasetIndex:l,index:u})}return c},point(r,e,t,n){const i=ji(e,r),a=t.axis||"xy",s=t.includeInvisible||!1;return Bu(r,i,a,n,s)},nearest(r,e,t,n){const i=ji(e,r),a=t.axis||"xy",s=t.includeInvisible||!1;return Vu(r,i,a,t.intersect,n,s)},x(r,e,t,n){const i=ji(e,r);return a0(r,i,"x",t.intersect,n)},y(r,e,t,n){const i=ji(e,r);return a0(r,i,"y",t.intersect,n)}}};const n5=["left","top","right","bottom"];function $a(r,e){return r.filter(t=>t.pos===e)}function s0(r,e){return r.filter(t=>n5.indexOf(t.pos)===-1&&t.box.axis===e)}function Ba(r,e){return r.sort((t,n)=>{const i=e?n:t,a=e?t:n;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function AD(r){const e=[];let t,n,i,a,s,c;for(t=0,n=(r||[]).length;t<n;++t)i=r[t],{position:a,options:{stack:s,stackWeight:c=1}}=i,e.push({index:t,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&a+s,stackWeight:c});return e}function ND(r){const e={};for(const t of r){const{stack:n,pos:i,stackWeight:a}=t;if(!n||!n5.includes(i))continue;const s=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=a}return e}function ED(r,e){const t=ND(r),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let a,s,c;for(a=0,s=r.length;a<s;++a){c=r[a];const{fullSize:l}=c.box,d=t[c.stack],u=d&&c.stackWeight/d.weight;c.horizontal?(c.width=u?u*n:l&&e.availableWidth,c.height=i):(c.width=n,c.height=u?u*i:l&&e.availableHeight)}return t}function TD(r){const e=AD(r),t=Ba(e.filter(d=>d.box.fullSize),!0),n=Ba($a(e,"left"),!0),i=Ba($a(e,"right")),a=Ba($a(e,"top"),!0),s=Ba($a(e,"bottom")),c=s0(e,"x"),l=s0(e,"y");return{fullSize:t,leftAndTop:n.concat(a),rightAndBottom:i.concat(l).concat(s).concat(c),chartArea:$a(e,"chartArea"),vertical:n.concat(i).concat(l),horizontal:a.concat(s).concat(c)}}function c0(r,e,t,n){return Math.max(r[t],e[t])+Math.max(r[n],e[n])}function r5(r,e){r.top=Math.max(r.top,e.top),r.left=Math.max(r.left,e.left),r.bottom=Math.max(r.bottom,e.bottom),r.right=Math.max(r.right,e.right)}function kD(r,e,t,n){const{pos:i,box:a}=t,s=r.maxPadding;if(!Ee(i)){t.size&&(r[i]-=t.size);const h=n[t.stack]||{size:0,count:1};h.size=Math.max(h.size,t.horizontal?a.height:a.width),t.size=h.size/h.count,r[i]+=t.size}a.getPadding&&r5(s,a.getPadding());const c=Math.max(0,e.outerWidth-c0(s,r,"left","right")),l=Math.max(0,e.outerHeight-c0(s,r,"top","bottom")),d=c!==r.w,u=l!==r.h;return r.w=c,r.h=l,t.horizontal?{same:d,other:u}:{same:u,other:d}}function ID(r){const e=r.maxPadding;function t(n){const i=Math.max(e[n]-r[n],0);return r[n]+=i,i}r.y+=t("top"),r.x+=t("left"),t("right"),t("bottom")}function xD(r,e){const t=e.maxPadding;function n(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(s=>{a[s]=Math.max(e[s],t[s])}),a}return n(r?["left","right"]:["top","bottom"])}function ts(r,e,t,n){const i=[];let a,s,c,l,d,u;for(a=0,s=r.length,d=0;a<s;++a){c=r[a],l=c.box,l.update(c.width||e.w,c.height||e.h,xD(c.horizontal,e));const{same:h,other:p}=kD(e,t,c,n);d|=h&&i.length,u=u||p,l.fullSize||i.push(c)}return d&&ts(i,e,t,n)||u}function Oc(r,e,t,n,i){r.top=t,r.left=e,r.right=e+n,r.bottom=t+i,r.width=n,r.height=i}function l0(r,e,t,n){const i=t.padding;let{x:a,y:s}=e;for(const c of r){const l=c.box,d=n[c.stack]||{count:1,placed:0,weight:1},u=c.stackWeight/d.weight||1;if(c.horizontal){const h=e.w*u,p=d.size||l.height;Is(d.start)&&(s=d.start),l.fullSize?Oc(l,i.left,s,t.outerWidth-i.right-i.left,p):Oc(l,e.left+d.placed,s,h,p),d.start=s,d.placed+=h,s=l.bottom}else{const h=e.h*u,p=d.size||l.width;Is(d.start)&&(a=d.start),l.fullSize?Oc(l,a,i.top,p,t.outerHeight-i.bottom-i.top):Oc(l,a,e.top+d.placed,p,h),d.start=a,d.placed+=h,a=l.right}}e.x=a,e.y=s}var tn={addBox(r,e){r.boxes||(r.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},r.boxes.push(e)},removeBox(r,e){const t=r.boxes?r.boxes.indexOf(e):-1;t!==-1&&r.boxes.splice(t,1)},configure(r,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(r,e,t,n){if(!r)return;const i=rn(r.options.layout.padding),a=Math.max(e-i.width,0),s=Math.max(t-i.height,0),c=TD(r.boxes),l=c.vertical,d=c.horizontal;Ye(r.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,v)=>v.box.options&&v.box.options.display===!1?m:m+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:a,availableHeight:s,vBoxMaxWidth:a/2/u,hBoxMaxHeight:s/2}),p=Object.assign({},i);r5(p,rn(n));const f=Object.assign({maxPadding:p,w:a,h:s,x:i.left,y:i.top},i),g=ED(l.concat(d),h);ts(c.fullSize,f,h,g),ts(l,f,h,g),ts(d,f,h,g)&&ts(l,f,h,g),ID(f),l0(c.leftAndTop,f,h,g),f.x+=f.w,f.y+=f.h,l0(c.rightAndBottom,f,h,g),r.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Ye(c.chartArea,m=>{const v=m.box;Object.assign(v,r.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class i5{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class PD extends i5{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const gl="$chartjs",DD={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},d0=r=>r===null||r==="";function OD(r,e){const t=r.style,n=r.getAttribute("height"),i=r.getAttribute("width");if(r[gl]={initial:{height:n,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",d0(i)){const a=j1(r,"width");a!==void 0&&(r.width=a)}if(d0(n))if(r.style.height==="")r.height=r.width/(e||2);else{const a=j1(r,"height");a!==void 0&&(r.height=a)}return r}const o5=MP?{passive:!0}:!1;function RD(r,e,t){r&&r.addEventListener(e,t,o5)}function MD(r,e,t){r&&r.canvas&&r.canvas.removeEventListener(e,t,o5)}function LD(r,e){const t=DD[r.type]||r.type,{x:n,y:i}=ji(r,e);return{type:t,chart:e,native:r,x:n!==void 0?n:null,y:i!==void 0?i:null}}function cd(r,e){for(const t of r)if(t===e||t.contains(e))return!0}function FD(r,e,t){const n=r.canvas,i=new MutationObserver(a=>{let s=!1;for(const c of a)s=s||cd(c.addedNodes,n),s=s&&!cd(c.removedNodes,n);s&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function HD(r,e,t){const n=r.canvas,i=new MutationObserver(a=>{let s=!1;for(const c of a)s=s||cd(c.removedNodes,n),s=s&&!cd(c.addedNodes,n);s&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const Ds=new Map;let u0=0;function a5(){const r=window.devicePixelRatio;r!==u0&&(u0=r,Ds.forEach((e,t)=>{t.currentDevicePixelRatio!==r&&e()}))}function UD(r,e){Ds.size||window.addEventListener("resize",a5),Ds.set(r,e)}function $D(r){Ds.delete(r),Ds.size||window.removeEventListener("resize",a5)}function BD(r,e,t){const n=r.canvas,i=n&&om(n);if(!i)return;const a=L_((c,l)=>{const d=i.clientWidth;t(c,l),d<i.clientWidth&&t()},window),s=new ResizeObserver(c=>{const l=c[0],d=l.contentRect.width,u=l.contentRect.height;d===0&&u===0||a(d,u)});return s.observe(i),UD(r,a),s}function Yu(r,e,t){t&&t.disconnect(),e==="resize"&&$D(r)}function VD(r,e,t){const n=r.canvas,i=L_(a=>{r.ctx!==null&&t(LD(a,r))},r);return RD(n,e,i),i}class YD extends i5{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(OD(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[gl])return!1;const n=t[gl].initial;["height","width"].forEach(a=>{const s=n[a];De(s)?t.removeAttribute(a):t.setAttribute(a,s)});const i=n.style||{};return Object.keys(i).forEach(a=>{t.style[a]=i[a]}),t.width=t.width,delete t[gl],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),s={attach:FD,detach:HD,resize:BD}[t]||VD;i[t]=s(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:Yu,detach:Yu,resize:Yu}[t]||MD)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return RP(e,t,n,i)}isAttached(e){const t=e&&om(e);return!!(t&&t.isConnected)}}function WD(r){return!im()||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas?PD:YD}var qc;let si=(qc=class{constructor(){$(this,"x");$(this,"y");$(this,"active",!1);$(this,"options");$(this,"$animations")}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return _a(this.x)&&_a(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach(a=>{i[a]=n[a]&&n[a].active()?n[a]._to:this[a]}),i}},$(qc,"defaults",{}),$(qc,"defaultRoutes"),qc);function zD(r,e){const t=r.options.ticks,n=jD(r),i=Math.min(t.maxTicksLimit||n,n),a=t.major.enabled?KD(e):[],s=a.length,c=a[0],l=a[s-1],d=[];if(s>i)return GD(e,d,a,s/i),d;const u=qD(a,e,i);if(s>0){let h,p;const f=s>1?Math.round((l-c)/(s-1)):null;for(Rc(e,d,u,De(f)?0:c-f,c),h=0,p=s-1;h<p;h++)Rc(e,d,u,a[h],a[h+1]);return Rc(e,d,u,l,De(f)?e.length:l+f),d}return Rc(e,d,u),d}function jD(r){const e=r.options.offset,t=r._tickSize(),n=r._length/t+(e?0:1),i=r._maxLength/t;return Math.floor(Math.min(n,i))}function qD(r,e,t){const n=QD(r),i=e.length/t;if(!n)return Math.max(i,1);const a=Hx(n);for(let s=0,c=a.length-1;s<c;s++){const l=a[s];if(l>i)return l}return Math.max(i,1)}function KD(r){const e=[];let t,n;for(t=0,n=r.length;t<n;t++)r[t].major&&e.push(t);return e}function GD(r,e,t,n){let i=0,a=t[0],s;for(n=Math.ceil(n),s=0;s<r.length;s++)s===a&&(e.push(r[s]),i++,a=t[i*n])}function Rc(r,e,t,n,i){const a=ye(n,0),s=Math.min(ye(i,r.length),r.length);let c=0,l,d,u;for(t=Math.ceil(t),i&&(l=i-n,t=l/Math.floor(l/t)),u=a;u<0;)c++,u=Math.round(a+c*t);for(d=Math.max(a,0);d<s;d++)d===u&&(e.push(r[d]),c++,u=Math.round(a+c*t))}function QD(r){const e=r.length;let t,n;if(e<2)return!1;for(n=r[0],t=1;t<e;++t)if(r[t]-r[t-1]!==n)return!1;return n}const ZD=r=>r==="left"?"right":r==="right"?"left":r,h0=(r,e,t)=>e==="top"||e==="left"?r[e]+t:r[e]-t,p0=(r,e)=>Math.min(e||r,r);function f0(r,e){const t=[],n=r.length/e,i=r.length;let a=0;for(;a<i;a+=n)t.push(r[Math.floor(a)]);return t}function XD(r,e,t){const n=r.ticks.length,i=Math.min(e,n-1),a=r._startPixel,s=r._endPixel,c=1e-6;let l=r.getPixelForTick(i),d;if(!(t&&(n===1?d=Math.max(l-a,s-l):e===0?d=(r.getPixelForTick(1)-l)/2:d=(l-r.getPixelForTick(i-1))/2,l+=i<e?d:-d,l<a-c||l>s+c)))return l}function JD(r,e){Ye(r,t=>{const n=t.gc,i=n.length/2;let a;if(i>e){for(a=0;a<i;++a)delete t.data[n[a]];n.splice(0,i)}})}function Va(r){return r.drawTicks?r.tickLength:0}function m0(r,e){if(!r.display)return 0;const t=Mt(r.font,e),n=rn(r.padding);return(ot(r.text)?r.text.length:1)*t.lineHeight+n.height}function eO(r,e){return Ui(r,{scale:e,type:"scale"})}function tO(r,e,t){return Ui(r,{tick:t,index:e,type:"tick"})}function nO(r,e,t){let n=Xf(r);return(t&&e!=="right"||!t&&e==="right")&&(n=ZD(n)),n}function rO(r,e,t,n){const{top:i,left:a,bottom:s,right:c,chart:l}=r,{chartArea:d,scales:u}=l;let h=0,p,f,g;const m=s-i,v=c-a;if(r.isHorizontal()){if(f=Xt(n,a,c),Ee(t)){const _=Object.keys(t)[0],y=t[_];g=u[_].getPixelForValue(y)+m-e}else t==="center"?g=(d.bottom+d.top)/2+m-e:g=h0(r,t,e);p=c-a}else{if(Ee(t)){const _=Object.keys(t)[0],y=t[_];f=u[_].getPixelForValue(y)-v+e}else t==="center"?f=(d.left+d.right)/2-v+e:f=h0(r,t,e);g=Xt(n,s,i),h=t==="left"?-Et:Et}return{titleX:f,titleY:g,maxWidth:p,rotation:h}}class Io extends si{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=Sn(e,Number.POSITIVE_INFINITY),t=Sn(t,Number.NEGATIVE_INFINITY),n=Sn(n,Number.POSITIVE_INFINITY),i=Sn(i,Number.NEGATIVE_INFINITY),{min:Sn(e,n),max:Sn(t,i),minDefined:_t(e),maxDefined:_t(t)}}getMinMax(e){let{min:t,max:n,minDefined:i,maxDefined:a}=this.getUserBounds(),s;if(i&&a)return{min:t,max:n};const c=this.getMatchingVisibleMetas();for(let l=0,d=c.length;l<d;++l)s=c[l].controller.getMinMax(this,e),i||(t=Math.min(t,s.min)),a||(n=Math.max(n,s.max));return t=a&&t>n?n:t,n=i&&t>n?t:n,{min:Sn(t,Sn(n,t)),max:Sn(n,Sn(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){nt(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:a,ticks:s}=this.options,c=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=hP(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=c<this.ticks.length;this._convertTicksToLabels(l?f0(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=zD(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){nt(this.options.afterUpdate,[this])}beforeSetDimensions(){nt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){nt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),nt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){nt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,a;for(n=0,i=e.length;n<i;n++)a=e[n],a.label=nt(t.callback,[a.value,n,e],this)}afterTickToLabelConversion(){nt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){nt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=p0(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,a=t.maxRotation;let s=i,c,l,d;if(!this._isVisible()||!t.display||i>=a||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,p=u.highest.height,f=Vt(this.chart.width-h,0,this.maxWidth);c=e.offset?this.maxWidth/n:f/(n-1),h+6>c&&(c=f/(n-(e.offset?.5:1)),l=this.maxHeight-Va(e.grid)-t.padding-m0(e.title,this.chart.options.font),d=Math.sqrt(h*h+p*p),s=Qf(Math.min(Math.asin(Vt((u.highest.height+6)/c,-1,1)),Math.asin(Vt(l/d,-1,1))-Math.asin(Vt(p/d,-1,1)))),s=Math.max(i,Math.min(a,s))),this.labelRotation=s}afterCalculateLabelRotation(){nt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){nt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:a}}=this,s=this._isVisible(),c=this.isHorizontal();if(s){const l=m0(i,t.options.font);if(c?(e.width=this.maxWidth,e.height=Va(a)+l):(e.height=this.maxHeight,e.width=Va(a)+l),n.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:p}=this._getLabelSizes(),f=n.padding*2,g=jn(this.labelRotation),m=Math.cos(g),v=Math.sin(g);if(c){const _=n.mirror?0:v*h.width+m*p.height;e.height=Math.min(this.maxHeight,e.height+_+f)}else{const _=n.mirror?0:m*h.width+v*p.height;e.width=Math.min(this.maxWidth,e.width+_+f)}this._calculatePadding(d,u,v,m)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:a,padding:s},position:c}=this.options,l=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,f=0;l?d?(p=i*e.width,f=n*t.height):(p=n*e.height,f=i*t.width):a==="start"?f=t.width:a==="end"?p=e.width:a!=="inner"&&(p=e.width/2,f=t.width/2),this.paddingLeft=Math.max((p-u+s)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+s)*this.width/(this.width-h),0)}else{let u=t.height/2,h=e.height/2;a==="start"?(u=0,h=e.height):a==="end"&&(u=t.height,h=0),this.paddingTop=u+s,this.paddingBottom=h+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){nt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)De(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=f0(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:i,_longestTextCache:a}=this,s=[],c=[],l=Math.floor(t/p0(t,n));let d=0,u=0,h,p,f,g,m,v,_,y,w,b,C;for(h=0;h<t;h+=l){if(g=e[h].label,m=this._resolveTickFontOptions(h),i.font=v=m.string,_=a[v]=a[v]||{data:{},gc:[]},y=m.lineHeight,w=b=0,!De(g)&&!ot(g))w=ad(i,_.data,_.gc,w,g),b=y;else if(ot(g))for(p=0,f=g.length;p<f;++p)C=g[p],!De(C)&&!ot(C)&&(w=ad(i,_.data,_.gc,w,C),b+=y);s.push(w),c.push(b),d=Math.max(w,d),u=Math.max(b,u)}JD(a,t);const N=s.indexOf(d),S=c.indexOf(u),k=T=>({width:s[T]||0,height:c[T]||0});return{first:k(0),last:k(t-1),widest:k(N),highest:k(S),widths:s,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Bx(this._alignToPixels?Vi(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=tO(this.getContext(),e,n))}return this.$context||(this.$context=eO(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=jn(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),a=this._getLabelSizes(),s=e.autoSkipPadding||0,c=a?a.widest.width+s:0,l=a?a.highest.height+s:0;return this.isHorizontal()?l*n>c*i?c/n:l/i:l*i<c*n?l/n:c/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:a,position:s,border:c}=i,l=a.offset,d=this.isHorizontal(),h=this.ticks.length+(l?1:0),p=Va(a),f=[],g=c.setContext(this.getContext()),m=g.display?g.width:0,v=m/2,_=function(L){return Vi(n,L,m)};let y,w,b,C,N,S,k,T,A,E,I,R;if(s==="top")y=_(this.bottom),S=this.bottom-p,T=y-v,E=_(e.top)+v,R=e.bottom;else if(s==="bottom")y=_(this.top),E=e.top,R=_(e.bottom)-v,S=y+v,T=this.top+p;else if(s==="left")y=_(this.right),N=this.right-p,k=y-v,A=_(e.left)+v,I=e.right;else if(s==="right")y=_(this.left),A=e.left,I=_(e.right)-v,N=y+v,k=this.left+p;else if(t==="x"){if(s==="center")y=_((e.top+e.bottom)/2+.5);else if(Ee(s)){const L=Object.keys(s)[0],B=s[L];y=_(this.chart.scales[L].getPixelForValue(B))}E=e.top,R=e.bottom,S=y+v,T=S+p}else if(t==="y"){if(s==="center")y=_((e.left+e.right)/2);else if(Ee(s)){const L=Object.keys(s)[0],B=s[L];y=_(this.chart.scales[L].getPixelForValue(B))}N=y-v,k=N-p,A=e.left,I=e.right}const M=ye(i.ticks.maxTicksLimit,h),F=Math.max(1,Math.ceil(h/M));for(w=0;w<h;w+=F){const L=this.getContext(w),B=a.setContext(L),H=c.setContext(L),j=B.lineWidth,te=B.color,de=H.dash||[],Q=H.dashOffset,_e=B.tickWidth,ge=B.tickColor,xe=B.tickBorderDash||[],Rt=B.tickBorderDashOffset;b=XD(this,w,l),b!==void 0&&(C=Vi(n,b,j),d?N=k=A=I=C:S=T=E=R=C,f.push({tx1:N,ty1:S,tx2:k,ty2:T,x1:A,y1:E,x2:I,y2:R,width:j,color:te,borderDash:de,borderDashOffset:Q,tickWidth:_e,tickColor:ge,tickBorderDash:xe,tickBorderDashOffset:Rt}))}return this._ticksLength=h,this._borderValue=y,f}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:a}=n,s=this.isHorizontal(),c=this.ticks,{align:l,crossAlign:d,padding:u,mirror:h}=a,p=Va(n.grid),f=p+u,g=h?-u:f,m=-jn(this.labelRotation),v=[];let _,y,w,b,C,N,S,k,T,A,E,I,R="middle";if(i==="top")N=this.bottom-g,S=this._getXAxisLabelAlignment();else if(i==="bottom")N=this.top+g,S=this._getXAxisLabelAlignment();else if(i==="left"){const F=this._getYAxisLabelAlignment(p);S=F.textAlign,C=F.x}else if(i==="right"){const F=this._getYAxisLabelAlignment(p);S=F.textAlign,C=F.x}else if(t==="x"){if(i==="center")N=(e.top+e.bottom)/2+f;else if(Ee(i)){const F=Object.keys(i)[0],L=i[F];N=this.chart.scales[F].getPixelForValue(L)+f}S=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")C=(e.left+e.right)/2-f;else if(Ee(i)){const F=Object.keys(i)[0],L=i[F];C=this.chart.scales[F].getPixelForValue(L)}S=this._getYAxisLabelAlignment(p).textAlign}t==="y"&&(l==="start"?R="top":l==="end"&&(R="bottom"));const M=this._getLabelSizes();for(_=0,y=c.length;_<y;++_){w=c[_],b=w.label;const F=a.setContext(this.getContext(_));k=this.getPixelForTick(_)+a.labelOffset,T=this._resolveTickFontOptions(_),A=T.lineHeight,E=ot(b)?b.length:1;const L=E/2,B=F.color,H=F.textStrokeColor,j=F.textStrokeWidth;let te=S;s?(C=k,S==="inner"&&(_===y-1?te=this.options.reverse?"left":"right":_===0?te=this.options.reverse?"right":"left":te="center"),i==="top"?d==="near"||m!==0?I=-E*A+A/2:d==="center"?I=-M.highest.height/2-L*A+A:I=-M.highest.height+A/2:d==="near"||m!==0?I=A/2:d==="center"?I=M.highest.height/2-L*A:I=M.highest.height-E*A,h&&(I*=-1),m!==0&&!F.showLabelBackdrop&&(C+=A/2*Math.sin(m))):(N=k,I=(1-E)*A/2);let de;if(F.showLabelBackdrop){const Q=rn(F.backdropPadding),_e=M.heights[_],ge=M.widths[_];let xe=I-Q.top,Rt=0-Q.left;switch(R){case"middle":xe-=_e/2;break;case"bottom":xe-=_e;break}switch(S){case"center":Rt-=ge/2;break;case"right":Rt-=ge;break;case"inner":_===y-1?Rt-=ge:_>0&&(Rt-=ge/2);break}de={left:Rt,top:xe,width:ge+Q.width,height:_e+Q.height,color:F.backdropColor}}v.push({label:b,font:T,textOffset:I,options:{rotation:m,color:B,strokeColor:H,strokeWidth:j,textAlign:te,textBaseline:R,translation:[C,N],backdrop:de}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-jn(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:a}}=this.options,s=this._getLabelSizes(),c=e+a,l=s.widest.width;let d,u;return t==="left"?i?(u=this.right+a,n==="near"?d="left":n==="center"?(d="center",u+=l/2):(d="right",u+=l)):(u=this.right-c,n==="near"?d="right":n==="center"?(d="center",u-=l/2):(d="left",u=this.left)):t==="right"?i?(u=this.left+a,n==="near"?d="right":n==="center"?(d="center",u-=l/2):(d="left",u-=l)):(u=this.left+c,n==="near"?d="left":n==="center"?(d="center",u+=l/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:a,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,a,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(a=>a.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,s;const c=(l,d,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(t.display)for(a=0,s=i.length;a<s;++a){const l=i[a];t.drawOnChartArea&&c({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&c({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,a=n.setContext(this.getContext()),s=n.display?a.width:0;if(!s)return;const c=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let d,u,h,p;this.isHorizontal()?(d=Vi(e,this.left,s)-s/2,u=Vi(e,this.right,c)+c/2,h=p=l):(h=Vi(e,this.top,s)-s/2,p=Vi(e,this.bottom,c)+c/2,d=u=l),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(d,h),t.lineTo(u,p),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&tu(n,i);const a=this.getLabelItems(e);for(const s of a){const c=s.options,l=s.font,d=s.label,u=s.textOffset;Co(n,d,0,u,l,c)}i&&nu(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const a=Mt(n.font),s=rn(n.padding),c=n.align;let l=a.lineHeight/2;t==="bottom"||t==="center"||Ee(t)?(l+=s.bottom,ot(n.text)&&(l+=a.lineHeight*(n.text.length-1))):l+=s.top;const{titleX:d,titleY:u,maxWidth:h,rotation:p}=rO(this,l,t,c);Co(e,n.text,0,0,a,{color:n.color,maxWidth:h,rotation:p,textAlign:nO(c,t,i),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=ye(e.grid&&e.grid.z,-1),i=ye(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Io.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:n,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let a,s;for(a=0,s=t.length;a<s;++a){const c=t[a];c[n]===this.id&&(!e||c.type===e)&&i.push(c)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Mt(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Mc{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;aO(t)&&(n=this.register(t));const i=this.items,a=e.id,s=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in i||(i[a]=e,iO(e,s,n),this.override&&yt.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in yt[i]&&(delete yt[i][n],this.override&&delete yo[n])}}function iO(r,e,t){const n=ks(Object.create(null),[t?yt.get(t):{},yt.get(e),r.defaults]);yt.set(e,n),r.defaultRoutes&&oO(e,r.defaultRoutes),r.descriptors&&yt.describe(e,r.descriptors)}function oO(r,e){Object.keys(e).forEach(t=>{const n=t.split("."),i=n.pop(),a=[r].concat(n).join("."),s=e[t].split("."),c=s.pop(),l=s.join(".");yt.route(a,i,l,c)})}function aO(r){return"id"in r&&"defaults"in r}class sO{constructor(){this.controllers=new Mc(Zn,"datasets",!0),this.elements=new Mc(si,"elements"),this.plugins=new Mc(Object,"plugins"),this.scales=new Mc(Io,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(i=>{const a=n||this._getRegistryForType(i);n||a.isForType(i)||a===this.plugins&&i.id?this._exec(e,a,i):Ye(i,s=>{const c=n||this._getRegistryForType(s);this._exec(e,c,s)})})}_exec(e,t,n){const i=Gf(e);nt(n["before"+i],[],n),t[e](n),nt(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var ar=new sO;class cO{constructor(){this._init=[]}notify(e,t,n,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=i?this._descriptors(e).filter(i):this._descriptors(e),s=this._notify(a,e,t,n);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,n,i){i=i||{};for(const a of e){const s=a.plugin,c=s[n],l=[t,i,a.options];if(nt(c,l,s)===!1&&i.cancelable)return!1}return!0}invalidate(){De(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=ye(n.options&&n.options.plugins,{}),a=lO(n);return i===!1&&!t?[]:uO(e,a,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(a,s)=>a.filter(c=>!s.some(l=>c.plugin.id===l.plugin.id));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function lO(r){const e={},t=[],n=Object.keys(ar.plugins.items);for(let a=0;a<n.length;a++)t.push(ar.getPlugin(n[a]));const i=r.plugins||[];for(let a=0;a<i.length;a++){const s=i[a];t.indexOf(s)===-1&&(t.push(s),e[s.id]=!0)}return{plugins:t,localIds:e}}function dO(r,e){return!e&&r===!1?null:r===!0?{}:r}function uO(r,{plugins:e,localIds:t},n,i){const a=[],s=r.getContext();for(const c of e){const l=c.id,d=dO(n[l],i);d!==null&&a.push({plugin:c,options:hO(r.config,{plugin:c,local:t[l]},d,s)})}return a}function hO(r,{plugin:e,local:t},n,i){const a=r.pluginScopeKeys(e),s=r.getOptionScopes(n,a);return t&&e.defaults&&s.push(e.defaults),r.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ap(r,e){const t=yt.datasets[r]||{};return((e.datasets||{})[r]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function pO(r,e){let t=r;return r==="_index_"?t=e:r==="_value_"&&(t=e==="x"?"y":"x"),t}function fO(r,e){return r===e?"_index_":"_value_"}function g0(r){if(r==="x"||r==="y"||r==="r")return r}function mO(r){if(r==="top"||r==="bottom")return"x";if(r==="left"||r==="right")return"y"}function sp(r,...e){if(g0(r))return r;for(const t of e){const n=t.axis||mO(t.position)||r.length>1&&g0(r[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${r}' axis. Please provide 'axis' or 'position' option.`)}function v0(r,e,t){if(t[e+"AxisID"]===r)return{axis:e}}function gO(r,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(n=>n.xAxisID===r||n.yAxisID===r);if(t.length)return v0(r,"x",t[0])||v0(r,"y",t[0])}return{}}function vO(r,e){const t=yo[r.type]||{scales:{}},n=e.scales||{},i=ap(r.type,e),a=Object.create(null);return Object.keys(n).forEach(s=>{const c=n[s];if(!Ee(c))return console.error(`Invalid scale configuration for scale: ${s}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const l=sp(s,c,gO(s,r),yt.scales[c.type]),d=fO(l,i),u=t.scales||{};a[s]=ps(Object.create(null),[{axis:l},c,u[l],u[d]])}),r.data.datasets.forEach(s=>{const c=s.type||r.type,l=s.indexAxis||ap(c,e),u=(yo[c]||{}).scales||{};Object.keys(u).forEach(h=>{const p=pO(h,l),f=s[p+"AxisID"]||p;a[f]=a[f]||Object.create(null),ps(a[f],[{axis:p},n[f],u[h]])})}),Object.keys(a).forEach(s=>{const c=a[s];ps(c,[yt.scales[c.type],yt.scale])}),a}function s5(r){const e=r.options||(r.options={});e.plugins=ye(e.plugins,{}),e.scales=vO(r,e)}function c5(r){return r=r||{},r.datasets=r.datasets||[],r.labels=r.labels||[],r}function _O(r){return r=r||{},r.data=c5(r.data),s5(r),r}const _0=new Map,l5=new Set;function Lc(r,e){let t=_0.get(r);return t||(t=e(),_0.set(r,t),l5.add(t)),t}const Ya=(r,e,t)=>{const n=ki(e,t);n!==void 0&&r.add(n)};class yO{constructor(e){this._config=_O(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=c5(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),s5(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Lc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Lc(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Lc(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return Lc(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return(!i||t)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:a}=this,s=this._cachedScopes(e,n),c=s.get(t);if(c)return c;const l=new Set;t.forEach(u=>{e&&(l.add(e),u.forEach(h=>Ya(l,e,h))),u.forEach(h=>Ya(l,i,h)),u.forEach(h=>Ya(l,yo[a]||{},h)),u.forEach(h=>Ya(l,yt,h)),u.forEach(h=>Ya(l,rp,h))});const d=Array.from(l);return d.length===0&&d.push(Object.create(null)),l5.has(t)&&s.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,yo[t]||{},yt.datasets[t]||{},{type:t},yt,rp]}resolveNamedOptions(e,t,n,i=[""]){const a={$shared:!0},{resolver:s,subPrefixes:c}=y0(this._resolverCache,e,i);let l=s;if(bO(s,t)){a.$shared=!1,n=Ii(n)?n():n;const d=this.createResolver(e,n,c);l=ya(s,n,d)}for(const d of t)a[d]=l[d];return a}createResolver(e,t,n=[""],i){const{resolver:a}=y0(this._resolverCache,e,n);return Ee(t)?ya(a,t,void 0,i):a}}function y0(r,e,t){let n=r.get(e);n||(n=new Map,r.set(e,n));const i=t.join();let a=n.get(i);return a||(a={resolver:tm(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},n.set(i,a)),a}const CO=r=>Ee(r)&&Object.getOwnPropertyNames(r).some(e=>Ii(r[e]));function bO(r,e){const{isScriptable:t,isIndexable:n}=V_(r);for(const i of e){const a=t(i),s=n(i),c=(s||a)&&r[i];if(a&&(Ii(c)||CO(c))||s&&ot(c))return!0}return!1}var wO="4.4.3";const SO=["top","bottom","left","right","chartArea"];function C0(r,e){return r==="top"||r==="bottom"||SO.indexOf(r)===-1&&e==="x"}function b0(r,e){return function(t,n){return t[r]===n[r]?t[e]-n[e]:t[r]-n[r]}}function w0(r){const e=r.chart,t=e.options.animation;e.notifyPlugins("afterRender"),nt(t&&t.onComplete,[r],e)}function AO(r){const e=r.chart,t=e.options.animation;nt(t&&t.onProgress,[r],e)}function d5(r){return im()&&typeof r=="string"?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}const vl={},S0=r=>{const e=d5(r);return Object.values(vl).filter(t=>t.canvas===e).pop()};function NO(r,e,t){const n=Object.keys(r);for(const i of n){const a=+i;if(a>=e){const s=r[i];delete r[i],(t>0||a>e)&&(r[a+t]=s)}}}function EO(r,e,t,n){return!t||r.type==="mouseout"?null:n?e:r}function Fc(r,e,t){return r.options.clip?r[t]:e[t]}function TO(r,e){const{xScale:t,yScale:n}=r;return t&&n?{left:Fc(t,e,"left"),right:Fc(t,e,"right"),top:Fc(n,e,"top"),bottom:Fc(n,e,"bottom")}:e}var ui;let Js=(ui=class{static register(...e){ar.add(...e),A0()}static unregister(...e){ar.remove(...e),A0()}constructor(e,t){const n=this.config=new yO(t),i=d5(e),a=S0(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||WD(i)),this.platform.updateConfig(n);const c=this.platform.acquireContext(i,s.aspectRatio),l=c&&c.canvas,d=l&&l.height,u=l&&l.width;if(this.id=Ix(),this.ctx=c,this.canvas=l,this.width=u,this.height=d,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new cO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=zx(h=>this.update(h),s.resizeDelay||0),this._dataChanges=[],vl[this.id]=this,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Mr.listen(this,"complete",w0),Mr.listen(this,"progress",AO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:a}=this;return De(e)?t&&a?a:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ar}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():z1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return V1(this.canvas,this.ctx),this}stop(){return Mr.stop(this),this}resize(e,t){Mr.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,e,t,a),c=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,z1(this,c,!0)&&(this.notifyPlugins("resize",{size:s}),nt(n.onResize,[this,s],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Ye(t,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce((s,c)=>(s[c]=!1,s),{});let a=[];t&&(a=a.concat(Object.keys(t).map(s=>{const c=t[s],l=sp(s,c),d=l==="r",u=l==="x";return{options:c,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),Ye(a,s=>{const c=s.options,l=c.id,d=sp(l,c),u=ye(c.type,s.dtype);(c.position===void 0||C0(c.position,d)!==C0(s.dposition))&&(c.position=s.dposition),i[l]=!0;let h=null;if(l in n&&n[l].type===u)h=n[l];else{const p=ar.getScale(u);h=new p({id:l,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(c,e)}),Ye(i,(s,c)=>{s||delete n[c]}),Ye(n,s=>{tn.configure(this,s,s.options),tn.addBox(this,s)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((i,a)=>i.index-a.index),n>t){for(let i=t;i<n;++i)this._destroyDatasetMeta(i);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(b0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,i)=>{t.filter(a=>a===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const a=t[n];let s=this.getDatasetMeta(n);const c=a.type||this.config.type;if(s.type&&s.type!==c&&(this._destroyDatasetMeta(n),s=this.getDatasetMeta(n)),s.type=c,s.indexAxis=a.indexAxis||ap(c,this.options),s.order=a.order||0,s.index=n,s.label=""+a.label,s.visible=this.isDatasetVisible(n),s.controller)s.controller.updateIndex(n),s.controller.linkScales();else{const l=ar.getController(c),{datasetElementType:d,dataElementType:u}=yt.datasets[c];Object.assign(l,{dataElementType:ar.getElement(u),datasetElementType:d&&ar.getElement(d)}),s.controller=new l(this,n),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){Ye(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),p=!i&&a.indexOf(h)===-1;h.buildOrUpdateElements(p),s=Math.max(+h.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),i||Ye(a,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(b0("z","_idx"));const{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Ye(this.scales,e=>{tn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!O1(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:a}of t){const s=n==="_removeElements"?-a:a;NO(e,i,s)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=a=>new Set(e.filter(s=>s[0]===a).map((s,c)=>c+","+s.splice(1).join(","))),i=n(0);for(let a=1;a<t;a++)if(!O1(i,n(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;tn.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],Ye(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,Ii(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Mr.has(this)?this.attached&&!Mr.running(this)&&Mr.start(this):(this.draw(),w0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resize(n,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,a;for(i=0,a=t.length;i<a;++i){const s=t[i];(!e||s.visible)&&n.push(s)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,i=!n.disabled,a=TO(e,this.chartArea),s={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&tu(t,{left:n.left===!1?0:a.left-n.left,right:n.right===!1?this.width:a.right+n.right,top:n.top===!1?0:a.top-n.top,bottom:n.bottom===!1?this.height:a.bottom+n.bottom}),e.controller.draw(),i&&nu(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return jr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const a=SD.modes[t];return typeof a=="function"?a(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter(a=>a&&a._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Ui(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){const n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",a=this.getDatasetMeta(e),s=a.controller._resolveAnimations(void 0,i);Is(t)?(a.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(a,{visible:n}),this.update(c=>c.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Mr.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),V1(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete vl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(a,s)=>{t.addEventListener(this,a,s),e[a]=s},i=(a,s,c)=>{a.offsetX=s,a.offsetY=c,this._eventHandler(a)};Ye(this.options.events,a=>n(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(l,d)=>{t.addEventListener(this,l,d),e[l]=d},i=(l,d)=>{e[l]&&(t.removeEventListener(this,l,d),delete e[l])},a=(l,d)=>{this.canvas&&this.resize(l,d)};let s;const c=()=>{i("attach",c),this.attached=!0,this.resize(),n("resize",a),n("detach",s)};s=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),n("attach",c)},t.isAttached(this.canvas)?c():s()}unbindEvents(){Ye(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Ye(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let a,s,c,l;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),c=0,l=e.length;c<l;++c){s=e[c];const d=s&&this.getDatasetMeta(s.datasetIndex).controller;d&&d[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:a,index:s})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[s],index:s}});!rd(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,n){const i=this.options.hover,a=(l,d)=>l.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),s=a(t,e),c=n?e:a(e,t);s.length&&this.updateHoverStyle(s,i.mode,!1),c.length&&i.mode&&this.updateHoverStyle(c,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=s=>(s.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const a=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(a||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:a}=this,s=t,c=this._getActiveElements(e,i,n,s),l=Mx(e),d=EO(e,this._lastEvent,n,l);n&&(this._lastEvent=null,nt(a.onHover,[e,c,this],this),l&&nt(a.onClick,[e,c,this],this));const u=!rd(c,i);return(u||t)&&(this._active=c,this._updateHoverStyles(c,i,t)),this._lastEvent=d,u}_getActiveElements(e,t,n,i){if(e.type==="mouseout")return[];if(!n)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,i)}},$(ui,"defaults",yt),$(ui,"instances",vl),$(ui,"overrides",yo),$(ui,"registry",ar),$(ui,"version",wO),$(ui,"getChart",S0),ui);function A0(){return Ye(Js.instances,r=>r._plugins.invalidate())}function kO(r,e,t){const{startAngle:n,pixelMargin:i,x:a,y:s,outerRadius:c,innerRadius:l}=e;let d=i/c;r.beginPath(),r.arc(a,s,c,n-d,t+d),l>i?(d=i/l,r.arc(a,s,l,t+d,n-d,!0)):r.arc(a,s,i,t+Et,n-Et),r.closePath(),r.clip()}function IO(r){return em(r,["outerStart","outerEnd","innerStart","innerEnd"])}function xO(r,e,t,n){const i=IO(r.options.borderRadius),a=(t-e)/2,s=Math.min(a,n*e/2),c=l=>{const d=(t-Math.min(a,l))*n/2;return Vt(l,0,Math.min(a,d))};return{outerStart:c(i.outerStart),outerEnd:c(i.outerEnd),innerStart:Vt(i.innerStart,0,s),innerEnd:Vt(i.innerEnd,0,s)}}function Uo(r,e,t,n){return{x:t+r*Math.cos(e),y:n+r*Math.sin(e)}}function ld(r,e,t,n,i,a){const{x:s,y:c,startAngle:l,pixelMargin:d,innerRadius:u}=e,h=Math.max(e.outerRadius+n+t-d,0),p=u>0?u+n+t+d:0;let f=0;const g=i-l;if(n){const F=u>0?u-n:0,L=h>0?h-n:0,B=(F+L)/2,H=B!==0?g*B/(B+n):g;f=(g-H)/2}const m=Math.max(.001,g*h-t/ct)/h,v=(g-m)/2,_=l+v+f,y=i-v-f,{outerStart:w,outerEnd:b,innerStart:C,innerEnd:N}=xO(e,p,h,y-_),S=h-w,k=h-b,T=_+w/S,A=y-b/k,E=p+C,I=p+N,R=_+C/E,M=y-N/I;if(r.beginPath(),a){const F=(T+A)/2;if(r.arc(s,c,h,T,F),r.arc(s,c,h,F,A),b>0){const j=Uo(k,A,s,c);r.arc(j.x,j.y,b,A,y+Et)}const L=Uo(I,y,s,c);if(r.lineTo(L.x,L.y),N>0){const j=Uo(I,M,s,c);r.arc(j.x,j.y,N,y+Et,M+Math.PI)}const B=(y-N/p+(_+C/p))/2;if(r.arc(s,c,p,y-N/p,B,!0),r.arc(s,c,p,B,_+C/p,!0),C>0){const j=Uo(E,R,s,c);r.arc(j.x,j.y,C,R+Math.PI,_-Et)}const H=Uo(S,_,s,c);if(r.lineTo(H.x,H.y),w>0){const j=Uo(S,T,s,c);r.arc(j.x,j.y,w,_-Et,T)}}else{r.moveTo(s,c);const F=Math.cos(T)*h+s,L=Math.sin(T)*h+c;r.lineTo(F,L);const B=Math.cos(A)*h+s,H=Math.sin(A)*h+c;r.lineTo(B,H)}r.closePath()}function PO(r,e,t,n,i){const{fullCircles:a,startAngle:s,circumference:c}=e;let l=e.endAngle;if(a){ld(r,e,t,n,l,i);for(let d=0;d<a;++d)r.fill();isNaN(c)||(l=s+(c%st||st))}return ld(r,e,t,n,l,i),r.fill(),l}function DO(r,e,t,n,i){const{fullCircles:a,startAngle:s,circumference:c,options:l}=e,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:p}=l,f=l.borderAlign==="inner";if(!d)return;r.setLineDash(h||[]),r.lineDashOffset=p,f?(r.lineWidth=d*2,r.lineJoin=u||"round"):(r.lineWidth=d,r.lineJoin=u||"bevel");let g=e.endAngle;if(a){ld(r,e,t,n,g,i);for(let m=0;m<a;++m)r.stroke();isNaN(c)||(g=s+(c%st||st))}f&&kO(r,e,g),a||(ld(r,e,t,n,g,i),r.stroke())}class ns extends si{constructor(t){super();$(this,"circumference");$(this,"endAngle");$(this,"fullCircles");$(this,"innerRadius");$(this,"outerRadius");$(this,"pixelMargin");$(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,i){const a=this.getProps(["x","y"],i),{angle:s,distance:c}=D_(a,{x:t,y:n}),{startAngle:l,endAngle:d,innerRadius:u,outerRadius:h,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,m=ye(p,d-l)>=st||xs(s,l,d),v=Wr(c,u+f,h+f);return m&&v}getCenterPoint(t){const{x:n,y:i,startAngle:a,endAngle:s,innerRadius:c,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:u}=this.options,h=(a+s)/2,p=(c+l+u+d)/2;return{x:n+Math.cos(h)*p,y:i+Math.sin(h)*p}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:i}=this,a=(n.offset||0)/4,s=(n.spacing||0)/2,c=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>st?Math.floor(i/st):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*a,Math.sin(l)*a);const d=1-Math.sin(Math.min(ct,i||0)),u=a*d;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,PO(t,this,u,s,c),DO(t,this,u,s,c),t.restore()}}$(ns,"id","arc"),$(ns,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),$(ns,"defaultRoutes",{backgroundColor:"backgroundColor"}),$(ns,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function u5(r,e,t=e){r.lineCap=ye(t.borderCapStyle,e.borderCapStyle),r.setLineDash(ye(t.borderDash,e.borderDash)),r.lineDashOffset=ye(t.borderDashOffset,e.borderDashOffset),r.lineJoin=ye(t.borderJoinStyle,e.borderJoinStyle),r.lineWidth=ye(t.borderWidth,e.borderWidth),r.strokeStyle=ye(t.borderColor,e.borderColor)}function OO(r,e,t){r.lineTo(t.x,t.y)}function RO(r){return r.stepped?rP:r.tension||r.cubicInterpolationMode==="monotone"?iP:OO}function h5(r,e,t={}){const n=r.length,{start:i=0,end:a=n-1}=t,{start:s,end:c}=e,l=Math.max(i,s),d=Math.min(a,c),u=i<s&&a<s||i>c&&a>c;return{count:n,start:l,loop:e.loop,ilen:d<l&&!u?n+d-l:d-l}}function MO(r,e,t,n){const{points:i,options:a}=e,{count:s,start:c,loop:l,ilen:d}=h5(i,t,n),u=RO(a);let{move:h=!0,reverse:p}=n||{},f,g,m;for(f=0;f<=d;++f)g=i[(c+(p?d-f:f))%s],!g.skip&&(h?(r.moveTo(g.x,g.y),h=!1):u(r,m,g,p,a.stepped),m=g);return l&&(g=i[(c+(p?d:0))%s],u(r,m,g,p,a.stepped)),!!l}function LO(r,e,t,n){const i=e.points,{count:a,start:s,ilen:c}=h5(i,t,n),{move:l=!0,reverse:d}=n||{};let u=0,h=0,p,f,g,m,v,_;const y=b=>(s+(d?c-b:b))%a,w=()=>{m!==v&&(r.lineTo(u,v),r.lineTo(u,m),r.lineTo(u,_))};for(l&&(f=i[y(0)],r.moveTo(f.x,f.y)),p=0;p<=c;++p){if(f=i[y(p)],f.skip)continue;const b=f.x,C=f.y,N=b|0;N===g?(C<m?m=C:C>v&&(v=C),u=(h*u+b)/++h):(w(),r.lineTo(b,C),g=N,h=0,m=v=C),_=C}w()}function cp(r){const e=r.options,t=e.borderDash&&e.borderDash.length;return!r._decimated&&!r._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?LO:MO}function FO(r){return r.stepped?LP:r.tension||r.cubicInterpolationMode==="monotone"?FP:qi}function HO(r,e,t,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,n)&&i.closePath()),u5(r,e.options),r.stroke(i)}function UO(r,e,t,n){const{segments:i,options:a}=e,s=cp(e);for(const c of i)u5(r,a,c.style),r.beginPath(),s(r,e,c,{start:t,end:t+n-1})&&r.closePath(),r.stroke()}const $O=typeof Path2D=="function";function BO(r,e,t,n){$O&&!e.options.segment?HO(r,e,t,n):UO(r,e,t,n)}class Ci extends si{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;kP(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=YP(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],a=this.points,s=X_(this,{property:t,start:i,end:i});if(!s.length)return;const c=[],l=FO(n);let d,u;for(d=0,u=s.length;d<u;++d){const{start:h,end:p}=s[d],f=a[h],g=a[p];if(f===g){c.push(f);continue}const m=Math.abs((i-f[t])/(g[t]-f[t])),v=l(f,g,m,n.stepped);v[t]=e[t],c.push(v)}return c.length===1?c[0]:c}pathSegment(e,t,n){return cp(this)(e,this,t,n)}path(e,t,n){const i=this.segments,a=cp(this);let s=this._loop;t=t||0,n=n||this.points.length-t;for(const c of i)s&=a(e,this,c,{start:t,end:t+n-1});return!!s}draw(e,t,n,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),BO(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}$(Ci,"id","line"),$(Ci,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),$(Ci,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),$(Ci,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function N0(r,e,t,n){const i=r.options,{[t]:a}=r.getProps([t],n);return Math.abs(e-a)<i.radius+i.hitRadius}class _l extends si{constructor(t){super();$(this,"parsed");$(this,"skip");$(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,i){const a=this.options,{x:s,y:c}=this.getProps(["x","y"],i);return Math.pow(t-s,2)+Math.pow(n-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(t,n){return N0(this,t,"x",n)}inYRange(t,n){return N0(this,t,"y",n)}getCenterPoint(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const i=n&&t.borderWidth||0;return(n+i)*2}draw(t,n){const i=this.options;this.skip||i.radius<.1||!jr(this,n,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,ip(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}$(_l,"id","point"),$(_l,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),$(_l,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function p5(r,e){const{x:t,y:n,base:i,width:a,height:s}=r.getProps(["x","y","base","width","height"],e);let c,l,d,u,h;return r.horizontal?(h=s/2,c=Math.min(t,i),l=Math.max(t,i),d=n-h,u=n+h):(h=a/2,c=t-h,l=t+h,d=Math.min(n,i),u=Math.max(n,i)),{left:c,top:d,right:l,bottom:u}}function bi(r,e,t,n){return r?0:Vt(e,t,n)}function VO(r,e,t){const n=r.options.borderWidth,i=r.borderSkipped,a=B_(n);return{t:bi(i.top,a.top,0,t),r:bi(i.right,a.right,0,e),b:bi(i.bottom,a.bottom,0,t),l:bi(i.left,a.left,0,e)}}function YO(r,e,t){const{enableBorderRadius:n}=r.getProps(["enableBorderRadius"]),i=r.options.borderRadius,a=ao(i),s=Math.min(e,t),c=r.borderSkipped,l=n||Ee(i);return{topLeft:bi(!l||c.top||c.left,a.topLeft,0,s),topRight:bi(!l||c.top||c.right,a.topRight,0,s),bottomLeft:bi(!l||c.bottom||c.left,a.bottomLeft,0,s),bottomRight:bi(!l||c.bottom||c.right,a.bottomRight,0,s)}}function WO(r){const e=p5(r),t=e.right-e.left,n=e.bottom-e.top,i=VO(r,t/2,n/2),a=YO(r,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:a},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function Wu(r,e,t,n){const i=e===null,a=t===null,c=r&&!(i&&a)&&p5(r,n);return c&&(i||Wr(e,c.left,c.right))&&(a||Wr(t,c.top,c.bottom))}function zO(r){return r.topLeft||r.topRight||r.bottomLeft||r.bottomRight}function jO(r,e){r.rect(e.x,e.y,e.w,e.h)}function zu(r,e,t={}){const n=r.x!==t.x?-e:0,i=r.y!==t.y?-e:0,a=(r.x+r.w!==t.x+t.w?e:0)-n,s=(r.y+r.h!==t.y+t.h?e:0)-i;return{x:r.x+n,y:r.y+i,w:r.w+a,h:r.h+s,radius:r.radius}}class yl extends si{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:a,outer:s}=WO(this),c=zO(s.radius)?Ps:jO;e.save(),(s.w!==a.w||s.h!==a.h)&&(e.beginPath(),c(e,zu(s,t,a)),e.clip(),c(e,zu(a,-t,s)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),c(e,zu(a,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return Wu(this,e,t,n)}inXRange(e,t){return Wu(this,e,null,t)}inYRange(e,t){return Wu(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:i,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+i)/2:t,y:a?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}$(yl,"id","bar"),$(yl,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),$(yl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var qO=Object.freeze({__proto__:null,ArcElement:ns,BarElement:yl,LineElement:Ci,PointElement:_l});const lp=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],E0=lp.map(r=>r.replace("rgb(","rgba(").replace(")",", 0.5)"));function f5(r){return lp[r%lp.length]}function m5(r){return E0[r%E0.length]}function KO(r,e){return r.borderColor=f5(e),r.backgroundColor=m5(e),++e}function GO(r,e){return r.backgroundColor=r.data.map(()=>f5(e++)),e}function QO(r,e){return r.backgroundColor=r.data.map(()=>m5(e++)),e}function ZO(r){let e=0;return(t,n)=>{const i=r.getDatasetMeta(n).controller;i instanceof Xi?e=GO(t,e):i instanceof _s?e=QO(t,e):i&&(e=KO(t,e))}}function T0(r){let e;for(e in r)if(r[e].borderColor||r[e].backgroundColor)return!0;return!1}function XO(r){return r&&(r.borderColor||r.backgroundColor)}var JO={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(r,e,t){if(!t.enabled)return;const{data:{datasets:n},options:i}=r.config,{elements:a}=i;if(!t.forceOverride&&(T0(n)||XO(i)||a&&T0(a)))return;const s=ZO(r);n.forEach(s)}};function eR(r,e,t,n,i){const a=i.samples||n;if(a>=t)return r.slice(e,e+t);const s=[],c=(t-2)/(a-2);let l=0;const d=e+t-1;let u=e,h,p,f,g,m;for(s[l++]=r[u],h=0;h<a-2;h++){let v=0,_=0,y;const w=Math.floor((h+1)*c)+1+e,b=Math.min(Math.floor((h+2)*c)+1,t)+e,C=b-w;for(y=w;y<b;y++)v+=r[y].x,_+=r[y].y;v/=C,_/=C;const N=Math.floor(h*c)+1+e,S=Math.min(Math.floor((h+1)*c)+1,t)+e,{x:k,y:T}=r[u];for(f=g=-1,y=N;y<S;y++)g=.5*Math.abs((k-v)*(r[y].y-T)-(k-r[y].x)*(_-T)),g>f&&(f=g,p=r[y],m=y);s[l++]=p,u=m}return s[l++]=r[d],s}function tR(r,e,t,n){let i=0,a=0,s,c,l,d,u,h,p,f,g,m;const v=[],_=e+t-1,y=r[e].x,b=r[_].x-y;for(s=e;s<e+t;++s){c=r[s],l=(c.x-y)/b*n,d=c.y;const C=l|0;if(C===u)d<g?(g=d,h=s):d>m&&(m=d,p=s),i=(a*i+c.x)/++a;else{const N=s-1;if(!De(h)&&!De(p)){const S=Math.min(h,p),k=Math.max(h,p);S!==f&&S!==N&&v.push({...r[S],x:i}),k!==f&&k!==N&&v.push({...r[k],x:i})}s>0&&N!==f&&v.push(r[N]),v.push(c),u=C,a=0,g=m=d,h=p=f=s}}return v}function g5(r){if(r._decimated){const e=r._data;delete r._decimated,delete r._data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function k0(r){r.data.datasets.forEach(e=>{g5(e)})}function nR(r,e){const t=e.length;let n=0,i;const{iScale:a}=r,{min:s,max:c,minDefined:l,maxDefined:d}=a.getUserBounds();return l&&(n=Vt(zr(e,a.axis,s).lo,0,t-1)),d?i=Vt(zr(e,a.axis,c).hi+1,n,t)-n:i=t-n,{start:n,count:i}}var rR={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(r,e,t)=>{if(!t.enabled){k0(r);return}const n=r.width;r.data.datasets.forEach((i,a)=>{const{_data:s,indexAxis:c}=i,l=r.getDatasetMeta(a),d=s||i.data;if(es([c,r.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=r.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||r.options.parsing)return;let{start:h,count:p}=nR(l,d);const f=t.threshold||4*n;if(p<=f){g5(i);return}De(s)&&(i._data=d,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}}));let g;switch(t.algorithm){case"lttb":g=eR(d,h,p,n,t);break;case"min-max":g=tR(d,h,p,n);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=g})},destroy(r){k0(r)}};function iR(r,e,t){const n=r.segments,i=r.points,a=e.points,s=[];for(const c of n){let{start:l,end:d}=c;d=sm(l,d,i);const u=dp(t,i[l],i[d],c.loop);if(!e.segments){s.push({source:c,target:u,start:i[l],end:i[d]});continue}const h=X_(e,u);for(const p of h){const f=dp(t,a[p.start],a[p.end],p.loop),g=Z_(c,i,f);for(const m of g)s.push({source:m,target:p,start:{[t]:I0(u,f,"start",Math.max)},end:{[t]:I0(u,f,"end",Math.min)}})}}return s}function dp(r,e,t,n){if(n)return;let i=e[r],a=t[r];return r==="angle"&&(i=Nn(i),a=Nn(a)),{property:r,start:i,end:a}}function oR(r,e){const{x:t=null,y:n=null}=r||{},i=e.points,a=[];return e.segments.forEach(({start:s,end:c})=>{c=sm(s,c,i);const l=i[s],d=i[c];n!==null?(a.push({x:l.x,y:n}),a.push({x:d.x,y:n})):t!==null&&(a.push({x:t,y:l.y}),a.push({x:t,y:d.y}))}),a}function sm(r,e,t){for(;e>r;e--){const n=t[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function I0(r,e,t,n){return r&&e?n(r[t],e[t]):r?r[t]:e?e[t]:0}function v5(r,e){let t=[],n=!1;return ot(r)?(n=!0,t=r):t=oR(r,e),t.length?new Ci({points:t,options:{tension:0},_loop:n,_fullLoop:n}):null}function x0(r){return r&&r.fill!==!1}function aR(r,e,t){let i=r[e].fill;const a=[e];let s;if(!t)return i;for(;i!==!1&&a.indexOf(i)===-1;){if(!_t(i))return i;if(s=r[i],!s)return!1;if(s.visible)return i;a.push(i),i=s.fill}return!1}function sR(r,e,t){const n=uR(r);if(Ee(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return _t(i)&&Math.floor(i)===i?cR(n[0],e,i,t):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function cR(r,e,t,n){return(r==="-"||r==="+")&&(t=e+t),t===e||t<0||t>=n?!1:t}function lR(r,e){let t=null;return r==="start"?t=e.bottom:r==="end"?t=e.top:Ee(r)?t=e.getPixelForValue(r.value):e.getBasePixel&&(t=e.getBasePixel()),t}function dR(r,e,t){let n;return r==="start"?n=t:r==="end"?n=e.options.reverse?e.min:e.max:Ee(r)?n=r.value:n=e.getBaseValue(),n}function uR(r){const e=r.options,t=e.fill;let n=ye(t&&t.target,t);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function hR(r){const{scale:e,index:t,line:n}=r,i=[],a=n.segments,s=n.points,c=pR(e,t);c.push(v5({x:null,y:e.bottom},n));for(let l=0;l<a.length;l++){const d=a[l];for(let u=d.start;u<=d.end;u++)fR(i,s[u],c)}return new Ci({points:i,options:{}})}function pR(r,e){const t=[],n=r.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const a=n[i];if(a.index===e)break;a.hidden||t.unshift(a.dataset)}return t}function fR(r,e,t){const n=[];for(let i=0;i<t.length;i++){const a=t[i],{first:s,last:c,point:l}=mR(a,e,"x");if(!(!l||s&&c)){if(s)n.unshift(l);else if(r.push(l),!c)break}}r.push(...n)}function mR(r,e,t){const n=r.interpolate(e,t);if(!n)return{};const i=n[t],a=r.segments,s=r.points;let c=!1,l=!1;for(let d=0;d<a.length;d++){const u=a[d],h=s[u.start][t],p=s[u.end][t];if(Wr(i,h,p)){c=i===h,l=i===p;break}}return{first:c,last:l,point:n}}class _5{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:i,y:a,radius:s}=this;return t=t||{start:0,end:st},e.arc(i,a,s,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:i}=this,a=e.angle;return{x:t+Math.cos(a)*i,y:n+Math.sin(a)*i,angle:a}}}function gR(r){const{chart:e,fill:t,line:n}=r;if(_t(t))return vR(e,t);if(t==="stack")return hR(r);if(t==="shape")return!0;const i=_R(r);return i instanceof _5?i:v5(i,n)}function vR(r,e){const t=r.getDatasetMeta(e);return t&&r.isDatasetVisible(e)?t.dataset:null}function _R(r){return(r.scale||{}).getPointPositionForValue?CR(r):yR(r)}function yR(r){const{scale:e={},fill:t}=r,n=lR(t,e);if(_t(n)){const i=e.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function CR(r){const{scale:e,fill:t}=r,n=e.options,i=e.getLabels().length,a=n.reverse?e.max:e.min,s=dR(t,e,a),c=[];if(n.grid.circular){const l=e.getPointPositionForValue(0,a);return new _5({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(s)})}for(let l=0;l<i;++l)c.push(e.getPointPositionForValue(l,s));return c}function ju(r,e,t){const n=gR(e),{line:i,scale:a,axis:s}=e,c=i.options,l=c.fill,d=c.backgroundColor,{above:u=d,below:h=d}=l||{};n&&i.points.length&&(tu(r,t),bR(r,{line:i,target:n,above:u,below:h,area:t,scale:a,axis:s}),nu(r))}function bR(r,e){const{line:t,target:n,above:i,below:a,area:s,scale:c}=e,l=t._loop?"angle":e.axis;r.save(),l==="x"&&a!==i&&(P0(r,n,s.top),D0(r,{line:t,target:n,color:i,scale:c,property:l}),r.restore(),r.save(),P0(r,n,s.bottom)),D0(r,{line:t,target:n,color:a,scale:c,property:l}),r.restore()}function P0(r,e,t){const{segments:n,points:i}=e;let a=!0,s=!1;r.beginPath();for(const c of n){const{start:l,end:d}=c,u=i[l],h=i[sm(l,d,i)];a?(r.moveTo(u.x,u.y),a=!1):(r.lineTo(u.x,t),r.lineTo(u.x,u.y)),s=!!e.pathSegment(r,c,{move:s}),s?r.closePath():r.lineTo(h.x,t)}r.lineTo(e.first().x,t),r.closePath(),r.clip()}function D0(r,e){const{line:t,target:n,property:i,color:a,scale:s}=e,c=iR(t,n,i);for(const{source:l,target:d,start:u,end:h}of c){const{style:{backgroundColor:p=a}={}}=l,f=n!==!0;r.save(),r.fillStyle=p,wR(r,s,f&&dp(i,u,h)),r.beginPath();const g=!!t.pathSegment(r,l);let m;if(f){g?r.closePath():O0(r,n,h,i);const v=!!n.pathSegment(r,d,{move:g,reverse:!0});m=g&&v,m||O0(r,n,u,i)}r.closePath(),r.fill(m?"evenodd":"nonzero"),r.restore()}}function wR(r,e,t){const{top:n,bottom:i}=e.chart.chartArea,{property:a,start:s,end:c}=t||{};a==="x"&&(r.beginPath(),r.rect(s,n,c-s,i-n),r.clip())}function O0(r,e,t,n){const i=e.interpolate(t,n);i&&r.lineTo(i.x,i.y)}var SR={id:"filler",afterDatasetsUpdate(r,e,t){const n=(r.data.datasets||[]).length,i=[];let a,s,c,l;for(s=0;s<n;++s)a=r.getDatasetMeta(s),c=a.dataset,l=null,c&&c.options&&c instanceof Ci&&(l={visible:r.isDatasetVisible(s),index:s,fill:sR(c,s,n),chart:r,axis:a.controller.options.indexAxis,scale:a.vScale,line:c}),a.$filler=l,i.push(l);for(s=0;s<n;++s)l=i[s],!(!l||l.fill===!1)&&(l.fill=aR(i,s,t.propagate))},beforeDraw(r,e,t){const n=t.drawTime==="beforeDraw",i=r.getSortedVisibleDatasetMetas(),a=r.chartArea;for(let s=i.length-1;s>=0;--s){const c=i[s].$filler;c&&(c.line.updateControlPoints(a,c.axis),n&&c.fill&&ju(r.ctx,c,a))}},beforeDatasetsDraw(r,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const n=r.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const a=n[i].$filler;x0(a)&&ju(r.ctx,a,r.chartArea)}},beforeDatasetDraw(r,e,t){const n=e.meta.$filler;!x0(n)||t.drawTime!=="beforeDatasetDraw"||ju(r.ctx,n,r.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const R0=(r,e)=>{let{boxHeight:t=e,boxWidth:n=e}=r;return r.usePointStyle&&(t=Math.min(t,e),n=r.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},AR=(r,e)=>r!==null&&e!==null&&r.datasetIndex===e.datasetIndex&&r.index===e.index;class M0 extends si{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=nt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=Mt(n.font),a=i.size,s=this._computeTitleHeight(),{boxWidth:c,itemHeight:l}=R0(n,a);let d,u;t.font=i.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(s,a,c,l)+10):(u=this.maxHeight,d=this._fitCols(s,i,c,l)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:a,maxWidth:s,options:{labels:{padding:c}}}=this,l=this.legendHitBoxes=[],d=this.lineWidths=[0],u=i+c;let h=e;a.textAlign="left",a.textBaseline="middle";let p=-1,f=-u;return this.legendItems.forEach((g,m)=>{const v=n+t/2+a.measureText(g.text).width;(m===0||d[d.length-1]+v+2*c>s)&&(h+=u,d[d.length-(m>0?0:1)]=0,f+=u,p++),l[m]={left:0,top:f,row:p,width:v,height:i},d[d.length-1]+=v+c}),h}_fitCols(e,t,n,i){const{ctx:a,maxHeight:s,options:{labels:{padding:c}}}=this,l=this.legendHitBoxes=[],d=this.columnSizes=[],u=s-e;let h=c,p=0,f=0,g=0,m=0;return this.legendItems.forEach((v,_)=>{const{itemWidth:y,itemHeight:w}=NR(n,t,a,v,i);_>0&&f+w+2*c>u&&(h+=p+c,d.push({width:p,height:f}),g+=p+c,m++,p=f=0),l[_]={left:g,top:f,col:m,width:y,height:w},p=Math.max(p,y),f+=w+c}),h+=p,d.push({width:p,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:a}}=this,s=ta(a,this.left,this.width);if(this.isHorizontal()){let c=0,l=Xt(n,this.left+i,this.right-this.lineWidths[c]);for(const d of t)c!==d.row&&(c=d.row,l=Xt(n,this.left+i,this.right-this.lineWidths[c])),d.top+=this.top+e+i,d.left=s.leftForLtr(s.x(l),d.width),l+=d.width+i}else{let c=0,l=Xt(n,this.top+e+i,this.bottom-this.columnSizes[c].height);for(const d of t)d.col!==c&&(c=d.col,l=Xt(n,this.top+e+i,this.bottom-this.columnSizes[c].height)),d.top=l,d.left+=this.left+i,d.left=s.leftForLtr(s.x(d.left),d.width),l+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;tu(e,this),this._draw(),nu(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:a,labels:s}=e,c=yt.color,l=ta(e.rtl,this.left,this.width),d=Mt(s.font),{padding:u}=s,h=d.size,p=h/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:g,boxHeight:m,itemHeight:v}=R0(s,h),_=function(N,S,k){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;i.save();const T=ye(k.lineWidth,1);if(i.fillStyle=ye(k.fillStyle,c),i.lineCap=ye(k.lineCap,"butt"),i.lineDashOffset=ye(k.lineDashOffset,0),i.lineJoin=ye(k.lineJoin,"miter"),i.lineWidth=T,i.strokeStyle=ye(k.strokeStyle,c),i.setLineDash(ye(k.lineDash,[])),s.usePointStyle){const A={radius:m*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:T},E=l.xPlus(N,g/2),I=S+p;$_(i,A,E,I,s.pointStyleWidth&&g)}else{const A=S+Math.max((h-m)/2,0),E=l.leftForLtr(N,g),I=ao(k.borderRadius);i.beginPath(),Object.values(I).some(R=>R!==0)?Ps(i,{x:E,y:A,w:g,h:m,radius:I}):i.rect(E,A,g,m),i.fill(),T!==0&&i.stroke()}i.restore()},y=function(N,S,k){Co(i,k.text,N,S+v/2,d,{strikethrough:k.hidden,textAlign:l.textAlign(k.textAlign)})},w=this.isHorizontal(),b=this._computeTitleHeight();w?f={x:Xt(a,this.left+u,this.right-n[0]),y:this.top+u+b,line:0}:f={x:this.left+u,y:Xt(a,this.top+b+u,this.bottom-t[0].height),line:0},K_(this.ctx,e.textDirection);const C=v+u;this.legendItems.forEach((N,S)=>{i.strokeStyle=N.fontColor,i.fillStyle=N.fontColor;const k=i.measureText(N.text).width,T=l.textAlign(N.textAlign||(N.textAlign=s.textAlign)),A=g+p+k;let E=f.x,I=f.y;l.setWidth(this.width),w?S>0&&E+A+u>this.right&&(I=f.y+=C,f.line++,E=f.x=Xt(a,this.left+u,this.right-n[f.line])):S>0&&I+C>this.bottom&&(E=f.x=E+t[f.line].width+u,f.line++,I=f.y=Xt(a,this.top+b+u,this.bottom-t[f.line].height));const R=l.x(E);if(_(R,I,N),E=jx(T,E+g+p,w?E+A:this.right,e.rtl),y(l.x(E),I,N),w)f.x+=A+u;else if(typeof N.text!="string"){const M=d.lineHeight;f.y+=y5(N,M)+u}else f.y+=C}),G_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Mt(t.font),i=rn(t.padding);if(!t.display)return;const a=ta(e.rtl,this.left,this.width),s=this.ctx,c=t.position,l=n.size/2,d=i.top+l;let u,h=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),u=this.top+d,h=Xt(e.align,h,this.right-p);else{const g=this.columnSizes.reduce((m,v)=>Math.max(m,v.height),0);u=d+Xt(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const f=Xt(c,h,h+p);s.textAlign=a.textAlign(Xf(c)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=n.string,Co(s,t.text,f,u,n)}_computeTitleHeight(){const e=this.options.title,t=Mt(e.font),n=rn(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,a;if(Wr(e,this.left,this.right)&&Wr(t,this.top,this.bottom)){for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(i=a[n],Wr(e,i.left,i.left+i.width)&&Wr(t,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const t=this.options;if(!kR(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,a=AR(i,n);i&&!a&&nt(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!a&&nt(t.onHover,[e,n,this],this)}else n&&nt(t.onClick,[e,n,this],this)}}function NR(r,e,t,n,i){const a=ER(n,r,e,t),s=TR(i,n,e.lineHeight);return{itemWidth:a,itemHeight:s}}function ER(r,e,t,n){let i=r.text;return i&&typeof i!="string"&&(i=i.reduce((a,s)=>a.length>s.length?a:s)),e+t.size/2+n.measureText(i).width}function TR(r,e,t){let n=r;return typeof e.text!="string"&&(n=y5(e,t)),n}function y5(r,e){const t=r.text?r.text.length:0;return e*t}function kR(r,e){return!!((r==="mousemove"||r==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(r==="click"||r==="mouseup"))}var IR={id:"legend",_element:M0,start(r,e,t){const n=r.legend=new M0({ctx:r.ctx,options:t,chart:r});tn.configure(r,n,t),tn.addBox(r,n)},stop(r){tn.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,e,t){const n=r.legend;tn.configure(r,n,t),n.options=t},afterUpdate(r){const e=r.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(r,e){e.replay||r.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,e,t){const n=e.datasetIndex,i=t.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){const e=r.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:i,color:a,useBorderRadius:s,borderRadius:c}}=r.legend.options;return r._getSortedDatasetMetas().map(l=>{const d=l.controller.getStyle(t?0:void 0),u=rn(d.borderWidth);return{text:e[l.index].label,fillStyle:d.backgroundColor,fontColor:a,hidden:!l.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:s&&(c||d.borderRadius),datasetIndex:l.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}};class cm extends si{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=ot(n.text)?n.text.length:1;this._padding=rn(n.padding);const a=i*Mt(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:n,bottom:i,right:a,options:s}=this,c=s.align;let l=0,d,u,h;return this.isHorizontal()?(u=Xt(c,n,a),h=t+e,d=a-n):(s.position==="left"?(u=n+e,h=Xt(c,i,t),l=ct*-.5):(u=a-e,h=Xt(c,t,i),l=ct*.5),d=i-t),{titleX:u,titleY:h,maxWidth:d,rotation:l}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Mt(t.font),a=n.lineHeight/2+this._padding.top,{titleX:s,titleY:c,maxWidth:l,rotation:d}=this._drawArgs(a);Co(e,t.text,0,0,n,{color:t.color,maxWidth:l,rotation:d,textAlign:Xf(t.align),textBaseline:"middle",translation:[s,c]})}}function xR(r,e){const t=new cm({ctx:r.ctx,options:e,chart:r});tn.configure(r,t,e),tn.addBox(r,t),r.titleBlock=t}var PR={id:"title",_element:cm,start(r,e,t){xR(r,t)},stop(r){const e=r.titleBlock;tn.removeBox(r,e),delete r.titleBlock},beforeUpdate(r,e,t){const n=r.titleBlock;tn.configure(r,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Hc=new WeakMap;var DR={id:"subtitle",start(r,e,t){const n=new cm({ctx:r.ctx,options:t,chart:r});tn.configure(r,n,t),tn.addBox(r,n),Hc.set(r,n)},stop(r){tn.removeBox(r,Hc.get(r)),Hc.delete(r)},beforeUpdate(r,e,t){const n=Hc.get(r);tn.configure(r,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const rs={average(r){if(!r.length)return!1;let e,t,n=new Set,i=0,a=0;for(e=0,t=r.length;e<t;++e){const c=r[e].element;if(c&&c.hasValue()){const l=c.tooltipPosition();n.add(l.x),i+=l.y,++a}}return{x:[...n].reduce((c,l)=>c+l)/n.size,y:i/a}},nearest(r,e){if(!r.length)return!1;let t=e.x,n=e.y,i=Number.POSITIVE_INFINITY,a,s,c;for(a=0,s=r.length;a<s;++a){const l=r[a].element;if(l&&l.hasValue()){const d=l.getCenterPoint(),u=np(e,d);u<i&&(i=u,c=l)}}if(c){const l=c.tooltipPosition();t=l.x,n=l.y}return{x:t,y:n}}};function or(r,e){return e&&(ot(e)?Array.prototype.push.apply(r,e):r.push(e)),r}function Lr(r){return(typeof r=="string"||r instanceof String)&&r.indexOf(`
`)>-1?r.split(`
`):r}function OR(r,e){const{element:t,datasetIndex:n,index:i}=e,a=r.getDatasetMeta(n).controller,{label:s,value:c}=a.getLabelAndValue(i);return{chart:r,label:s,parsed:a.getParsed(i),raw:r.data.datasets[n].data[i],formattedValue:c,dataset:a.getDataset(),dataIndex:i,datasetIndex:n,element:t}}function L0(r,e){const t=r.chart.ctx,{body:n,footer:i,title:a}=r,{boxWidth:s,boxHeight:c}=e,l=Mt(e.bodyFont),d=Mt(e.titleFont),u=Mt(e.footerFont),h=a.length,p=i.length,f=n.length,g=rn(e.padding);let m=g.height,v=0,_=n.reduce((b,C)=>b+C.before.length+C.lines.length+C.after.length,0);if(_+=r.beforeBody.length+r.afterBody.length,h&&(m+=h*d.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),_){const b=e.displayColors?Math.max(c,l.lineHeight):l.lineHeight;m+=f*b+(_-f)*l.lineHeight+(_-1)*e.bodySpacing}p&&(m+=e.footerMarginTop+p*u.lineHeight+(p-1)*e.footerSpacing);let y=0;const w=function(b){v=Math.max(v,t.measureText(b).width+y)};return t.save(),t.font=d.string,Ye(r.title,w),t.font=l.string,Ye(r.beforeBody.concat(r.afterBody),w),y=e.displayColors?s+2+e.boxPadding:0,Ye(n,b=>{Ye(b.before,w),Ye(b.lines,w),Ye(b.after,w)}),y=0,t.font=u.string,Ye(r.footer,w),t.restore(),v+=g.width,{width:v,height:m}}function RR(r,e){const{y:t,height:n}=e;return t<n/2?"top":t>r.height-n/2?"bottom":"center"}function MR(r,e,t,n){const{x:i,width:a}=n,s=t.caretSize+t.caretPadding;if(r==="left"&&i+a+s>e.width||r==="right"&&i-a-s<0)return!0}function LR(r,e,t,n){const{x:i,width:a}=t,{width:s,chartArea:{left:c,right:l}}=r;let d="center";return n==="center"?d=i<=(c+l)/2?"left":"right":i<=a/2?d="left":i>=s-a/2&&(d="right"),MR(d,r,e,t)&&(d="center"),d}function F0(r,e,t){const n=t.yAlign||e.yAlign||RR(r,t);return{xAlign:t.xAlign||e.xAlign||LR(r,e,t,n),yAlign:n}}function FR(r,e){let{x:t,width:n}=r;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function HR(r,e,t){let{y:n,height:i}=r;return e==="top"?n+=t:e==="bottom"?n-=i+t:n-=i/2,n}function H0(r,e,t,n){const{caretSize:i,caretPadding:a,cornerRadius:s}=r,{xAlign:c,yAlign:l}=t,d=i+a,{topLeft:u,topRight:h,bottomLeft:p,bottomRight:f}=ao(s);let g=FR(e,c);const m=HR(e,l,d);return l==="center"?c==="left"?g+=d:c==="right"&&(g-=d):c==="left"?g-=Math.max(u,p)+i:c==="right"&&(g+=Math.max(h,f)+i),{x:Vt(g,0,n.width-e.width),y:Vt(m,0,n.height-e.height)}}function Uc(r,e,t){const n=rn(t.padding);return e==="center"?r.x+r.width/2:e==="right"?r.x+r.width-n.right:r.x+n.left}function U0(r){return or([],Lr(r))}function UR(r,e,t){return Ui(r,{tooltip:e,tooltipItems:t,type:"tooltip"})}function $0(r,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?r.override(t):r}const C5={beforeTitle:Rr,title(r){if(r.length>0){const e=r[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:Rr,beforeBody:Rr,beforeLabel:Rr,label(r){if(this&&this.options&&this.options.mode==="dataset")return r.label+": "+r.formattedValue||r.formattedValue;let e=r.dataset.label||"";e&&(e+=": ");const t=r.formattedValue;return De(t)||(e+=t),e},labelColor(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Rr,afterBody:Rr,beforeFooter:Rr,footer:Rr,afterFooter:Rr};function dn(r,e,t,n){const i=r[e].call(t,n);return typeof i>"u"?C5[e].call(t,n):i}class up extends si{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,a=new J_(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=UR(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,i=dn(n,"beforeTitle",this,e),a=dn(n,"title",this,e),s=dn(n,"afterTitle",this,e);let c=[];return c=or(c,Lr(i)),c=or(c,Lr(a)),c=or(c,Lr(s)),c}getBeforeBody(e,t){return U0(dn(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return Ye(e,a=>{const s={before:[],lines:[],after:[]},c=$0(n,a);or(s.before,Lr(dn(c,"beforeLabel",this,a))),or(s.lines,dn(c,"label",this,a)),or(s.after,Lr(dn(c,"afterLabel",this,a))),i.push(s)}),i}getAfterBody(e,t){return U0(dn(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,i=dn(n,"beforeFooter",this,e),a=dn(n,"footer",this,e),s=dn(n,"afterFooter",this,e);let c=[];return c=or(c,Lr(i)),c=or(c,Lr(a)),c=or(c,Lr(s)),c}_createItems(e){const t=this._active,n=this.chart.data,i=[],a=[],s=[];let c=[],l,d;for(l=0,d=t.length;l<d;++l)c.push(OR(this.chart,t[l]));return e.filter&&(c=c.filter((u,h,p)=>e.filter(u,h,p,n))),e.itemSort&&(c=c.sort((u,h)=>e.itemSort(u,h,n))),Ye(c,u=>{const h=$0(e.callbacks,u);i.push(dn(h,"labelColor",this,u)),a.push(dn(h,"labelPointStyle",this,u)),s.push(dn(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=s,this.dataPoints=c,c}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let a,s=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const c=rs[n.position].call(this,i,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const l=this._size=L0(this,n),d=Object.assign({},c,l),u=F0(this.chart,n,d),h=H0(n,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,a={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}this._tooltipItems=s,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const a=this.getCaretPosition(e,n,i);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:a}=this,{caretSize:s,cornerRadius:c}=n,{topLeft:l,topRight:d,bottomLeft:u,bottomRight:h}=ao(c),{x:p,y:f}=e,{width:g,height:m}=t;let v,_,y,w,b,C;return a==="center"?(b=f+m/2,i==="left"?(v=p,_=v-s,w=b+s,C=b-s):(v=p+g,_=v+s,w=b-s,C=b+s),y=v):(i==="left"?_=p+Math.max(l,u)+s:i==="right"?_=p+g-Math.max(d,h)-s:_=this.caretX,a==="top"?(w=f,b=w-s,v=_-s,y=_+s):(w=f+m,b=w+s,v=_+s,y=_-s),C=w),{x1:v,x2:_,x3:y,y1:w,y2:b,y3:C}}drawTitle(e,t,n){const i=this.title,a=i.length;let s,c,l;if(a){const d=ta(n.rtl,this.x,this.width);for(e.x=Uc(this,n.titleAlign,n),t.textAlign=d.textAlign(n.titleAlign),t.textBaseline="middle",s=Mt(n.titleFont),c=n.titleSpacing,t.fillStyle=n.titleColor,t.font=s.string,l=0;l<a;++l)t.fillText(i[l],d.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+c,l+1===a&&(e.y+=n.titleMarginBottom-c)}}_drawColorBox(e,t,n,i,a){const s=this.labelColors[n],c=this.labelPointStyles[n],{boxHeight:l,boxWidth:d}=a,u=Mt(a.bodyFont),h=Uc(this,"left",a),p=i.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,g=t.y+f;if(a.usePointStyle){const m={radius:Math.min(d,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},v=i.leftForLtr(p,d)+d/2,_=g+l/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,ip(e,m,v,_),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,ip(e,m,v,_)}else{e.lineWidth=Ee(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const m=i.leftForLtr(p,d),v=i.leftForLtr(i.xPlus(p,1),d-2),_=ao(s.borderRadius);Object.values(_).some(y=>y!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Ps(e,{x:m,y:g,w:d,h:l,radius:_}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),Ps(e,{x:v,y:g+1,w:d-2,h:l-2,radius:_}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(m,g,d,l),e.strokeRect(m,g,d,l),e.fillStyle=s.backgroundColor,e.fillRect(v,g+1,d-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:a,bodyAlign:s,displayColors:c,boxHeight:l,boxWidth:d,boxPadding:u}=n,h=Mt(n.bodyFont);let p=h.lineHeight,f=0;const g=ta(n.rtl,this.x,this.width),m=function(k){t.fillText(k,g.x(e.x+f),e.y+p/2),e.y+=p+a},v=g.textAlign(s);let _,y,w,b,C,N,S;for(t.textAlign=s,t.textBaseline="middle",t.font=h.string,e.x=Uc(this,v,n),t.fillStyle=n.bodyColor,Ye(this.beforeBody,m),f=c&&v!=="right"?s==="center"?d/2+u:d+2+u:0,b=0,N=i.length;b<N;++b){for(_=i[b],y=this.labelTextColors[b],t.fillStyle=y,Ye(_.before,m),w=_.lines,c&&w.length&&(this._drawColorBox(t,e,b,g,n),p=Math.max(h.lineHeight,l)),C=0,S=w.length;C<S;++C)m(w[C]),p=h.lineHeight;Ye(_.after,m)}f=0,p=h.lineHeight,Ye(this.afterBody,m),e.y-=a}drawFooter(e,t,n){const i=this.footer,a=i.length;let s,c;if(a){const l=ta(n.rtl,this.x,this.width);for(e.x=Uc(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=l.textAlign(n.footerAlign),t.textBaseline="middle",s=Mt(n.footerFont),t.fillStyle=n.footerColor,t.font=s.string,c=0;c<a;++c)t.fillText(i[c],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:a,yAlign:s}=this,{x:c,y:l}=e,{width:d,height:u}=n,{topLeft:h,topRight:p,bottomLeft:f,bottomRight:g}=ao(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(c+h,l),s==="top"&&this.drawCaret(e,t,n,i),t.lineTo(c+d-p,l),t.quadraticCurveTo(c+d,l,c+d,l+p),s==="center"&&a==="right"&&this.drawCaret(e,t,n,i),t.lineTo(c+d,l+u-g),t.quadraticCurveTo(c+d,l+u,c+d-g,l+u),s==="bottom"&&this.drawCaret(e,t,n,i),t.lineTo(c+f,l+u),t.quadraticCurveTo(c,l+u,c,l+u-f),s==="center"&&a==="left"&&this.drawCaret(e,t,n,i),t.lineTo(c,l+h),t.quadraticCurveTo(c,l,c+h,l),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,a=n&&n.y;if(i||a){const s=rs[e.position].call(this,this._active,this._eventPosition);if(!s)return;const c=this._size=L0(this,e),l=Object.assign({},s,this._size),d=F0(t,e,l),u=H0(e,l,d,t);(i._to!==u.x||a._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=rn(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=n,this.drawBackground(a,e,i,t),K_(e,t.textDirection),a.y+=s.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),G_(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map(({datasetIndex:c,index:l})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[l],index:l}}),a=!rd(n,i),s=this._positionChanged(i,t);(a||s)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],s=this._getActiveElements(e,a,t,n),c=this._positionChanged(s,e),l=t||!rd(s,a)||c;return l&&(this._active=s,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,n,i){const a=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const s=this.chart.getElementsAtEventForMode(e,a.mode,a,n);return a.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:n,caretY:i,options:a}=this,s=rs[a.position].call(this,e,t);return s!==!1&&(n!==s.x||i!==s.y)}}$(up,"positioners",rs);var $R={id:"tooltip",_element:up,positioners:rs,afterInit(r,e,t){t&&(r.tooltip=new up({chart:r,options:t}))},beforeUpdate(r,e,t){r.tooltip&&r.tooltip.initialize(t)},reset(r,e,t){r.tooltip&&r.tooltip.initialize(t)},afterDraw(r){const e=r.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(r.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",t)}},afterEvent(r,e){if(r.tooltip){const t=e.replay;r.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,e)=>e.bodyFont.size,boxWidth:(r,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:C5},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>r!=="filter"&&r!=="itemSort"&&r!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},BR=Object.freeze({__proto__:null,Colors:JO,Decimation:rR,Filler:SR,Legend:IR,SubTitle:DR,Title:PR,Tooltip:$R});const VR=(r,e,t,n)=>(typeof e=="string"?(t=r.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function YR(r,e,t,n){const i=r.indexOf(e);if(i===-1)return VR(r,e,t,n);const a=r.lastIndexOf(e);return i!==a?t:i}const WR=(r,e)=>r===null?null:Vt(Math.round(r),0,e);function B0(r){const e=this.getLabels();return r>=0&&r<e.length?e[r]:r}class hp extends Io{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const n=this.getLabels();for(const{index:i,label:a}of t)n[i]===a&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(De(e))return null;const n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:YR(n,e,ye(t,e),this._addedLabels),WR(t,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,i=[];let a=this.getLabels();a=e===0&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=e;s<=t;s++)i.push({value:s});return i}getLabelForValue(e){return B0.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}$(hp,"id","category"),$(hp,"defaults",{ticks:{callback:B0}});function zR(r,e){const t=[],{bounds:i,step:a,min:s,max:c,precision:l,count:d,maxTicks:u,maxDigits:h,includeBounds:p}=r,f=a||1,g=u-1,{min:m,max:v}=e,_=!De(s),y=!De(c),w=!De(d),b=(v-m)/(h+1);let C=M1((v-m)/g/f)*f,N,S,k,T;if(C<1e-14&&!_&&!y)return[{value:m},{value:v}];T=Math.ceil(v/C)-Math.floor(m/C),T>g&&(C=M1(T*C/g/f)*f),De(l)||(N=Math.pow(10,l),C=Math.ceil(C*N)/N),i==="ticks"?(S=Math.floor(m/C)*C,k=Math.ceil(v/C)*C):(S=m,k=v),_&&y&&a&&Ux((c-s)/a,C/1e3)?(T=Math.round(Math.min((c-s)/C,u)),C=(c-s)/T,S=s,k=c):w?(S=_?s:S,k=y?c:k,T=d-1,C=(k-S)/T):(T=(k-S)/C,fs(T,Math.round(T),C/1e3)?T=Math.round(T):T=Math.ceil(T));const A=Math.max(L1(C),L1(S));N=Math.pow(10,De(l)?A:l),S=Math.round(S*N)/N,k=Math.round(k*N)/N;let E=0;for(_&&(p&&S!==s?(t.push({value:s}),S<s&&E++,fs(Math.round((S+E*C)*N)/N,s,V0(s,b,r))&&E++):S<s&&E++);E<T;++E){const I=Math.round((S+E*C)*N)/N;if(y&&I>c)break;t.push({value:I})}return y&&p&&k!==c?t.length&&fs(t[t.length-1].value,c,V0(c,b,r))?t[t.length-1].value=c:t.push({value:c}):(!y||k===c)&&t.push({value:k}),t}function V0(r,e,{horizontal:t,minRotation:n}){const i=jn(n),a=(t?Math.sin(i):Math.cos(i))||.001,s=.75*e*(""+r).length;return Math.min(e/a,s)}class dd extends Io{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return De(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:a}=this;const s=l=>i=t?i:l,c=l=>a=n?a:l;if(e){const l=br(i),d=br(a);l<0&&d<0?c(0):l>0&&d>0&&s(0)}if(i===a){let l=a===0?1:Math.abs(a*.05);c(a+l),e||s(i-l)}this.min=i,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,s=zR(i,a);return e.bounds==="ticks"&&P_(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return Zs(e,this.chart.options.locale,this.options.ticks.format)}}class pp extends dd{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=_t(e)?e:0,this.max=_t(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=jn(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}$(pp,"id","linear"),$(pp,"defaults",{ticks:{callback:eu.formatters.numeric}});const Os=r=>Math.floor(yi(r)),Wi=(r,e)=>Math.pow(10,Os(r)+e);function Y0(r){return r/Math.pow(10,Os(r))===1}function W0(r,e,t){const n=Math.pow(10,t),i=Math.floor(r/n);return Math.ceil(e/n)-i}function jR(r,e){const t=e-r;let n=Os(t);for(;W0(r,e,n)>10;)n++;for(;W0(r,e,n)<10;)n--;return Math.min(n,Os(r))}function qR(r,{min:e,max:t}){e=Sn(r.min,e);const n=[],i=Os(e);let a=jR(e,t),s=a<0?Math.pow(10,Math.abs(a)):1;const c=Math.pow(10,a),l=i>a?Math.pow(10,i):0,d=Math.round((e-l)*s)/s,u=Math.floor((e-l)/c/10)*c*10;let h=Math.floor((d-u)/Math.pow(10,a)),p=Sn(r.min,Math.round((l+u+h*Math.pow(10,a))*s)/s);for(;p<t;)n.push({value:p,major:Y0(p),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(a++,h=2,s=a>=0?1:s),p=Math.round((l+u+h*Math.pow(10,a))*s)/s;const f=Sn(r.max,p);return n.push({value:f,major:Y0(f),significand:h}),n}class fp extends Io{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=dd.prototype.parse.apply(this,[e,t]);if(n===0){this._zero=!0;return}return _t(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=_t(e)?Math.max(0,e):null,this.max=_t(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!_t(this._userMin)&&(this.min=e===Wi(this.min,0)?Wi(this.min,-1):Wi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,i=this.max;const a=c=>n=e?n:c,s=c=>i=t?i:c;n===i&&(n<=0?(a(1),s(10)):(a(Wi(n,-1)),s(Wi(i,1)))),n<=0&&a(Wi(i,-1)),i<=0&&s(Wi(n,1)),this.min=n,this.max=i}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},n=qR(t,this);return e.bounds==="ticks"&&P_(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Zs(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=yi(e),this._valueRange=yi(this.max)-yi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(yi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}$(fp,"id","logarithmic"),$(fp,"defaults",{ticks:{callback:eu.formatters.logarithmic,major:{enabled:!0}}});function mp(r){const e=r.ticks;if(e.display&&r.display){const t=rn(e.backdropPadding);return ye(e.font&&e.font.size,yt.font.size)+t.height}return 0}function KR(r,e,t){return t=ot(t)?t:[t],{w:nP(r,e.string,t),h:t.length*e.lineHeight}}function z0(r,e,t,n,i){return r===n||r===i?{start:e-t/2,end:e+t/2}:r<n||r>i?{start:e-t,end:e}:{start:e,end:e+t}}function GR(r){const e={l:r.left+r._padding.left,r:r.right-r._padding.right,t:r.top+r._padding.top,b:r.bottom-r._padding.bottom},t=Object.assign({},e),n=[],i=[],a=r._pointLabels.length,s=r.options.pointLabels,c=s.centerPointLabels?ct/a:0;for(let l=0;l<a;l++){const d=s.setContext(r.getPointLabelContext(l));i[l]=d.padding;const u=r.getPointPosition(l,r.drawingArea+i[l],c),h=Mt(d.font),p=KR(r.ctx,h,r._pointLabels[l]);n[l]=p;const f=Nn(r.getIndexAngle(l)+c),g=Math.round(Qf(f)),m=z0(g,u.x,p.w,0,180),v=z0(g,u.y,p.h,90,270);QR(t,e,f,m,v)}r.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),r._pointLabelItems=JR(r,n,i)}function QR(r,e,t,n,i){const a=Math.abs(Math.sin(t)),s=Math.abs(Math.cos(t));let c=0,l=0;n.start<e.l?(c=(e.l-n.start)/a,r.l=Math.min(r.l,e.l-c)):n.end>e.r&&(c=(n.end-e.r)/a,r.r=Math.max(r.r,e.r+c)),i.start<e.t?(l=(e.t-i.start)/s,r.t=Math.min(r.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/s,r.b=Math.max(r.b,e.b+l))}function ZR(r,e,t){const n=r.drawingArea,{extra:i,additionalAngle:a,padding:s,size:c}=t,l=r.getPointPosition(e,n+i+s,a),d=Math.round(Qf(Nn(l.angle+Et))),u=nM(l.y,c.h,d),h=eM(d),p=tM(l.x,c.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:p,top:u,right:p+c.w,bottom:u+c.h}}function XR(r,e){if(!e)return!0;const{left:t,top:n,right:i,bottom:a}=r;return!(jr({x:t,y:n},e)||jr({x:t,y:a},e)||jr({x:i,y:n},e)||jr({x:i,y:a},e))}function JR(r,e,t){const n=[],i=r._pointLabels.length,a=r.options,{centerPointLabels:s,display:c}=a.pointLabels,l={extra:mp(a)/2,additionalAngle:s?ct/i:0};let d;for(let u=0;u<i;u++){l.padding=t[u],l.size=e[u];const h=ZR(r,u,l);n.push(h),c==="auto"&&(h.visible=XR(h,d),h.visible&&(d=h))}return n}function eM(r){return r===0||r===180?"center":r<180?"left":"right"}function tM(r,e,t){return t==="right"?r-=e:t==="center"&&(r-=e/2),r}function nM(r,e,t){return t===90||t===270?r-=e/2:(t>270||t<90)&&(r-=e),r}function rM(r,e,t){const{left:n,top:i,right:a,bottom:s}=t,{backdropColor:c}=e;if(!De(c)){const l=ao(e.borderRadius),d=rn(e.backdropPadding);r.fillStyle=c;const u=n-d.left,h=i-d.top,p=a-n+d.width,f=s-i+d.height;Object.values(l).some(g=>g!==0)?(r.beginPath(),Ps(r,{x:u,y:h,w:p,h:f,radius:l}),r.fill()):r.fillRect(u,h,p,f)}}function iM(r,e){const{ctx:t,options:{pointLabels:n}}=r;for(let i=e-1;i>=0;i--){const a=r._pointLabelItems[i];if(!a.visible)continue;const s=n.setContext(r.getPointLabelContext(i));rM(t,s,a);const c=Mt(s.font),{x:l,y:d,textAlign:u}=a;Co(t,r._pointLabels[i],l,d+c.lineHeight/2,c,{color:s.color,textAlign:u,textBaseline:"middle"})}}function b5(r,e,t,n){const{ctx:i}=r;if(t)i.arc(r.xCenter,r.yCenter,e,0,st);else{let a=r.getPointPosition(0,e);i.moveTo(a.x,a.y);for(let s=1;s<n;s++)a=r.getPointPosition(s,e),i.lineTo(a.x,a.y)}}function oM(r,e,t,n,i){const a=r.ctx,s=e.circular,{color:c,lineWidth:l}=e;!s&&!n||!c||!l||t<0||(a.save(),a.strokeStyle=c,a.lineWidth=l,a.setLineDash(i.dash),a.lineDashOffset=i.dashOffset,a.beginPath(),b5(r,t,s,n),a.closePath(),a.stroke(),a.restore())}function aM(r,e,t){return Ui(r,{label:t,index:e,type:"pointLabel"})}class is extends dd{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=rn(mp(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=_t(e)&&!isNaN(e)?e:0,this.max=_t(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/mp(this.options))}generateTickLabels(e){dd.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,n)=>{const i=nt(this.options.pointLabels.callback,[t,n],this);return i||i===0?i:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?GR(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,i))}getIndexAngle(e){const t=st/(this._pointLabels.length||1),n=this.options.startAngle||0;return Nn(e*t+jn(n))}getDistanceFromCenterForValue(e){if(De(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(De(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return aM(this.getContext(),e,n)}}getPointPosition(e,t,n=0){const i=this.getIndexAngle(e)-Et+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:i,bottom:a}=this._pointLabelItems[e];return{left:t,top:n,right:i,bottom:a}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),b5(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:i,border:a}=t,s=this._pointLabels.length;let c,l,d;if(t.pointLabels.display&&iM(this,s),i.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const p=this.getContext(h),f=i.setContext(p),g=a.setContext(p);oM(this,f,l,s,g)}}),n.display){for(e.save(),c=s-1;c>=0;c--){const u=n.setContext(this.getPointLabelContext(c)),{color:h,lineWidth:p}=u;!p||!h||(e.lineWidth=p,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),d=this.getPointPosition(c,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let a,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((c,l)=>{if(l===0&&this.min>=0&&!t.reverse)return;const d=n.setContext(this.getContext(l)),u=Mt(d.font);if(a=this.getDistanceFromCenterForValue(this.ticks[l].value),d.showLabelBackdrop){e.font=u.string,s=e.measureText(c.label).width,e.fillStyle=d.backdropColor;const h=rn(d.backdropPadding);e.fillRect(-s/2-h.left,-a-u.size/2-h.top,s+h.width,u.size+h.height)}Co(e,c.label,0,-a,u,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),e.restore()}drawTitle(){}}$(is,"id","radialLinear"),$(is,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:eu.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),$(is,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),$(is,"descriptors",{angleLines:{_fallback:"grid"}});const iu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},mn=Object.keys(iu);function j0(r,e){return r-e}function q0(r,e){if(De(e))return null;const t=r._adapter,{parser:n,round:i,isoWeekday:a}=r._parseOpts;let s=e;return typeof n=="function"&&(s=n(s)),_t(s)||(s=typeof n=="string"?t.parse(s,n):t.parse(s)),s===null?null:(i&&(s=i==="week"&&(_a(a)||a===!0)?t.startOf(s,"isoWeek",a):t.startOf(s,i)),+s)}function K0(r,e,t,n){const i=mn.length;for(let a=mn.indexOf(r);a<i-1;++a){const s=iu[mn[a]],c=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((t-e)/(c*s.size))<=n)return mn[a]}return mn[i-1]}function sM(r,e,t,n,i){for(let a=mn.length-1;a>=mn.indexOf(t);a--){const s=mn[a];if(iu[s].common&&r._adapter.diff(i,n,s)>=e-1)return s}return mn[t?mn.indexOf(t):0]}function cM(r){for(let e=mn.indexOf(r)+1,t=mn.length;e<t;++e)if(iu[mn[e]].common)return mn[e]}function G0(r,e,t){if(!t)r[e]=!0;else if(t.length){const{lo:n,hi:i}=Zf(t,e),a=t[n]>=e?t[n]:t[i];r[a]=!0}}function lM(r,e,t,n){const i=r._adapter,a=+i.startOf(e[0].value,n),s=e[e.length-1].value;let c,l;for(c=a;c<=s;c=+i.add(c,1,n))l=t[c],l>=0&&(e[l].major=!0);return e}function Q0(r,e,t){const n=[],i={},a=e.length;let s,c;for(s=0;s<a;++s)c=e[s],i[c]=s,n.push({value:c,major:!1});return a===0||!t?n:lM(r,n,i,t)}class Rs extends Io{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),i=this._adapter=new _D._date(e.adapters.date);i.init(t),ps(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:q0(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:a,minDefined:s,maxDefined:c}=this.getUserBounds();function l(d){!s&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!c&&!isNaN(d.max)&&(a=Math.max(a,d.max))}(!s||!c)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=_t(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),a=_t(a)&&!isNaN(a)?a:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,s=this.max,c=Yx(i,a,s);return this._unit=t.unit||(n.autoSkip?K0(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):sM(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:cM(this._unit),this.initOffsets(i),e.reverse&&c.reverse(),Q0(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,n=0,i,a;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?n=a:n=(a-this.getDecimalForValue(e[e.length-2]))/2);const s=e.length<3?.5:.25;t=Vt(t,0,s),n=Vt(n,0,s),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,a=i.time,s=a.unit||K0(a.minUnit,t,n,this._getLabelCapacity(t)),c=ye(i.ticks.stepSize,1),l=s==="week"?a.isoWeekday:!1,d=_a(l)||l===!0,u={};let h=t,p,f;if(d&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,d?"day":s),e.diff(n,t,s)>1e5*c)throw new Error(t+" and "+n+" are too far apart with stepSize of "+c+" "+s);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(p=h,f=0;p<n;p=+e.add(p,c,s),f++)G0(u,p,g);return(p===n||i.bounds==="ticks"||f===1)&&G0(u,p,g),Object.keys(u).sort(j0).map(m=>+m)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,a=this._unit,s=t||i[a];return this._adapter.format(e,s)}_tickFormatFunction(e,t,n,i){const a=this.options,s=a.ticks.callback;if(s)return nt(s,[e,t,n],this);const c=a.time.displayFormats,l=this._unit,d=this._majorUnit,u=l&&c[l],h=d&&c[d],p=n[t],f=d&&h&&p&&p.major;return this._adapter.format(e,i||(f?h:u))}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=jn(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(i),s=Math.sin(i),c=this._resolveTickFontOptions(0).size;return{w:n*a+c*s,h:n*s+c*a}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,a=this._tickFormatFunction(e,0,Q0(this,[e],this._majorUnit),i),s=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,n=i.length;t<n;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(q0(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return R_(e.sort(j0))}}$(Rs,"id","time"),$(Rs,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function $c(r,e,t){let n=0,i=r.length-1,a,s,c,l;t?(e>=r[n].pos&&e<=r[i].pos&&({lo:n,hi:i}=zr(r,"pos",e)),{pos:a,time:c}=r[n],{pos:s,time:l}=r[i]):(e>=r[n].time&&e<=r[i].time&&({lo:n,hi:i}=zr(r,"time",e)),{time:a,pos:c}=r[n],{time:s,pos:l}=r[i]);const d=s-a;return d?c+(l-c)*(e-a)/d:c}class gp extends Rs{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=$c(t,this.min),this._tableRange=$c(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],a=[];let s,c,l,d,u;for(s=0,c=e.length;s<c;++s)d=e[s],d>=t&&d<=n&&i.push(d);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(s=0,c=i.length;s<c;++s)u=i[s+1],l=i[s-1],d=i[s],Math.round((u+l)/2)!==d&&a.push({time:d,pos:s/(c-1)});return a}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(t)||n.length===1)&&n.push(t),n.sort((i,a)=>i-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return($c(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return $c(this._table,n*this._tableRange+this._minPos,!0)}}$(gp,"id","timeseries"),$(gp,"defaults",Rs.defaults);var dM=Object.freeze({__proto__:null,CategoryScale:hp,LinearScale:pp,LogarithmicScale:fp,RadialLinearScale:is,TimeScale:Rs,TimeSeriesScale:gp});const uM=[vD,qO,BR,dM],w5="label";function Z0(r,e){typeof r=="function"?r(e):r&&(r.current=e)}function hM(r,e){const t=r.options;t&&e&&Object.assign(t,e)}function S5(r,e){r.labels=e}function A5(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w5;const n=[];r.datasets=e.map(i=>{const a=r.datasets.find(s=>s[t]===i[t]);return!a||!i.data||n.includes(a)?{...i}:(n.push(a),Object.assign(a,i),a)})}function pM(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w5;const t={labels:[],datasets:[]};return S5(t,r.labels),A5(t,r.datasets,e),t}function fM(r,e){const{height:t=150,width:n=300,redraw:i=!1,datasetIdKey:a,type:s,data:c,options:l,plugins:d=[],fallbackContent:u,updateMode:h,...p}=r,f=Ot(null),g=Ot(),m=()=>{f.current&&(g.current=new Js(f.current,{type:s,data:pM(c,a),options:l&&{...l},plugins:d}),Z0(e,g.current))},v=()=>{Z0(e,null),g.current&&(g.current.destroy(),g.current=null)};return Z(()=>{!i&&g.current&&l&&hM(g.current,l)},[i,l]),Z(()=>{!i&&g.current&&S5(g.current.config.data,c.labels)},[i,c.labels]),Z(()=>{!i&&g.current&&c.datasets&&A5(g.current.config.data,c.datasets,a)},[i,c.datasets]),Z(()=>{g.current&&(i?(v(),setTimeout(m)):g.current.update(h))},[i,l,c.labels,c.datasets,h]),Z(()=>{g.current&&(v(),setTimeout(m))},[s]),Z(()=>(m(),()=>v()),[]),W.createElement("canvas",Object.assign({ref:f,role:"img",height:t,width:n},p),u)}const mM=Sa(fM);function gM(r,e){return Js.register(e),Sa((t,n)=>W.createElement(mM,Object.assign({},t,{ref:n,type:r})))}const vM=gM("bar",vs);Js.register(...uM);function _M({}){var s,c,l,d,u,h,p,f,g;const{response:r}=X($8,{},!0),{tabs:e}=Zt(["Month","Year"]),t=Ot(null);Z(()=>{const m=t.current.getContext("2d");new Js(m,{type:"line",data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Approved",data:[.2,.7,1.2,1.8,2.3,3,4,3.8,3.2,2.3,1.2,.7],borderColor:"green",backgroundColor:"green",fill:!1,tension:.4}]},options:{responsive:!0,plugins:{legend:{display:!0,position:"top"}},scales:{y:{title:{display:!0,text:"Hours"}}}}})});const[n,i]=O("2024"),a=[{value:"2024",text:"2024"},{value:"2023",text:"2023"},{value:"2022",text:"2022"}];return o("div",{children:[o(Ne,{title:"Analytics & Report"}),o("div",{className:"app-section",children:[o("div",{className:"app-analytics__header",children:[o(x,{dimension:"md",variant:"primary",onClick:()=>yM(r),children:[o(ne,{name:"report"}),"Generate Report"]}),o("div",{children:[o(ai,{tabs:e}),o(kt,{children:[o(It,{children:n}),o(xt,{children:a.map(m=>o("div",{className:"base-dropdown__option",onClick:()=>i(m.value),children:m.text},m.value))})]})]})]}),o("div",{className:"app-analytics__grid",children:[o("div",{className:"app-analytics__card",children:[o("p",{className:"app-analytics__card__title",children:"Total Permits"}),o("div",{className:"stats",children:[o("h4",{children:((s=r==null?void 0:r.data)==null?void 0:s.allPermitCount)??0}),o("p",{className:"stat-increase",children:["+ 16.5% ",o(ne,{name:"increase"})]})]}),o("div",{className:"counts",children:[o("div",{children:[o("h4",{children:((c=r==null?void 0:r.data)==null?void 0:c.closedPermitCount)??0}),o("p",{children:"Closed"})]}),o("div",{children:[o("h4",{children:((l=r==null?void 0:r.data)==null?void 0:l.issuedPermitCount)??0}),o("p",{children:"Issued"})]})]}),o("div",{className:"progress-bar",children:[o("div",{className:"progress-bar__bar",children:[o("div",{className:"approved-bar"}),o("div",{className:"rejected-bar"})]}),o("div",{children:[o("p",{children:"70%"}),o("p",{children:"30%"})]})]})]}),o("div",{className:"app-analytics__bar-chart",children:[o("div",{className:"app-analytics__bar-chart__header",children:[o("h4",{children:"Permits"}),o("div",{className:"app-indicator",children:[o("p",{children:[o("span",{style:{background:"#008d4e"}}),"Issued"]}),o("p",{children:[o("span",{style:{background:"#E86E18"}}),"Closed"]})]})]}),o("div",{style:{height:"250px"},children:o(vM,{options:{maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,border:{display:!1},grid:{color:"#dbdbdb80",lineWidth:1},ticks:{callback:function(m,v){return v%2===0?this.getLabelForValue(m):""}}},x:{grid:{border:{display:!1},lineWidth:0},ticks:{zIndex:10,beginAtZero:!0}}}},data:{labels:qu((u=(d=r==null?void 0:r.data)==null?void 0:d.permitChart)==null?void 0:u.closedPermitsGroupedByMonth).labels??[],datasets:r?[{label:"Issued",data:qu((p=(h=r==null?void 0:r.data)==null?void 0:h.permitChart)==null?void 0:p.issuedPermitsGroupedByMonth).data??[],backgroundColor:"#008D4E",borderRadius:20,barThickness:12,borderColor:"rgba(0,0,0,0)",borderWidth:2},{label:"Closed",data:qu((g=(f=r==null?void 0:r.data)==null?void 0:f.permitChart)==null?void 0:g.closedPermitsGroupedByMonth).data??[],backgroundColor:"#E86E18",borderRadius:20,barThickness:12,borderColor:"rgba(232, 110, 24, 1)",borderWidth:2}]:[]}})})]})]}),o("div",{className:"app-analytics__grid",children:[o("div",{className:"app-analytics__approvals",children:[o("h2",{children:"Safety Metrics"}),o("canvas",{ref:t})]}),o("div",{className:"app-analytics__card app-analytics__line-graph",children:[o("h2",{className:"",children:"Top Identified Hazards"}),o("div",{className:"",children:[o("div",{className:"details",children:[o("h4",{children:"Noise"}),o("span",{children:"500 permits"})]}),o("div",{className:"details",children:[o("h4",{children:"Toxic Substance"}),o("span",{children:"500 permits"})]}),o("div",{className:"",children:[o("h4",{children:"Spill (CONTAINMENT IN PLACE)"}),o("span",{children:"500 permits"})]})]})]})]})]})]})}function qu(r){return r?{labels:Object.keys(r),data:Object.values(r)}:{}}function yM(r){if(console.log("oga please"),!r.success||r.statusCode!==201)return"Failed to retrieve data for the report.";const{allPermitCount:e,closedPermitCount:t,issuedPermitCount:n,permitChart:{closedPermitsGroupedByMonth:i,issuedPermitsGroupedByMonth:a}}=r.data,s=new Date,c=s.getFullYear(),l=String(s.getMonth()+1).padStart(2,"0"),d=`${c}-${l}`;console.log(d);let u=`### Monthly Permit Report for ${s.toLocaleString("default",{month:"long"})} ${c}

`;u+=`#### Summary:
`,u+=`- Total Permits: ${e}
`,u+=`- Issued Permits: ${n}
`,u+=`- Closed Permits: ${t}

`,u+=`---

#### **Details of Issued Permits (December 2024):**
`,a["2024-12"]?a["2024-12"].forEach((g,m)=>{u+=`${m+1}. **Permit ID:** ${g.publicId}
`,u+=`   - **Type:** ${g.type}
`,u+=`   - **Work Area:** ${g.workArea}
`,u+=`   - **Performing Person in Charge:** ${g.performingPersonInCharge}
`,u+=`   - **Description:** ${g.workDescription}
`,u+=`   - **From Date:** ${g.fromDate}
`,u+=`   - **To Date:** ${g.toDate}
`,u+=`   - **Status:** ${g.status}
`,u+=`   - **Date Approved:** ${new Date(g.dateApproved).toLocaleDateString()}
`,u+=`   - **Current Authority:** ${g.currentAuthority}

`}):u+=`_No issued permits for this period._

`,u+=`---

#### **Details of Closed Permits (December 2024):**
`,i["2024-12"]?i["2024-12"].forEach((g,m)=>{u+=`${m+1}. **Permit ID:** ${g.publicId}
`,u+=`   - **Type:** ${g.type}
`,u+=`   - **Work Area:** ${g.workArea}
`,u+=`   - **Performing Person in Charge:** ${g.performingPersonInCharge}
`,u+=`   - **Description:** ${g.workDescription}
`,u+=`   - **From Date:** ${g.fromDate}
`,u+=`   - **To Date:** ${g.toDate}
`,u+=`   - **Status:** ${g.status}
`,u+=`   - **Date Closed:** ${g.dateClosed?new Date(g.dateClosed).toLocaleDateString():"N/A"}
`,u+=`   - **Current Authority:** ${g.currentAuthority}

`}):u+=`_No closed permits for this period._

`;const h=new Blob([u],{type:"text/plain"}),p=URL.createObjectURL(h),f=document.createElement("a");f.href=p,f.download=`Monthly_Permit_Report_${new Date().toISOString().slice(0,10)}.pdf`,document.body.appendChild(f),f.click(),document.body.removeChild(f)}function CM({}){const{valueID:r}=$e(),e=X(Ea,{},!0),[t,n]=O(""),[i,a]=O(null),s=r;console.log(t,s),Z(()=>{async function C(){const S=(await K(`/location/${s}`,"GET"))[0].data;a(S),n(S==null?void 0:S.locationArea),h("workArea",(S==null?void 0:S.workAreas)||[])}C()},[s]),Z(()=>{i&&(h("locationId",i==null?void 0:i.id),h("locationArea",i==null?void 0:i.locationArea),h("site",i==null?void 0:i.site))});const{makeRequest:c,isLoading:l}=X(bE),{getFieldProps:d,handleSubmit:u,setFieldValue:h,values:p}=se({initialValues:{locationId:0,site:"",locationArea:"",workArea:[]},onSubmit:b,validationSchema:bM}),f=()=>{h("workArea",[...p.workArea,""])},g=(C,N)=>{const S=[...p.workArea];S[C]=N,h("workArea",S)},m=C=>{const N=p.workArea.filter((S,k)=>k!==C);h("workArea",N)},[v,_]=O("--select site--"),[y,w]=O([]);console.log(y),Z(()=>{if(v&&e.response){const C=e.response.data[v],N=C?C.map(S=>({text:S.locationArea,value:S.id})):[{text:"No location areas found",value:""}];w(N)}},[v,e.response]);async function b(C){const[N,S]=await c({locationId:Number(C.locationId)||(i==null?void 0:i.id),site:C.site||(i==null?void 0:i.site),locationArea:C.locationArea||(i==null?void 0:i.locationArea),workArea:C.workArea.filter(Boolean)});if(S)return q({variant:"error",message:(S==null?void 0:S.message)??"Failed to edit location, please try again."});q({variant:"success",message:"Location area edited successfully"}),V("/locations")}return o(P,{children:[o(Ne,{title:"Locations"}),o("div",{className:"app-page",children:[o("div",{className:"app-create__header",children:[o("button",{onClick:()=>V("/locations"),children:o(ne,{name:"caret-left"})}),o("div",{children:[o("h3",{children:"Edit location"}),o("p",{children:"Fill the fields below to edit the location"})]})]}),o("div",{className:"app-create__form",children:o("form",{onSubmit:u,children:[o("p",{className:"app-create__form__title",children:"Site Title"}),o(tt,{placeholder:i==null?void 0:i.site,options:oi,...d("site"),onChange:C=>_(C.target.value)}),o("p",{className:"app-create__form__title",children:"Location Area"}),o("div",{className:"location-fields",children:o(ee,{placeholder:i==null?void 0:i.locationArea,onChange:C=>h("locationArea",C.target.value),...d("locationArea")})}),o("p",{className:"app-create__form__title",children:"Work Area"}),p.workArea.map((C,N)=>o("div",{className:"location-fields",children:o(ee,{placeholder:"Enter Work Area",value:C,onChange:S=>g(N,S.target.value),button:o("img",{src:"/svgs/delete_icon.svg",alt:"Delete",onClick:()=>m(N)})})},N)),o("div",{className:"app-create__edit-location",style:{cursor:"pointer"},onClick:f,children:[o("img",{src:"/svgs/location-add.svg",width:16,height:16}),o("span",{children:"Add Work Area"})]}),o(x,{variant:"primary",isLoading:l,children:"Submit"})]})})]})]})}const bM=re({});function wM({}){var h;const{makeRequest:r,isLoading:e}=X(TE),{valueID:t}=$e(),[n,i]=O({email:"",roleId:0,fullname:"",role:{name:""}}),a=X(js,{},!0),{getFieldProps:s,handleSubmit:c,setFieldValue:l}=se({initialValues:{email:"",roleId:null,fullname:""},onSubmit:u,validationSchema:SM}),d=(h=a.response)!=null&&h.data?a.response.data.map(p=>({text:p.name,value:p.id})):[];Z(()=>{async function p(){const g=(await K(`/profile/${t}`,"GET"))[0].data;i(g),console.log(g)}p()},[t]),Z(()=>{n&&(l("email",n.email),l("roleId",n.roleId),l("fullname",n.fullname))},[n]);async function u(p){console.log(p);const[f,g]=await r({fullname:p.fullname||(n==null?void 0:n.fullname),email:p.email||(n==null?void 0:n.email),roleId:Number(p.roleId)||(n==null?void 0:n.roleId),externalProfileId:t});if(g)return q({variant:"error",message:(g==null?void 0:g.message)??"Failed to update user, please try again."});q({variant:"success",message:"User updated successfully"}),V("/users")}return o(P,{children:[o(Ne,{title:"User"}),o("div",{className:"app-page",children:[o("div",{className:"app-create__header",children:[o("button",{onClick:()=>V("/users"),children:o(ne,{name:"caret-left"})}),o("div",{children:[o("h3",{children:"Edit existing user"}),o("p",{children:"Fill the fields below to edit an existing user"})]})]}),o("div",{className:"app-create__form",children:o("form",{onSubmit:c,children:[o("p",{className:"app-create__form__title",children:"Full Name"}),o(ee,{placeholder:"Enter full name",...s("fullname")}),o("p",{className:"app-create__form__title",children:"Email Address"}),o(ee,{placeholder:`${n.email?n.email:"Enter email address"}`,...s("email")}),o("p",{className:"app-create__form__title",children:"Role"}),o(tt,{...s("roleId"),placeholder:`${n.roleId?n.role.name:"--select role--"}`,options:d}),o(x,{type:"submit",variant:"primary",isLoading:e,children:"Edit User"})]})})]})]})}const SM=re({});function AM({}){var d;const{makeRequest:r,isLoading:e}=X(EE),{valueID:t}=$e(),n=X(js,{},!0),i=re({fullname:oe().required("Full name is required"),email:oe().email("Email is invalid").required("Email is required"),roleId:fo().required("A role must be selected")});async function a(u){const[h,p]=await r({fullname:u.fullname,email:u.email,roleId:Number(u.roleId),companyId:Number(t)});if(p)return q({variant:"error",message:(p==null?void 0:p.message)??"Failed to create user, please try again."});V("/users/company/details")}const{getFieldProps:s,handleSubmit:c}=se({initialValues:{fullname:"",email:"",roleId:null},onSubmit:a,validationSchema:i}),l=(d=n.response)!=null&&d.data?n.response.data.map(u=>({text:u.name,value:u.id})):[];return o(P,{children:[o(Ne,{title:"User"}),o("div",{className:"app-page",children:[o("div",{className:"app-create__header",children:[o("button",{onClick:()=>V("/users"),children:o(ne,{name:"caret-left"})}),o("div",{children:[o("h3",{children:"Create new user"}),o("p",{children:"Fill the fields below to create a new user"})]})]}),o("div",{className:"app-create__form",children:o("form",{onSubmit:c,children:[o("p",{className:"app-create__form__title",children:"Full Name"}),o(ee,{placeholder:"Enter full name",...s("fullname")}),o("p",{className:"app-create__form__title",children:"Email Address"}),o(ee,{placeholder:"Enter email address",...s("email")}),o("p",{className:"app-create__form__title",children:"Role"}),o(tt,{...s("roleId"),placeholder:"Select a role",options:l}),o(x,{type:"submit",variant:"primary",isLoading:e,children:"Create User"})]})})]})]})}function NM({}){var f;const{makeRequest:r,isLoading:e}=X(SE),t=X(js,{},!0),n=X(Ea,{},!0),i=re({email:oe().email("Email is invalid").required("Email is required"),roleId:fo().required("A role must be selected"),locationId:fo().min(1,"Select a location")}),[a,s]=O("--select site--"),[c,l]=O([]);Z(()=>{if(a&&n.response){const g=n.response.data[a],m=g?g.map(v=>({text:v.locationArea,value:v.id})):[{text:"No location areas found",value:""}];l(m)}},[a,n.response]);async function d(g){const[m,v]=await r({email:g.email,roleId:Number(g.roleId),locationId:Number(g.locationId)});if(v)return q({variant:"error",message:(v==null?void 0:v.message)??"Failed to create user, please try again."});q({variant:"success",message:"User created successfully"}),V("/users")}const{getFieldProps:u,handleSubmit:h}=se({initialValues:{email:"",roleId:null,locationId:0},onSubmit:d,validationSchema:i}),p=(f=t.response)!=null&&f.data?t.response.data.map(g=>({text:g.name,value:g.id})):[];return o(P,{children:[o(Ne,{title:"User"}),o("div",{className:"app-page",children:[o("div",{className:"app-create__header",children:[o("button",{onClick:()=>V("/users"),children:o(ne,{name:"caret-left"})}),o("div",{children:[o("h3",{children:"Create new user"}),o("p",{children:"Fill the fields below to create a new user"})]})]}),o("div",{className:"app-create__form",children:o("form",{onSubmit:h,children:[o("p",{className:"app-create__form__title",children:"Email Address"}),o(ee,{placeholder:"Enter email address",...u("email")}),o("p",{className:"app-create__form__title",children:"Role"}),o(tt,{...u("roleId"),placeholder:"--select role--",options:p}),o("p",{className:"app-create__form__title",children:"Site Title"}),o(tt,{placeholder:a,options:oi,...u("siteName"),onChange:g=>s(g.target.value)}),o("p",{className:"app-create__form__title",children:"Location Area"}),o(tt,{placeholder:"--select location--",options:c,...u("locationId"),required:!0}),o(x,{type:"submit",variant:"primary",isLoading:e,children:"Create User"})]})})]})]})}function EM({}){const{makeRequest:r,isLoading:e}=X(NE),t=X(Ea,{},!0),{getFieldProps:n,handleSubmit:i}=se({initialValues:{name:"",contractId:"",locationId:0},onSubmit:d,validationSchema:TM}),[a,s]=O("--select site--"),[c,l]=O([]);Z(()=>{if(a&&t.response){const u=t.response.data[a],h=u?u.map(p=>({text:p.locationArea,value:p.id})):[{text:"No location areas found",value:0}];l(h)}},[a,t.response]);async function d(u){const[h,p]=await r({name:u.companyName,contractId:u.contractID,locationId:Number(u.locationId)});if(p)return q({variant:"error",message:(p==null?void 0:p.message)??"Failed to create user, please try again."});V("/users")}return o(P,{children:[o(Ne,{title:"User"}),o("div",{className:"app-page",children:[o("div",{className:"app-create__header",children:[o("button",{onClick:()=>V("/users"),children:o(ne,{name:"caret-left"})}),o("div",{children:[o("h3",{children:"Create new company"}),o("p",{children:"Fill the fields below to create a new company"})]})]}),o("div",{className:"app-create__form",children:o("form",{onSubmit:i,children:[o("p",{className:"app-create__form__title",children:"Company Name"}),o(ee,{placeholder:"Enter company name",...n("companyName")}),o(P,{children:[o("p",{className:"app-create__form__title",children:"Contract ID"}),o(ee,{placeholder:"Enter contract ID",...n("contractID")}),o("p",{className:"app-create__form__title",children:"Site"}),o(tt,{placeholder:a,options:oi,...n("siteName"),onChange:u=>s(u.target.value)}),o("p",{className:"app-create__form__title",children:"Location Area"}),o(tt,{placeholder:"--select location--",options:c,...n("locationId"),required:!0})]}),o(x,{variant:"primary",isLoading:e,children:"Create Company"})]})})]})]})}const TM=re({companyName:oe().required("Company name is required").trim().min(2,"Please enter a valid company name"),contractID:oe().required("Contract ID is required").trim().min(4,"Please enter a valid contract ID"),locationId:fo().required("Location is required").required("Select a valid site and location area").min(1,"Please select a valid location")}),kM=({company:r=[]})=>{var N,S,k,T;const[e,t]=O(null),{toggle:n,modals:i}=Qt({user_details:!1}),[a,s]=O("All Status"),c=["All Status","Active","Inactive"],[l,d]=O(""),{setID:u,valueID:h}=$e();async function p(A){var I,R;const E=await K(`/profile/${A}`,"GET");t((I=E[0])==null?void 0:I.data),console.log((R=E[0])==null?void 0:R.data)}const f=A=>{p(A.id),n("user_details")},g=A=>`${A.fullname}`,m=r||[],[v,_]=O(!1),y=A=>{u(A.id),_(!0)},w=async()=>{var I;return((I=(await K(`/profile/${h}`,"DELETE"))[0])==null?void 0:I.statusCode)===200?(n("user_details"),_(!1),q({variant:"success",message:"User deleted successfully"})):q({variant:"error",message:"User delete failed, please try again"})},b=A=>{u(A.id),V("/users/edit")},C=m.filter(A=>{const E=A.fullname.toLowerCase(),I=A.email.toLowerCase(),R=E.includes(l.toLowerCase())||I.includes(l.toLowerCase())||l==="",M=a==="All Status"||a==="Active"&&A.isActive||a==="Inactive"&&!A.isActive;return R&&M});return o("div",{children:[o("div",{className:"app-section__flex",children:[o($n,{placeholder:"Search by user name",onSearch:d}),o("br",{}),o("div",{className:"app-section__filters",children:[o("span",{className:"base-date-filter--secondary",children:"Filter by:"}),o(kt,{className:"base-dropdown__dropdown-wrapper",children:[o(It,{children:a}),o(xt,{children:c.map(A=>o("div",{className:"base-dropdown__option",onClick:()=>s(A),children:A},A))})]})]}),o(x,{href:"/users/create-external",variant:"primary",dimension:"md",children:[o(ne,{name:"plus"}),"Add New User"]})]}),o("div",{className:"app-section__lg-table",children:o(je,{children:[o(Ct,{children:o(me,{children:[o(D,{children:"Name"}),o(D,{children:"Email"}),o(D,{children:"Status"}),o(D,{})]})}),o(Qe,{children:C.map(A=>o(me,{children:[o(D,{children:A.fullname}),o(D,{children:A.email}),o(D,{children:o("span",{className:A.isActive?"status-active":"status-inactive",children:A.isActive?"Active":"Inactive"})}),o(D,{children:o(x,{variant:"outline",onClick:()=>f(A),children:"View"})})]},A.id))})]})}),o(qs,{data:C,onItemClick:f,getName:g,formatCreatedAt:A=>le(A==null?void 0:A.createdAt).format("MMM DD, YYYY"),getDetails:A=>A==null?void 0:A.type,type:"Users"}),!m.length&&o("div",{className:"base-empty",children:[o("img",{src:"/svgs/document.svg",alt:"No Data"}),o("p",{children:"No users yet"})]}),o(lt,{toggle:()=>n("user_details"),show:i.user_details,children:[o(dt,{children:"User Details"}),o(ut,{children:[o(we,{label:"Date Created:",children:le(e==null?void 0:e.createdAt).format("MMM DD, YYYY • HH:mm A")}),o(we,{label:"Created By:",children:o("a",{href:"#",className:"app-link",children:[(N=e==null?void 0:e.creator)==null?void 0:N.fullname," "]})}),o(we,{label:"Full name:",children:e==null?void 0:e.fullname}),o(we,{label:"Email Address:",children:e==null?void 0:e.email}),o("div",{className:"grid-cols-2",children:[o(we,{label:"User Type:",children:(S=e==null?void 0:e.type)==null?void 0:S.toUpperCase()}),o(we,{label:"Status:",children:o("span",{className:e!=null&&e.isActive?"mobile-status-active":"mobile-status-inactive",children:e!=null&&e.isActive?"Active":"Inactive"})})]}),o(we,{label:"Role:",children:(T=(k=e==null?void 0:e.role)==null?void 0:k.authorities)==null?void 0:T.map(A=>o("p",{children:A},A))}),o("div",{className:"app-modal__footer",children:[o("button",{className:"app-modal__btn--yellow",onClick:()=>b(e),children:[o(ne,{name:"edit"})," Edit User"]}),o("button",{className:"app-modal__btn--red",onClick:()=>y(e),children:[o(ne,{name:"delete"})," Delete"]})]}),o("div",{className:"",children:v&&o(Pn,{icon:o("img",{src:"/svgs/delete_img.png"}),title:"Delete User",message:"Are you sure you want to delete this user? This action cannot be undone.",onClose:()=>_(!1),primaryButton:{label:"Delete",onClick:w,color:"#D30021"},secondaryButton:{label:"Cancel",onClick:()=>_(!1),color:"#E86E18"}})})]})]})]})};function IM({}){var d,u,h;const{valueID:r,setID:e}=$e(),[t,n]=O({id:0,name:"",location:{locationArea:"",site:""},contractId:"",createdAt:"",createdBy:"",members:[]});Z(()=>{if(r){async function p(){var m;const g=(m=(await K(`/profile/company/${r}`,"GET"))[0])==null?void 0:m.data;n(g)}p()}},[]);const i=[{id:1,name:"Contract ID:",details:t==null?void 0:t.contractId},{id:2,name:"Date Created:",details:le(t==null?void 0:t.createdAt).format("MMM DD, YYYY • HH:mm A")},{id:3,name:"Created By:",details:t==null?void 0:t.createdBy},{id:4,name:"Total Members:",details:(d=t==null?void 0:t.members)==null?void 0:d.length},{id:5,name:"Location:",details:`${(u=t==null?void 0:t.location)==null?void 0:u.locationArea}, ${(h=t==null?void 0:t.location)==null?void 0:h.site}`}],a=p=>{e(p),V("/users/edit-company")},[s,c]=O(!1),l=async()=>{var g,m,v;const f=await K(`/profile/company/block/${r}`,"PUT");return((g=f[0])==null?void 0:g.statusCode)===200?(c(!1),q({variant:"success",message:((m=f[0])==null?void 0:m.message)??"Company blocked successfully."})):q({variant:"error",message:((v=f[0])==null?void 0:v.message)??"Company block failed, please try again."})};return o(P,{children:[o(Ne,{title:"User"}),o("div",{className:"app-page",children:[o("div",{className:"flex-between",children:[o("div",{className:"app-create__header",children:[o("button",{onClick:()=>V("/users"),children:o(ne,{name:"caret-left"})}),o("div",{children:[o("h3",{children:[t==null?void 0:t.name," "]}),o("p",{children:"All company members are listed below"})]})]}),o("div",{className:"grid-cols-2 sm-grid-cols-2",children:[o("button",{className:"app-modal__btn--red",onClick:()=>{c(!0)},children:"Block"}),o("button",{className:"app-modal__btn--yellow",onClick:()=>{a(t.id)},children:"Edit"})]})]}),o("div",{className:"company-header",children:i.map(p=>o("div",{className:"container",children:[o("p",{children:p.name}),o("span",{className:`${p.name==="Created By:"?"created":""}`,children:p.details})]},p.id))}),o(kM,{company:t==null?void 0:t.members})]}),o("div",{className:"",children:s&&o(Pn,{icon:o("img",{src:"/svgs/delete_img.png"}),title:"Block Company",message:"Are you sure you want to block this company? This action cannot be undone.",onClose:()=>c(!1),primaryButton:{label:"Block",onClick:l,color:"#D30021"},secondaryButton:{label:"Cancel",onClick:()=>c(!1),color:"#E86E18"}})})]})}function xM({}){const{response:r,isLoading:e}=X(xE,{},!0),{setID:t,valueID:n}=$e(),{updateDraft:i,updateIsDraft:a}=ko();Z(()=>{a(!1)},[]);const[s,c]=O({start:null,end:null}),l=async E=>{var M;const R=(M=(await K(`/permit/draft/${E}`,"GET"))[0])==null?void 0:M.data;i(R),a(!0)},d=E=>{l(E.id),V("/permit/create")},[u,h]=O("All Types"),p=["All Types","HOT_WORK","COLD_WORK"],[f,g]=O(!1),m=E=>{t(E.id),g(!0)},v=async()=>{const E=n;try{const I=await K(`/permit/draft/${E}`,"DELETE");console.log(I),q({variant:"success",message:"Draft deleted successfully."})}catch{q({variant:"error",message:(r==null?void 0:r.error)??"Failed to delete draft."})}g(!1)},[_,y]=O(""),b=((r==null?void 0:r.data)||[]).filter(E=>{var j,te;const I=E.type,R=E.createdAt,M=((te=(j=E==null?void 0:E.location)==null?void 0:j.locationArea)==null?void 0:te.toLowerCase())||"",F=le(E==null?void 0:E.createdAt),L=I.includes(_.toLowerCase())||R.includes(le(_).format("MMM DD, YYYY • HH:mm A").toLowerCase())||M.includes(_.toLowerCase())||_==="",B=(!s.start||F.isAfter(le(s.start).startOf("day")))&&(!s.end||F.isBefore(le(s.end).endOf("day")));return L&&(u==="All Types"||I===u)&&B}),C=E=>{c({start:E.startDate,end:E.endDate})},[N,S]=O(1),k=10,T=b.sort((E,I)=>new Date(I.createdAt).getTime()-new Date(E.createdAt).getTime()),A=Er(T,N,k);return o(P,{children:[o(Ne,{title:"Drafts"}),o("div",{className:"app-section__header",children:[o($n,{placeholder:"Search drafts",onSearch:y}),o("div",{className:"app-section__filters",children:[o(_o,{variant:"secondary",setDateRange:C}),o(kt,{className:"base-dropdown__dropdown-wrapper",children:[o(It,{children:u}),o(xt,{children:p.map(E=>o("div",{className:"base-dropdown__option",onClick:()=>h(E),children:E},E))})]})]})]}),o("div",{className:"app-section",children:[o("div",{className:"app-section__lg-table",children:o(je,{children:[o(Ct,{children:o(me,{children:[o(D,{children:"Date Created"}),o(D,{children:"Work Type"}),o(D,{children:"Location"}),o(D,{children:"Created By"}),o(D,{}),o(D,{})]})}),o(Qe,{children:A.map(E=>o(me,{children:[o(D,{children:le(E.createdAt).format("MMM DD, YYYY • HH:mm A")}),o(D,{children:gn(E.type)}),o(D,{children:E.workArea}),o(D,{}),o(D,{children:o(x,{variant:"outline",onClick:()=>{d(E)},children:"Open"})}),o(D,{children:o(x,{onClick:()=>{m(E)},children:o("img",{src:"/svgs/delete_icon.svg",alt:"Delete"})})})]},E.id))})]})}),o("div",{className:"app-section__sm-table",children:o(je,{children:o(Qe,{children:A.map(E=>o("div",{className:"container",onClick:()=>d(E),children:[o("div",{className:"location-flex",children:o("div",{className:"items-center",children:o("h6",{className:`${E.status==="Draft"?"draft-status":"others-status"}`,children:le(E.createdAt).format("MMM DD, YYYY • HH:mm A")})})}),o("div",{className:"location-flex",children:[o("p",{children:gn(E.type)}),o("h6",{className:"gray",children:E.workArea})]})]},E.id))})})}),b.length&&o(kr,{totalItems:b.length,itemsPerPage:k,currentPage:N,onPageChange:S}),!b.length&&o("div",{className:"base-empty",children:[o("img",{src:"/svgs/document.svg"}),o("p",{children:e?"Fetching drafts, please wait...":"No drafts yet"})]}),o("div",{className:"",children:f&&o(Pn,{icon:o("img",{src:"/svgs/delete_img.png"}),title:"Delete Draft?",message:"Are you sure you want to delete this draft? This action cannot be undone.",onClose:()=>g(!1),primaryButton:{label:"Delete",onClick:v,color:"#D30021"},secondaryButton:{label:"Cancel",onClick:()=>g(!1),color:"#E86E18"}})})]})]})}function PM({}){const r=X(Ea,{},!0),{makeRequest:e,isLoading:t}=X(CE),{getFieldProps:n,handleSubmit:i,setFieldValue:a,values:s}=se({initialValues:{locationId:0,workArea:[]},onSubmit:h,validationSchema:DM}),[c,l]=O("--select site--"),[d,u]=O([]);Z(()=>{if(c&&r.response){const m=r.response.data[c],v=m?m.map(_=>({text:_.locationArea,value:_.id})):[{text:"No location areas found",value:""}];u(v)}},[c,r.response]);async function h(m){console.log(m);const[v,_]=await e({locationId:Number(m.locationId),workArea:m.workArea.filter(Boolean)});return _?(V("/locations"),q({variant:"error",message:(_==null?void 0:_.message)??"Failed to create work area, please try again."})):(V("/locations"),q({variant:"success",message:"Work area created successfully"}))}const p=()=>{a("workArea",[...s.workArea,""])},f=(m,v)=>{const _=[...s.workArea];_[m]=v,a("workArea",_)},g=m=>{const v=s.workArea.filter((_,y)=>y!==m);a("workArea",v)};return o(P,{children:[o(Ne,{title:"Locations"}),o("div",{className:"app-page",children:[o("div",{className:"app-create__header",children:[o("button",{onClick:()=>V("/locations"),children:o(ne,{name:"caret-left"})}),o("div",{children:[o("h3",{children:"Add new work area"}),o("p",{children:"Fill the fields below to add a new location"})]})]}),o("div",{className:"app-create__form",children:o("form",{onSubmit:i,children:[o("p",{className:"app-create__form__title",children:"Site Title"}),o(tt,{placeholder:c,options:oi,...n("siteName"),onChange:m=>l(m.target.value)}),o("p",{className:"app-create__form__title",children:"Location Area"}),o(tt,{placeholder:"--select location--",options:d,...n("locationId"),required:!0}),o("p",{className:"app-create__form__title",children:"Work Area"}),s.workArea.map((m,v)=>o("div",{className:"location-fields",children:o(ee,{placeholder:"Enter Work Area",value:m,...n(`workArea[${v}]`),onChange:_=>f(v,_.target.value),button:o("img",{src:"/svgs/delete_icon.svg",alt:"Delete",onClick:()=>g(v)})})},v)),o("div",{className:"app-create__edit-location",style:{cursor:"pointer"},onClick:p,children:[o("img",{src:"/svgs/location-add.svg",width:16,height:16,style:{marginRight:8}}),o("span",{children:"Add Work Area"})]}),o(x,{variant:"primary",isLoading:t,children:"Submit"})]})})]})]})}const DM=re({locationId:oe().required("Location is required"),workArea:bs().of(oe().trim().required("Work area is required").min(2,"Please enter a valid work area")).min(1,"At least one work area is required")});function OM({}){const{valueID:r}=$e(),[e,t]=O(""),[n,i]=O([]),[a,s]=O(null);Z(()=>{async function v(){const y=(await K(`/role/${r}`,"GET"))[0].data;s(y),t(y==null?void 0:y.name),i((y==null?void 0:y.permissions)||[])}v()},[r]);const{makeRequest:c,isLoading:l}=X(_E),{getFieldProps:d,values:u,setFieldValue:h,handleSubmit:p}=se({initialValues:{roleId:r,name:"",permissions:[],authorities:[]},validationSchema:RM,onSubmit:m});Z(()=>{a&&(h("name",a.name),h("permissions",a.permissions),h("authorities",a.authorities))},[a,n]);function f(v,_){const y=_?[...u.permissions,v]:u.permissions.filter(w=>w!==v);h("permissions",y)}function g(v,_){const y=_?[...u.authorities,v]:u.authorities.filter(w=>w!==v);h("authorities",y)}async function m(v){const[_,y]=await c({roleId:r,name:e,permissions:v.permissions,authorities:v.authorities});if(y){q({variant:"error",message:(y==null?void 0:y.message)||"Failed to update role, please try again"});return}else q({variant:"success",message:"Role updated successfully"});V("/roles")}return o(P,{children:[o(Ne,{title:"Roles & Permissions"}),o("div",{className:"app-page",children:[o("div",{className:"app-create__header",children:[o("button",{onClick:()=>V("/roles"),children:o(ne,{name:"caret-left"})}),o("div",{children:[o("h3",{children:"Edit role"}),o("p",{children:"Fill the fields below to edit a role"})]})]}),o("div",{className:"app-create__form",children:o("form",{onSubmit:p,children:[o("p",{className:"app-create__form__title",children:"Role Title"}),o(ee,{placeholder:e,...d("name")}),o("p",{className:"app-create__form__title",children:"Update Permissions"}),o("div",{className:"app-create__form__group",children:F6.map(({label:v,value:_},y)=>o("label",{className:"base-checkbox-label",children:[o(Gt,{checked:u.permissions.includes(_)||((a==null?void 0:a.permissions)||[]).includes(_),onChange:w=>f(_,w)}),o("span",{children:v})]},y))}),o("p",{className:"app-create__form__title",children:"Update Authorities"}),o("div",{className:"app-create__form__group",children:H6.map(({label:v,value:_},y)=>o("label",{className:"base-checkbox-label",children:[o(Gt,{checked:u.authorities.includes(_)||((a==null?void 0:a.authorities)||[]).includes(_),onChange:w=>g(_,w)}),o("span",{children:v})]},y))}),o(x,{type:"submit",variant:"primary",isLoading:l,children:"Edit Role"})]})})]})]})}const RM=re().shape({permissions:bs().of(oe())});function MM({}){const[r,e]=O("All Work Types"),t=["All Work Types","COLD_WORK","HOT_WORK"],[n,i]=O([]),[a,s]=O(!1),[c,l]=O("All Status"),d=["All Status","NOT_STARTED","APPROVED","REVALIDATION_INITIATED","CANCELED","CLOSED","SUSPENDED","CLOSURE_INITIATED"],{setID:u}=$e(),{profile:h}=vn(),p={checkRole:A=>{A.includes("PERFORMING")&&s(!0)}};Z(()=>{async function A(){var I,R,M;const E=await K(`/profile/${h==null?void 0:h.id}`,"GET");i((M=(R=(I=E[0])==null?void 0:I.data)==null?void 0:R.role)==null?void 0:M.authorities),console.log(n),p.checkRole(n)}A()},[h]);const{response:f,isLoading:g}=X(Qd,{},!0),m=A=>{u(A.id),V("/permit-management")},v=(A,E)=>A?A.length>E?`${A.slice(0,E)}...`:A:"",[_,y]=O(""),b=((f==null?void 0:f.data)||[]).filter(A=>{var L,B;const E=A.publicId,I=A.type,R=((L=A.workArea)==null?void 0:L.toLowerCase())||"",M=((B=A.entrustedCompany)==null?void 0:B.name.toLowerCase())||"",F=A.status;return(E.includes(_.toLowerCase())||I.includes(_.toLowerCase())||R.includes(_.toLowerCase())||M.includes(_.toLowerCase())||_==="")&&(r==="All Work Types"||I===r)&&(c==="All Status"||F===c)}),[C,N]=O(1),S=10,k=b.sort((A,E)=>new Date(E.createdAt).getTime()-new Date(A.createdAt).getTime()),T=Er(k,C,S);return o(P,{children:[o(Ne,{title:"Workflow"}),o("div",{className:"app-section__header",children:[o($n,{placeholder:"Search permits by company, work area, permit type, or permit ID",onSearch:y}),o("br",{}),o("div",{className:"app-section__filters ",children:[o("span",{className:"base-date-filter--secondary",children:"Filter by:"}),o("div",{className:"sm-grid-cols-2 app-section__filters",children:[o(kt,{className:"base-dropdown__dropdown-wrapper",children:[o(It,{children:c}),o(xt,{children:d.map(A=>o("div",{className:"base-dropdown__option",onClick:()=>l(A),children:A},A))})]}),o(kt,{className:"base-dropdown__dropdown-wrapper",children:[o(It,{children:r}),o(xt,{children:t.map(A=>o("div",{className:"base-dropdown__option",onClick:()=>e(A),children:A},A))})]})]})]}),a&&o(x,{href:"/permit/create",variant:"primary",dimension:"md",children:[o(ne,{name:"plus"}),"Create New Permit"]})]}),o("div",{className:"app-section",children:[o("div",{className:"app-section__lg-table",children:o(je,{children:[o(Ct,{children:o(me,{children:[o(D,{children:"PTW ID."}),o(D,{children:"Work Type"}),o(D,{children:"Work To Be Performed"}),o(D,{children:"Work Location"}),o(D,{children:"Company"}),o(D,{children:"Status / Authority"}),o(D,{})]})}),o(Qe,{children:T.map(A=>{var E,I;return o(P,{children:[o(me,{children:[o(D,{children:A.publicId}),o(D,{children:gn(A.type)}),o(D,{children:v(A.workDescription,45)}),o(D,{children:o("span",{children:[A.workArea," / ",(E=A.location)==null?void 0:E.locationArea]})}),o(D,{children:(I=A.entrustedCompany)==null?void 0:I.name}),o(D,{children:o("h6",{className:`${A.status==="Draft"?"draft-status":"others-status"}`,children:[A.status," / ",A.currentAuthority]})}),o(D,{children:o(x,{onClick:()=>m(A),children:"View"})})]},A.id),o("br",{})]})})})]})}),o("div",{className:"app-section__sm-table",children:o(je,{children:o(Qe,{children:T.map(A=>o("div",{className:"container",onClick:()=>m(A),children:[o("div",{className:"location-flex",children:[o("p",{children:A.publicId}),o("h6",{className:"gray",children:gn(A.type)})]}),o("p",{children:v(A.workDescription,45)}),o("div",{className:"location-flex",children:o("div",{className:"items-center",children:[o("p",{className:"gray",children:"Status / Authority:"}),o("h6",{className:`${A.status==="Draft"?"draft-status":"others-status"}`,children:[A.status," / ",A.currentAuthority]})]})})]},A.id))})})}),b.length&&o(kr,{totalItems:b.length,itemsPerPage:S,currentPage:C,onPageChange:N}),!b.length&&o("div",{className:"base-empty",children:[o("img",{src:"/svgs/document.svg"}),o("p",{children:g?"Fetching permits, please wait...":"No permits yet"})]})]})]})}function LM({setModalOpen:r}){const{permit:e}=Xe(),{getFieldProps:t,handleSubmit:n}=se({validationSchema:FM,initialValues:{permitId:0,reason:""},onSubmit:s}),{makeRequest:i,isLoading:a}=X(C_);async function s(c){const[l,d]=await i({permitId:e==null?void 0:e.id,reason:c.reason});if(d){q({variant:"error",message:(d==null?void 0:d.message)||"Failed to suspend permit, please try again"});return}else q({variant:"success",message:"Permit suspended successfully"}),V("/permit-activities")}return o(P,{children:o("div",{className:"popup-overlay",children:o("div",{className:"popup-modal",children:[o("div",{className:"grid-cols-2",children:[o("h3",{children:"Suspend Permit"}),o("button",{className:"close-button",onClick:r,children:"×"})]}),o("br",{}),o("div",{className:"popup-content",children:o("div",{className:"",children:o("form",{onSubmit:n,children:[o("h5",{children:"Kindly state the reason for suspending this permit below"}),o("br",{}),o(ln,{label:"",placeholder:"Write reason here...",...t("reason")}),o(x,{type:"submit",variant:"primary",isLoading:a,children:"Submit"})]})})})]})})})}const FM=re({});function HM({setModalOpen:r}){const{permit:e}=Xe(),{getFieldProps:t,handleSubmit:n}=se({validationSchema:UM,initialValues:{permitId:0,reason:""},onSubmit:s}),{makeRequest:i,isLoading:a}=X(Nk);async function s(c){const[l,d]=await i({permitId:e==null?void 0:e.id,reason:c.reason});if(d){q({variant:"error",message:(d==null?void 0:d.message)||"Failed to cancel permit, please try again"});return}else q({variant:"success",message:"Permit cancelled succesfully"}),V("/permit-activities")}return o(P,{children:o("div",{className:"popup-overlay",children:o("div",{className:"popup-modal",children:[o("div",{className:"grid-cols-2",children:[o("h3",{children:"Cancel Permit"}),o("button",{className:"close-button",onClick:r,children:"×"})]}),o("br",{}),o("div",{className:"popup-content",children:o("div",{className:"",children:o("form",{onSubmit:n,children:[o("h5",{children:"Kindly state the reason for cancelling this permit below"}),o("br",{}),o(ln,{label:"",placeholder:"Write reason here...",...t("reason")}),o(x,{type:"submit",variant:"primary",isLoading:a,children:"Submit"})]})})})]})})})}const UM=re({reason:oe().required("Reason for sending back permit is required").trim().min(2,"Please enter a valid reason")});function xo(r){const{makeRequest:e}=X(b_),{permit:t}=Xe(),{profile:n}=vn(),[i,a]=O();Z(()=>{async function T(){var R;const E=(await K(`/permit/${t==null?void 0:t.id}`,"GET"))[0].data,I=(R=E==null?void 0:E.permitRoles)==null?void 0:R[n==null?void 0:n.id];console.log(I),a(I)}T()},[t,n==null?void 0:n.id]);const[s,c]=O(!1),[l,d]=O(!1),[u,h]=O(!1),p=T=>{h(T)},[f,g]=O(!1),m=T=>{g(T)},v=T=>{d(T)},_=T=>{c(T)},y=async()=>{var A;const T=t==null?void 0:t.id;try{const E=await K(`/permit/draft/${T}`,"DELETE");console.log(E),q({variant:"success",message:"Permit deleted successfully."})}catch(E){q({variant:"error",message:((A=E==null?void 0:E.response)==null?void 0:A.error)??"Failed to delete permit."})}c(!1)};async function w(T){const[A,E]=await e(T);if(E)return q({variant:"error",message:E.message});q({variant:"success",message:"Permit closure initiated successfully"}),d(!1),V("/permit-management")}const b=T=>T.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z])([A-Z][a-z])/g,"$1 $2").replace(/^[a-z]/,A=>A.toUpperCase()),C=()=>{const T=document.getElementById("permit-details-print"),A=window.open("","_blank");A.document.write(`<html>
        <head>
          <title>Permit Details</title>
          <style>
            body { font-family: Helvetica, sans-serif; margin: 20px; }
            .header {display: flex; justify-content: space-between; align-items: center; text-align: center; margin-bottom: 20px; }
            .header img { max-width: 100px; margin-right: 20px;}
            .details { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
            .item { padding: 10px; border: 1px solid #ccc; border-radius: 5px; }
            .footer { text-align: center; margin-top: 20px; font-size: 12px; }
            .sub-grid { display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 20px; }
            .small-text {font-size: 12px}
          </style>
        </head>
        <body>
          <div class="header">
            <img src="/svgs/logo.sidebar.svg" alt="Logo" />
            <h3>Permit Details</h3>
          </div>
          <div class="details">
            ${T.innerHTML}
          </div>
          <div class="footer">Printed on: ${new Date().toLocaleString()}</div>
        </body>
      </html>`),A.document.close(),A.print()},N=T=>typeof T=="object"&&T!==null?Array.isArray(T)?T.length>0?T.map((A,E)=>o("div",{children:N(A)},E)):"N/A":o("div",{children:Object.entries(T).filter(([A])=>A.toLowerCase()!=="permitDocuments").map(([A,E])=>o("div",{className:"sub-grid",children:[o("h5",{children:[b(A),":"]}),o("p",{className:"small-text",children:N(E)})]},A))}):T!==null?T.toString():"N/A",S=Object.entries(t||{}).filter(([T])=>!["id","locationId","cancellationInitiatorId, updatedAt, permitDocuments, firefightingPrecautions"].includes(T));function k(){switch(r){case"/monitoring-details":return o(P,{children:o("div",{className:"actions",children:[o("div",{className:"print",children:[o("div",{children:[o("h4",{children:"Print"}),o("p",{children:"Click the button to get a hardcopy version of this permit"})]}),o("button",{className:"flex-center",onClick:C,children:"Print Permit"}),o("div",{id:"permit-details-print",style:{display:"none"},children:S.map(([T,A])=>o("div",{className:"item",children:[o("h4",{children:[b(T),":"]}),o("p",{children:N(A)})]},T))})]}),i==="PERFORMING_SUPERVISOR"&&o("div",{className:"closure",children:[o("div",{children:[o("h4",{children:"Request for closure"}),o("p",{children:"Click the button to process closure of this permit"})]}),o("button",{className:"flex-center",onClick:()=>v(!0),children:[o(ne,{name:"export"}),"Request Closure"," "]})]}),(i==="ISSUING"||i==="AUTHORIZING"||i==="ISSUING_SUPERVISOR")&&o("div",{className:"double",children:[o("div",{className:"suspension",children:[o("div",{children:[o("h4",{children:"Suspend Permit"}),o("p",{children:[" ","Click the button below to process suspension of this permit."]})]}),o("br",{}),o("button",{className:"flex-center",onClick:()=>p(!0),children:"Suspend Permit"})]}),o("div",{className:"cancel",children:[o("div",{children:[o("h4",{children:"Permit Cancellation"}),o("p",{children:[" ","Click the button below to process cancel this permit."]})]}),o("br",{}),o("button",{className:"flex-center",onClick:()=>m(!0),children:"Cancel Permit"})]})]})]})});case"/permit-management":return o(P,{children:o("div",{className:"actions",children:[o("div",{className:"print",children:[o("div",{children:[o("h4",{children:"Print"}),o("p",{children:"Click the button to get a hardcopy version of this permit"})]}),o("button",{className:"flex-center",onClick:C,children:"Print Permit"}),o("div",{id:"permit-details-print",style:{display:"none"},children:S.map(([T,A])=>o("div",{className:"item",children:[o("h4",{children:[b(T),":"]}),o("p",{children:N(A)})]},T))})]}),(t==null?void 0:t.authorizingAuthorityStatus)!=="APPROVED"&&i==="PERFORMING"&&o("div",{className:"delete",children:[o("div",{children:[o("h4",{children:"Delete"}),o("p",{children:"Click the button to delete this permit"})]}),o("button",{className:"flex-center",onClick:()=>_(!0),children:[o(ne,{name:"delete"}),"Delete Permit"]})]})]})})}}return o(P,{children:[k(),o("div",{className:"",children:s&&o(Pn,{icon:o("img",{src:"/svgs/delete_img.png"}),title:"Delete Permit",message:`Are you sure you want to delete this permit (ID: ${t==null?void 0:t.publicId})? This action cannot be undone.`,onClose:()=>c(!1),primaryButton:{label:"Delete",onClick:y,color:"#D30021"},secondaryButton:{label:"Cancel",onClick:()=>_(!1),color:"#E86E18"}})}),o("div",{className:"",children:u&&o(LM,{setModalOpen:()=>p(!1)})}),o("div",{className:"",children:l&&o(Pn,{icon:o("img",{src:""}),title:"Request Closure of Permit",message:"",onClose:()=>d(!1),primaryButton:{label:"Request Closure",onClick:()=>w(t==null?void 0:t.id),color:"#371071"},secondaryButton:{label:"Cancel",onClick:()=>v(!1),color:"#E86E18"}})}),o("div",{className:"",children:f&&o(HM,{setModalOpen:()=>m(!1)})})]})}function N5({response:r}){var g,m,v,_,y,w,b;const e=r;console.log(e);const t=e!=null&&e.permitHazards&&e.permitHazards.length>0?e.permitHazards[0].hazard:null;console.log(t);const n=e!=null&&e.permitDocuments&&e.permitDocuments.length>0?e.permitDocuments[0]:null,i=(n==null?void 0:n.document)||{},a=gn((e==null?void 0:e.type)??""),s=gn(e==null?void 0:e.status),c=[{section:"A",header:"Work Type",content:[{id:1,title:"Permit Type",info:a||""},{id:2,title:"Permit ID",info:(e==null?void 0:e.publicId)||""},{id:3,title:"Status / Authority",info:`${s} / ${e==null?void 0:e.currentAuthority}`||""}]},{section:"B",header:"Permit Details",content:[{id:1,title:"Role",info:e==null?void 0:e.performerRole},{id:2,title:"Performing Person / Person In Charge",info:e==null?void 0:e.performingPersonInCharge},{id:3,title:"Work Details",info:e==null?void 0:e.workDescription},{id:4,title:"Equipment / Tools / Materials",info:e==null?void 0:e.equipmentToolsMaterials},{id:5,title:"Work Location / Work Area",info:`${(g=e==null?void 0:e.location)==null?void 0:g.locationArea} / ${e==null?void 0:e.workArea}`},{id:6,title:"Permit Valid From - To (Date & Time)",info:`${le(e==null?void 0:e.fromDate).format("dddd, MMM D YYYY")} /  ${le(e==null?void 0:e.fromTime).format("hh:mm A")} - ${le(e==null?void 0:e.toDate).format("dddd, MMM D YYYY")}  / ${le(e==null?void 0:e.toTime).format("hh:mm A")}`}]},{section:"C",header:"Company Details",content:[{id:1,title:"Entrusted Company",info:(m=e==null?void 0:e.entrustedCompany)==null?void 0:m.name},{id:2,title:"Executing Company",info:(v=e==null?void 0:e.executingCompany)==null?void 0:v.name},{id:3,title:"Performing Department",info:e==null?void 0:e.performingDepartment},{id:4,title:"Contact Phone Number",info:e==null?void 0:e.contractorPhoneNumber}]},{section:"D",header:"Hazard Identification",content:[{id:1,title:"Describe the potential hazards",info:((_=t==null?void 0:t.hazard)==null?void 0:_.potentialHazardDescription)||""}]}],l=[{section:"E",header:"Document Uploads",content:[]}],d=[{section:"D",header:"Hazard Identification",content:[{id:1,title:"Describe the potential hazards",info:((y=t==null?void 0:t.hazard)==null?void 0:y.potentialHazardDescription)||""}]}],u=C=>Object.entries(C||{}).filter(([k,T])=>T!==null&&!["id","createdAt","updatedAt","potentialHazardDescription"].includes(k)).map(([k,T])=>({key:k,value:T??!1})).map(({key:k,value:T})=>o("div",{className:"firefighting-item",children:o("p",{children:[o("span",{className:"firefighting-value",children:T?"YES":"NO"})," -"," ",k.replace(/([A-Z])/g," $1").toUpperCase()," "]})},k));function h(C){const N=C;if(!N)throw new Error("URL is required.");const S=N.split("/");return S[S.length-1].split("-").slice(1).join("-")}const p=()=>Object.entries(i).filter(([N,S])=>!(["id","createdAt","updatedAt","draftId"].includes(N)||(N.includes("Type")||N.includes("Doc"))&&!S||S===null)).map(([N,S])=>N.includes("Type")?o("div",{className:"document-item",children:[o("div",{className:"section__content__document_section",children:o("p",{className:"section__header",children:N.replace(/([A-Z])/g," $1").toUpperCase()})}),o("div",{className:"section__content",children:[o("p",{className:"document",children:o("span",{children:"Upload Option"})}),o("p",{children:(S==null?void 0:S.toString())||"No document provided"})]})]},N):o("div",{className:"document-item",children:o("div",{className:"section__content",children:[o("p",{className:"document",children:o("span",{children:"Document"})}),o("p",{className:"document_item",children:[h(S),o("span",{children:o("img",{src:"/svgs/document_download.svg",alt:"Download document"})})]})]})},N)),f=window.location.pathname;return o("div",{className:"app-permit__sections",children:[o("br",{}),c.map(C=>o(ve,{type:"Primary",header:C.header,children:C.content,section:C.section})),o(ve,{type:"Primary",header:"HAZARD IDENTIFICATION",children:d[0],section:d[0].section}),o("div",{className:"section",children:[o("div",{className:"section__content",children:[o("p",{className:"title",children:"Description of potential hazards"}),o("p",{children:(w=t==null?void 0:t.hazard)==null?void 0:w.potentialHazardDescription})]}),o("div",{className:"section__content",children:[o("p",{className:"title",children:"Identification of potential hazards"}),o("p",{className:"info",children:u(t)})]})]}),o(ve,{type:"Secondary",header:"Documents",children:l[0],section:(b=l[0])==null?void 0:b.section}),o("div",{className:"section",children:o("div",{className:"",children:o("p",{className:"info",children:Object.keys(i).length>0?p():o("p",{children:"No documents uploaded."})})})}),o("br",{}),xo(f)]})}function ou({response:r}){var w,b;const e=r,[t,n]=O(!1);Z(()=>{(e==null?void 0:e.issuingAuthorityStatus)==="APPROVED"?n(!0):(e==null||e.issuingAuthorityStatus,n(!1))},[e]);const i=window.location.pathname,a=[{header:"PERSONNEL PROTECTIVE EQUIPMENT",second_title:"Identification of potential hazards",section:"",content:[]}],s=[{second_title:"Identification of potential hazards",section:"",content:[]}],c=[{section:"",header:"Document Uploads",content:[]}],l=e!=null&&e.permitHazards&&e.permitHazards.length>0?e.permitHazards[1]:null,d=[{section:"D",header:"Hazard Identification",content:[{id:1,title:"",info:((w=l==null?void 0:l.hazard)==null?void 0:w.potentialHazardDescription)||""}]}],u=e!=null&&e.protectiveEquipments&&e.protectiveEquipments.length>0?e.protectiveEquipments[0].protectiveEquipment:null,h=e!=null&&e.firefightingPrecautions&&e.firefightingPrecautions.length>0?e.firefightingPrecautions[0].firefightingPrecaution:null,p=e!=null&&e.mechanicalIsolationPrecaution&&e.mechanicalIsolationPrecaution.length>0?e.mechanicalIsolationPrecaution[0].mechanicalIsolationPrecaution:null,f=e!=null&&e.electricalIsolationPrecaution&&e.electricalIsolationPrecaution.length>0?e.electricalIsolationPrecaution[0].electricalIsolationPrecaution:null,g=e!=null&&e.permitDocuments&&e.permitDocuments.length>0?e.permitDocuments[1]:null,m=(g==null?void 0:g.document)||{},v=C=>{const S=Object.entries(C||{}).filter(([k,T])=>T!==null&&!["id","createdAt","updatedAt","potentialHazardDescription"].includes(k)).map(([k,T])=>({key:k,value:T??!1}));return S.length===0?o("p",{children:"--- No items uploaded ---"}):S.map(({key:k,value:T})=>o("div",{className:"firefighting-item",children:o("p",{children:[o("span",{className:"firefighting-value",children:T?"YES":"NO"})," -"," ",k.replace(/([A-Z])/g," $1").toUpperCase()," "]})},k))||o("p",{children:"No item found"})};function _(C){const N=C;if(!N)throw new Error("URL is required.");const S=N.split("/");return S[S.length-1].split("-").slice(1).join("-")}const y=()=>Object.entries(m).filter(([N,S])=>!(["id","createdAt","updatedAt","draftId"].includes(N)||(N.includes("Type")||N.includes("Doc"))&&!S||S===null)).map(([N,S])=>N.includes("Type")?o("div",{className:"document-item",children:[o("div",{className:"section__content__document_section",children:o("p",{className:"section__header",children:N.replace(/([A-Z])/g," $1").toUpperCase()})}),o("div",{className:"section__content",children:[o("p",{className:"document",children:o("span",{children:"Upload Option"})}),o("p",{children:(S==null?void 0:S.toString())||"No document provided"})]})]},N):o("div",{className:"document-item",children:o("div",{className:"section__content",children:[o("p",{className:"document",children:o("span",{children:"Document"})}),o("p",{className:"document_item",children:[_(S),o("span",{children:o("img",{src:"/svgs/document_download.svg",alt:"Download document"})})]})]})},N));return o("div",{className:"app-permit__sections",children:[o("br",{}),t?o(P,{children:[o(ve,{type:"Primary",header:"HAZARD IDENTIFICATION",children:d[0],section:d[0].section}),o("div",{className:"section",children:[o("div",{className:"section__content",children:[o("p",{className:"title",children:"Description of potential hazards"}),o("p",{children:(b=l==null?void 0:l.hazard)==null?void 0:b.potentialHazardDescription})]}),o("div",{className:"section__content",children:[o("p",{className:"title",children:"Identification of potential hazards"}),o("p",{className:"info",children:v(l.hazard)})]})]}),o(ve,{type:"List",header:"PERSONNEL PROTECTIVE EQUIPMENT",children:a[0],section:a[0].section}),o("div",{className:"section",children:o("div",{className:"section__content",children:o("p",{className:"info",children:v(u)})})}),o(ve,{type:"List",header:"FIREFIGHTING PRECAUTION",children:s[0],section:s[0].section}),o("div",{className:"section",children:o("div",{className:"section__content",children:o("p",{className:"info",children:v(h)})})}),o(ve,{type:"Permits",header:"COMPLEMENTARY PERMITS / CERTIFICATES / DOCUMENTS",children:c[0],section:c[0].section}),o("div",{className:"section",children:o("div",{className:"",children:o("p",{className:"info",children:Object.keys(m).length>0?y():o("p",{children:"No documents uploaded."})})})}),o(ve,{type:"List",header:"MECHANICAL ISOLATION (MEASURES ON EQUIPMENT / LINES)",children:a[0],section:a[0].section}),o("div",{className:"section",children:o("div",{className:"section__content",children:o("p",{className:"info",children:v(p)})})}),o(ve,{type:"List",header:"ELECTRICAL ISOLATION",children:a[0],section:a[0].section}),o("div",{className:"section",children:o("div",{className:"section__content",children:o("p",{className:"info",children:v(f)})})}),o("br",{}),xo(i)]}):o(P,{children:o("div",{className:"base-empty",children:[o("img",{src:"/svgs/checklist.png"}),o("p",{children:"Approval in progress"})]})})]})}function au({response:r}){var w,b,C,N,S,k;const e=r,[t,n]=O(!1);Z(()=>{(e==null?void 0:e.hseAuthorityStatus)==="APPROVED"?n(!0):(e==null||e.hseAuthorityStatus,n(!1))},[e]);const i=window.location.pathname;console.log(e);const a=[{header:"PERSONNEL PROTECTIVE EQUIPMENT",second_title:"Identification of potential hazards",section:"",content:[]}],s=[{second_title:"Identification of potential hazards",section:"",content:[]}],c=[{section:"",header:"Document Uploads",content:[]}],l=e!=null&&e.permitHazards&&e.permitHazards.length>0?e.permitHazards[2]:null,d=[{section:"D",header:"Hazard Identification",content:[{id:1,title:"Describe the potential hazards",info:((w=l==null?void 0:l.hazard)==null?void 0:w.potentialHazardDescription)||""}]}],u=e!=null&&e.protectiveEquipments&&e.protectiveEquipments.length>0?(b=e.protectiveEquipments[1])==null?void 0:b.protectiveEquipment:null,h=e!=null&&e.firefightingPrecautions&&e.firefightingPrecautions.length>0?(C=e.firefightingPrecautions[1])==null?void 0:C.firefightingPrecaution:null,p=e!=null&&e.mechanicalIsolationPrecaution&&e.mechanicalIsolationPrecaution.length>0?(N=e.mechanicalIsolationPrecaution[1])==null?void 0:N.mechanicalIsolationPrecaution:null,f=e!=null&&e.eletricalIsolationPrecaution&&e.eletricalIsolationPrecaution.length>0?(S=e.eletricalIsolationPrecaution[1])==null?void 0:S.eletricalIsolationPrecaution:null,g=e!=null&&e.permitDocuments&&e.permitDocuments.length>0?e.permitDocuments[2]:null,m=(g==null?void 0:g.document)||{},v=T=>{const E=Object.entries(T||{}).filter(([I,R])=>R!==null&&!["id","createdAt","updatedAt"].includes(I)).map(([I,R])=>({key:I,value:R??!1}));return E.length===0?o("p",{children:"--- No items uploaded ---"}):E.map(({key:I,value:R})=>o("div",{className:"firefighting-item",children:o("p",{children:[o("span",{className:"firefighting-value",children:R?"YES":"NO"})," -"," ",I.replace(/([A-Z])/g," $1").toUpperCase()," "]})},I))||o("p",{children:"No item found"})};function _(T){const A=T;if(!A)throw new Error("URL is required.");const E=A.split("/");return E[E.length-1].split("-").slice(1).join("-")}const y=()=>Object.entries(m).filter(([A,E])=>!(["id","createdAt","updatedAt","draftId"].includes(A)||(A.includes("Type")||A.includes("Doc"))&&!E||E===null)).map(([A,E])=>A.includes("Type")?o("div",{className:"document-item",children:[o("div",{className:"section__content__document_section",children:o("p",{className:"section__header",children:A.replace(/([A-Z])/g," $1").toUpperCase()})}),o("div",{className:"section__content",children:[o("p",{className:"document",children:o("span",{children:"Upload Option"})}),o("p",{children:(E==null?void 0:E.toString())||"No document provided"})]})]},A):o("div",{className:"document-item",children:o("div",{className:"section__content",children:[o("p",{className:"document",children:o("span",{children:"Document"})}),o("p",{className:"document_item",children:[_(E),o("span",{children:o("img",{src:"/svgs/document_download.svg",alt:"Download document"})})]})]})},A));return o("div",{className:"app-permit__sections",children:t?o(P,{children:[" ",o("br",{}),o(ve,{type:"Primary",header:"HAZARD IDENTIFICATION",children:d[0],section:d[0].section}),o("div",{className:"section",children:[o("div",{className:"section__content",children:[o("p",{className:"title",children:"Description of potential hazards"}),o("p",{children:(k=l==null?void 0:l.hazard)==null?void 0:k.potentialHazardDescription})]}),o("div",{className:"section__content",children:[o("p",{className:"title",children:"Identification of potential hazards"}),o("p",{className:"info",children:v(l.hazard)})]})]}),o(ve,{type:"List",header:"PERSONNEL PROTECTIVE EQUIPMENT",children:a[0],section:a[0].section}),o("div",{className:"section",children:o("div",{className:"section__content",children:o("p",{className:"info",children:v(u)})})}),o(ve,{type:"List",header:"FIREFIGHTING PRECAUTION",children:s[0],section:s[0].section}),o("div",{className:"section",children:o("div",{className:"section__content",children:o("p",{className:"info",children:v(h)})})}),o(ve,{type:"Permits",header:"COMPLEMENTARY PERMITS / CERTIFICATES / DOCUMENTS",children:c[0],section:c[0].section}),o("div",{className:"section",children:o("div",{className:"",children:o("p",{className:"info",children:Object.keys(m).length>0?y():o("p",{children:"No documents uploaded."})})})}),o(ve,{type:"List",header:"MECHANICAL ISOLATION (MEASURES ON EQUIPMENT / LINES)",children:a[0],section:a[0].section}),o("div",{className:"section",children:o("div",{className:"section__content",children:o("p",{className:"info",children:v(p)})})}),o(ve,{type:"List",header:"ELECTRICAL ISOLATION",children:a[0],section:a[0].section}),o("div",{className:"section",children:o("div",{className:"section__content",children:o("p",{className:"info",children:v(f)})})}),o("br",{}),xo(i)]}):o(P,{children:o("div",{className:"base-empty",children:[o("img",{src:"/svgs/checklist.png"}),o("p",{children:"Approval in progress"})]})})})}function su({response:r}){var C,N,S,k,T,A;const e=r,t=e==null?void 0:e.authorizingAuthorityTimeAdjustment,[n,i]=O(!1);Z(()=>{(e==null?void 0:e.authorizingAuthorityStatus)==="APPROVED"?i(!0):(e==null||e.authorizingAuthorityStatus,i(!1))},[e]);const a=window.location.pathname,s=[{header:"PERSONNEL PROTECTIVE EQUIPMENT",second_title:"Identification of potential hazards",section:"",content:[]}],c=[{second_title:"Identification of potential hazards",section:"",content:[]}],l=[{section:"",header:"Document Uploads",content:[]}],d=e!=null&&e.permitHazards&&e.permitHazards.length>0?e.permitHazards[3]:null,u=[{section:"D",header:"Hazard Identification",content:[{id:1,title:"Describe the potential hazards",info:((C=d==null?void 0:d.hazard)==null?void 0:C.potentialHazardDescription)||""}]}],h=e!=null&&e.protectiveEquipments&&e.protectiveEquipments.length>0?(N=e.protectiveEquipments[2])==null?void 0:N.protectiveEquipment:null,p=e!=null&&e.firefightingPrecautions&&e.firefightingPrecautions.length>0?(S=e.firefightingPrecautions[2])==null?void 0:S.firefightingPrecaution:null,f=e!=null&&e.mechanicalIsolationPrecaution&&e.mechanicalIsolationPrecaution.length>0?(k=e.mechanicalIsolationPrecaution[2])==null?void 0:k.mechanicalIsolationPrecaution:null,g=e!=null&&e.eletricalIsolationPrecaution&&e.eletricalIsolationPrecaution.length>0?(T=e.eletricalIsolationPrecaution[2])==null?void 0:T.eletricalIsolationPrecaution:null,m=e!=null&&e.permitDocuments&&e.permitDocuments.length>0?e.permitDocuments[3]:null,v=(m==null?void 0:m.document)||{},_=E=>{const R=Object.entries(E||{}).filter(([M,F])=>F!==null&&!["id","createdAt","updatedAt"].includes(M)).map(([M,F])=>({key:M,value:F??!1}));return R.length===0?o("p",{children:"--- No items uploaded ---"}):R.map(({key:M,value:F})=>o("div",{className:"firefighting-item",children:o("p",{children:[o("span",{className:"firefighting-value",children:F?"YES":"NO"})," -"," ",M.replace(/([A-Z])/g," $1").toUpperCase()," "]})},M))||o("p",{children:"No item found"})};function y(E){const I=E;if(!I)throw new Error("URL is required.");const R=I.split("/");return R[R.length-1].split("-").slice(1).join("-")}const w=()=>Object.entries(v).filter(([I,R])=>!(["id","createdAt","updatedAt","draftId"].includes(I)||(I.includes("Type")||I.includes("Doc"))&&!R||R===null)).map(([I,R])=>I.includes("Type")?o("div",{className:"document-item",children:[o("div",{className:"section__content__document_section",children:o("p",{className:"section__header",children:I.replace(/([A-Z])/g," $1").toUpperCase()})}),o("div",{className:"section__content",children:[o("p",{className:"document",children:o("span",{children:"Upload Option"})}),o("p",{children:(R==null?void 0:R.toString())||"No document provided"})]})]},I):o("div",{className:"document-item",children:o("div",{className:"section__content",children:[o("p",{className:"document",children:o("span",{children:"Document"})}),o("p",{className:"document_item",children:[y(R),o("span",{children:o("img",{src:"/svgs/document_download.svg",alt:"Download document"})})]})]})},I)),b=[{header:"TIME AND DATE ADJUSTMENTS",section:"",content:[{id:1,title:"Adjusted Permit Start - End Date & Time:",info:t||"- Time not adjusted-"}]}];return o("div",{className:"app-permit__sections",children:[o("br",{}),n?o(P,{children:[" ",o(ve,{type:"Primary",header:"HAZARD IDENTIFICATION",children:u[0],section:u[0].section}),o("div",{className:"section",children:[o("div",{className:"section__content",children:[o("p",{className:"title",children:"Description of potential hazards"}),o("p",{children:(A=d==null?void 0:d.hazard)==null?void 0:A.potentialHazardDescription})]}),o("div",{className:"section__content",children:[o("p",{className:"title",children:"Identification of potential hazards"}),o("p",{className:"info",children:_(d.hazard)})]})]}),o(ve,{type:"List",header:"PERSONNEL PROTECTIVE EQUIPMENT",children:s[0],section:s[0].section}),o("div",{className:"section",children:o("div",{className:"section__content",children:o("p",{className:"info",children:_(h)})})}),o(ve,{type:"List",header:"FIREFIGHTING PRECAUTION",children:c[0],section:c[0].section}),o("div",{className:"section",children:o("div",{className:"section__content",children:o("p",{className:"info",children:_(p)})})}),o(ve,{type:"Permits",header:"COMPLEMENTARY PERMITS / CERTIFICATES / DOCUMENTS",children:l[0],section:l[0].section}),o("div",{className:"section",children:o("div",{className:"",children:o("p",{className:"info",children:Object.keys(v).length>0?w():o("p",{children:"No documents uploaded."})})})}),o(ve,{type:"List",header:"MECHANICAL ISOLATION (MEASURES ON EQUIPMENT / LINES)",children:s[0],section:s[0].section}),o("div",{className:"section",children:o("div",{className:"section__content",children:o("p",{className:"info",children:_(f)})})}),o(ve,{type:"List",header:"ELECTRICAL ISOLATION",children:s[0],section:s[0].section}),o("div",{className:"section",children:o("div",{className:"section__content",children:o("p",{className:"info",children:_(g)})})}),o(ve,{type:"Primary",header:"TIME AND DATE ADJUSTMENTS",children:b[0].content,section:b[0].section}),o("br",{}),xo(a)]}):o(P,{children:o("div",{className:"base-empty",children:[o("img",{src:"/svgs/checklist.png"}),o("p",{children:"Approval in progress"})]})})]})}function cu({response:r}){var v;const e=r,[t,n]=O(!1);Z(()=>{(e==null?void 0:e.issuingAuthoritySupervisorStatus)==="APPROVED"?n(!0):(e==null||e.issuingAuthoritySupervisorStatus,n(!1))},[e]);const i=window.location.pathname,a=[{section:"",header:"Document Uploads",content:[]}],c=(e!=null&&e.permitDocuments&&e.permitDocuments.length>0?e.permitDocuments[6]:null)||{},l=e==null?void 0:e.permitDocuments.filter(_=>_.workflowType==="REVALIDATION"&&_.authority==="ISSUING_SUPERVISOR"),d=e!=null&&e.permitDocuments&&e.permitDocuments.length>0?l:[],u=e==null?void 0:e.permitDocuments.filter(_=>_.workflowType==="CLOSURE"&&_.authority==="ISSUING_SUPERVISOR"),h=e!=null&&e.permitDocuments&&e.permitDocuments.length>0?u:[],p=e==null?void 0:e.permitDocuments.filter(_=>{_.workflowType==="CANCELLATION"&&_.authority}),f=e!=null&&e.permitDocuments&&e.permitDocuments.length>0?p:[];function g(_){const y=_;if(!y)throw new Error("URL is required.");const w=y.split("/");return w[w.length-1].split("-").slice(1).join("-")}const m=_=>(_==="REVALIDATION"?d:_==="CLOSURE"?h:_==="CANCELLATION"?f:Object.entries(c)).filter(([w,b])=>!(["id","createdAt","updatedAt","draftId"].includes(w)||(w.includes("Type")||w.includes("Doc"))&&!b||b===null)).map(([w,b])=>{const C=Object.entries(w.document||{});return o("div",{className:"document-container",children:[_==="REVALIDATION"?o("div",{className:"",children:[o("br",{}),o("h3",{children:_==="REVALIDATION"?`PERMIT REVALIDATION -SHIFT ${w.revalidationShift||""}`:""}),o("br",{})]}):_==="CLOSURE"?o("div",{className:"",children:[o("br",{}),o("h3",{children:_==="CLOSURE"?"PERMIT CLOSURE":""}),o("br",{})]}):_==="CANCELLATION"?o("div",{className:"",children:[o("br",{}),o("h3",{children:_==="CANCELLATION"?"PERMIT CANCELLATION":""}),o("br",{})]}):null,C.filter(([N,S])=>!(["id","createdAt","updatedAt","draftId"].includes(N)||(N.includes("Type")||N.includes("Doc"))&&!S||S===null)).map(([N,S],k)=>N.includes("Type")?o("div",{className:"document-item",children:[o("div",{className:"section__content__document_section",children:o("p",{className:"section__header",children:N.replace(/([A-Z])/g," $1").toUpperCase()})}),o("div",{className:"section__content",children:[o("p",{className:"document",children:o("span",{children:"Upload Option"})}),o("p",{children:(S==null?void 0:S.toString())||"No document provided"})]})]},`${N}-${k}`):o("div",{className:"document-item",children:o("div",{className:"section__content",children:[o("p",{className:"document",children:o("span",{children:"Document"})}),o("p",{className:"document_item",children:[g(S),o("span",{children:o("img",{src:"/svgs/document_download.svg",alt:"Download document"})})]})]})},`${N}-${k}`))]},`doc-${b}`)});return o("div",{className:"app-permit__sections",children:[o("br",{}),t?o(P,{children:[o(ve,{type:"Permits",header:"DOCUMENT UPLOADS / ATTACHMENTS",children:a[0],section:a[0].section}),o("div",{className:"section",children:o("div",{className:"",children:o("p",{className:"info",children:Object.keys(c).length>0?m("APPROVAL"):o("p",{children:"No documents uploaded."})})})}),o("br",{}),((v=e==null?void 0:e.revalidations)==null?void 0:v.length)>0&&o(P,{children:[o(ve,{type:"Permits",header:"",children:a[0],section:a[0].section}),o("div",{className:"section",children:o("div",{className:"info",children:d.length>0?m("REVALIDATION"):o("p",{children:"No documents uploaded."})})})]}),(e==null?void 0:e.issuingAuthoritySupervisorClosureStatus)!==null&&o(P,{children:[o(ve,{type:"Permits",header:"",children:a[0],section:a[0].section}),o("div",{className:"section",children:o("div",{className:"info",children:h.length>0?m("CLOSURE"):o("p",{children:"No documents uploaded."})})})]}),(e==null?void 0:e.cancellationInitiatorId)!==null&&(e==null?void 0:e.status)==="CANCELED"&&o(P,{children:[o(ve,{type:"Permits",header:"",children:a[0],section:a[0].section}),o("div",{className:"section",children:o("div",{className:"info",children:f.length>0?m("CANCELLATION"):o("p",{children:"No documents uploaded."})})})]}),o("br",{}),xo(i)]}):o(P,{children:o("div",{className:"base-empty",children:[o("img",{src:"/svgs/checklist.png"}),o("p",{children:"Approval in progress"})]})})]})}function lu({response:r}){var v;const e=r,[t,n]=O(!1);Z(()=>{(e==null?void 0:e.performingAuthoritySupervisorStatus)==="APPROVED"?n(!0):(e==null||e.performingAuthoritySupervisorStatus,n(!1))},[e]);const i=window.location.pathname,a=[{section:"",header:"Document Uploads",content:[]}],s=e!=null&&e.permitDocuments&&e.permitDocuments.length>0?e.permitDocuments[4]:null,c=(s==null?void 0:s.document)||{},l=e==null?void 0:e.permitDocuments.filter(_=>_.workflowType==="REVALIDATION"&&_.authority==="PERFORMING_SUPERVISOR"),d=e!=null&&e.permitDocuments&&e.permitDocuments.length>0?l:[],u=e==null?void 0:e.permitDocuments.filter(_=>{_.workflowType==="CLOSURE"&&_.authority}),h=e!=null&&e.permitDocuments&&e.permitDocuments.length>0?u:[],p=e==null?void 0:e.permitDocuments.filter(_=>{_.workflowType==="CANCELLATION"&&_.authority}),f=e!=null&&e.permitDocuments&&e.permitDocuments.length>0?p:[];function g(_){const y=_;if(!y)throw new Error("URL is required.");const w=y.split("/");return w[w.length-1].split("-").slice(1).join("-")}const m=_=>{const y=_==="REVALIDATION"?d:_==="CLOSURE"?h:_==="CANCELLATION"?f:[c];return console.log(y),!y||y.length===0?o("p",{children:"No documents uploaded."}):y.map((w,b)=>{const C=Object.entries(w.document||{});return o("div",{className:"document-container",children:[_==="REVALIDATION"?o("div",{className:"",children:[o("br",{}),o("h3",{children:_==="REVALIDATION"?`PERMIT REVALIDATION - SHIFT ${w.revalidationShift||""}`:""}),o("br",{})]}):_==="CLOSURE"?o("div",{className:"",children:[o("br",{}),o("h3",{children:_==="CLOSURE"?"PERMIT CLOSURE":""}),o("br",{})]}):_==="CANCELLATION"?o("div",{className:"",children:[o("br",{}),o("h3",{children:_==="CANCELLATION"?"PERMIT CANCELLATION":""}),o("br",{})]}):null,C.filter(([N,S])=>!(["id","createdAt","updatedAt","draftId"].includes(N)||(N.includes("Type")||N.includes("Doc"))&&!S||S===null)).map(([N,S],k)=>N.includes("Type")?o("div",{className:"document-item",children:[o("div",{className:"section__content__document_section",children:o("p",{className:"section__header",children:N.replace(/([A-Z])/g," $1").toUpperCase()})}),o("div",{className:"section__content",children:[o("p",{className:"document",children:o("span",{children:"Upload Option"})}),o("p",{children:(S==null?void 0:S.toString())||"No document provided"})]})]},`${N}-${k}`):o("div",{className:"document-item",children:o("div",{className:"section__content",children:[o("p",{className:"document",children:o("span",{children:"Document"})}),o("p",{className:"document_item",children:[g(S),o("span",{children:o("img",{src:"/svgs/document_download.svg",alt:"Download document"})})]})]})},`${N}-${k}`))]},`doc-${b}`)})};return o("div",{className:"app-permit__sections",children:[o("br",{}),t?o(P,{children:[o(ve,{type:"Permits",header:"DOCUMENT UPLOADS / ATTACHMENTS",children:a[0],section:a[0].section}),o("div",{className:"section",children:o("div",{className:"",children:o("p",{className:"info",children:Object.keys(c).length>0?m("APPROVAL"):o("p",{children:"No documents uploaded."})})})}),((v=e==null?void 0:e.revalidations)==null?void 0:v.length)>0&&o(P,{children:[o(ve,{type:"Permits",header:"",children:a[0],section:a[0].section}),o("div",{className:"section",children:o("div",{className:"info",children:d.length>0?m("REVALIDATION"):o("p",{children:"No documents uploaded."})})})]}),(e==null?void 0:e.performingAuthoritySupervisorClosureStatus)!==null&&o(P,{children:[o(ve,{type:"Permits",header:"",children:a[0],section:a[0].section}),o("div",{className:"section",children:o("div",{className:"info",children:h.length>0?m("CLOSURE"):o("p",{children:"No documents uploaded."})})})]}),(e==null?void 0:e.cancellationInitiatorId)!==null&&o(P,{children:[o(ve,{type:"Permits",header:"",children:a[0],section:a[0].section}),o("div",{className:"section",children:o("div",{className:"info",children:f.length>0?m("CANCELLATION"):o("p",{children:"No documents uploaded."})})})]}),xo(i)]}):o(P,{children:o("div",{className:"base-empty",children:[o("img",{src:"/svgs/checklist.png"}),o("p",{children:"Approval in progress"})]})})]})}function du({response:r}){var v;const e=r,[t,n]=O(!1);Z(()=>{(e==null?void 0:e.safetyOfficerStatus)==="APPROVED"?n(!0):(e==null||e.safetyOfficerStatus,n(!1))},[e]);const i=window.location.pathname,a=[{section:"",header:"Document Uploads",content:[]}],s=e!=null&&e.permitDocuments&&e.permitDocuments.length>0?e.permitDocuments[5]:null,c=(s==null?void 0:s.document)||{},l=e==null?void 0:e.permitDocuments.filter(_=>_.workflowType==="REVALIDATION"&&_.authority==="SAFETY_OFFICER"),d=e!=null&&e.permitDocuments&&e.permitDocuments.length>0?l:[],u=e==null?void 0:e.permitDocuments.filter(_=>_.workflowType==="CLOSURE"&&_.authority==="SAFETY_OFFICER"),h=e!=null&&e.permitDocuments&&e.permitDocuments.length>0?u:[],p=e==null?void 0:e.permitDocuments.filter(_=>{_.workflowType==="CANCELLATION"&&_.authority}),f=e!=null&&e.permitDocuments&&e.permitDocuments.length>0?p:[];function g(_){const y=_;if(!y)throw new Error("URL is required.");const w=y.split("/");return w[w.length-1].split("-").slice(1).join("-")}const m=_=>{const y=_==="REVALIDATION"?d:_==="CLOSURE"?h:_==="CANCELLATION"?f:[c];return console.log(y),!y||y.length===0?o("p",{children:"No documents uploaded."}):y.map((w,b)=>{const C=Object.entries(w.document||{});return o("div",{className:"document-container",children:[_==="REVALIDATION"?o("div",{className:"",children:[o("br",{}),o("h3",{children:_==="REVALIDATION"?`PERMIT REVALIDATION - SHIFT ${w.revalidationShift||""}`:""}),o("br",{})]}):_==="CLOSURE"?o("div",{className:"",children:[o("br",{}),o("h3",{children:_==="CLOSURE"?"PERMIT CLOSURE":""}),o("br",{})]}):_==="CANCELLATION"?o("div",{className:"",children:[o("br",{}),o("h3",{children:_==="CANCELLATION"?"PERMIT CANCELLATION":""}),o("br",{})]}):null,C.filter(([N,S])=>!(["id","createdAt","updatedAt","draftId"].includes(N)||(N.includes("Type")||N.includes("Doc"))&&!S||S===null)).map(([N,S],k)=>N.includes("Type")?o("div",{className:"document-item",children:[o("div",{className:"section__content__document_section",children:o("p",{className:"section__header",children:N.replace(/([A-Z])/g," $1").toUpperCase()})}),o("div",{className:"section__content",children:[o("p",{className:"document",children:o("span",{children:"Upload Option"})}),o("p",{children:(S==null?void 0:S.toString())||"No document provided"})]})]},`${N}-${k}`):o("div",{className:"document-item",children:o("div",{className:"section__content",children:[o("p",{className:"document",children:o("span",{children:"Document"})}),o("p",{className:"document_item",children:[g(S),o("span",{children:o("img",{src:"/svgs/document_download.svg",alt:"Download document"})})]})]})},`${N}-${k}`))]},`doc-${b}`)})};return o("div",{className:"app-permit__sections",children:[o("br",{}),t?o(P,{children:[" ",o(ve,{type:"Permits",header:"DOCUMENT UPLOADS / ATTACHMENTS",children:a[0],section:a[0].section}),o("div",{className:"section",children:o("div",{className:"",children:o("p",{className:"info",children:Object.keys(c).length>0?m("APPROVAL"):o("p",{children:"No documents uploaded."})})})}),o("br",{}),((v=e==null?void 0:e.revalidations)==null?void 0:v.length)>0&&o(P,{children:[o(ve,{type:"Permits",header:"",children:a[0],section:a[0].section}),o("div",{className:"section",children:o("div",{className:"info",children:d.length>0?m("REVALIDATION"):o("p",{children:"No documents uploaded."})})})]}),(e==null?void 0:e.issuingAuthoritySupervisorClosureStatus)!==null&&o(P,{children:[o(ve,{type:"Permits",header:"",children:a[0],section:a[0].section}),o("div",{className:"section",children:o("div",{className:"info",children:h.length>0?m("CLOSURE"):o("p",{children:"No documents uploaded."})})})]}),(e==null?void 0:e.cancellationInitiatorId)!==null&&(e==null?void 0:e.currentAuthority)==="ISSUING_SUPERVISOR"&&o(P,{children:[o(ve,{type:"Permits",header:"",children:a[0],section:a[0].section}),o("div",{className:"section",children:o("div",{className:"info",children:f.length>0?m("CANCELLATION"):o("p",{children:"No documents uploaded."})})})]}),o("br",{}),xo(i)]}):o(P,{children:o("div",{className:"base-empty",children:[o("img",{src:"/svgs/checklist.png"}),o("p",{children:"Approval in progress"})]})})]})}function lm({}){const{permit:r}=Xe(),e=r;console.log(e),console.log(e,"permitDetails");const{tabs:t,activeTab:n}=Zt(["Performing Auth.","Issuing Auth.","HSE Auth.","Authorizing Auth.","Perf. Auth. Supervisor","Safety Officer","Issuing. Auth. Supervisor"]);return o("div",{className:"app-authorities",children:[o(Oi,{tabs:t,counts:{},className:"app-authorities__tabs"}),o("div",{className:"app-authorities__content",children:[n==="Performing Auth."&&o(N5,{response:e}),n==="Issuing Auth."&&o(ou,{response:e}),n==="HSE Auth."&&o(au,{response:e}),n==="Authorizing Auth."&&o(su,{response:e}),n==="Safety Officer"&&o(du,{response:e}),n==="Perf. Auth. Supervisor"&&o(lu,{response:e}),n==="Issuing. Auth. Supervisor"&&o(cu,{response:e})]})]})}function dm(){const{permit:r}=Xe();console.log(r==null?void 0:r.actions);const e=(r==null?void 0:r.actions)||[];return o("div",{children:o("div",{className:"app-section",children:[o("div",{className:"app-section__lg-table",children:o(je,{children:[o(Ct,{children:o(me,{children:[o(D,{children:"Date & Time"}),o(D,{children:"Action"}),o(D,{children:"Authority"})]})}),o(Qe,{children:e.map(t=>o(me,{children:[o(D,{children:le(t.createdAt).format("DD/MM/YYYY hh:mm A")}),o(D,{children:t.action}),o(D,{children:t.authority})]},t.id))})]})}),o("div",{className:"app-section__sm-table",children:e.map(t=>o(P,{children:[o("div",{className:"container-item",children:o("span",{children:le(t.createdAt).format("DD/MM/YYYY hh:mm A")})}),o("p",{children:t.action}),o("p",{children:[o("span",{children:"Authority:"})," ",t.authority]})]}))}),o("div",{className:"",children:e.length===0&&o(P,{children:o("div",{className:"base-empty",children:[o("img",{src:"/svgs/checklist.png"}),o("p",{children:"No actions on this permit yet"})]})})})]})})}function E5(){const{valueID:r,setID:e}=$e(),t=r,{updatePermit:n}=Xe(),[i,a]=O({status:""});Z(()=>{async function c(){const d=(await K(`/permit/${t}`,"GET"))[0].data;a(d),n(d),e(d.id)}c()},[t]);const s=(i==null?void 0:i.onsiteNotes)||[];return console.log(s),o(P,{children:o("div",{className:"",children:(s==null?void 0:s.length)===0?o("div",{className:"base-empty",children:[o("img",{src:"/svgs/checklist.png"}),o("p",{children:"Onsite notes & comments will be active once the permit has been approved and now on-site."})]}):o(P,{children:o(je,{children:[o(Ct,{children:o(me,{children:[o(D,{children:"Date Created"}),o(D,{children:"Notes"}),o(D,{children:"Creator"}),o(D,{children:"Authority"}),o(D,{})]})}),o(Qe,{children:s==null?void 0:s.map(c=>o(me,{children:[o(D,{children:le(c==null?void 0:c.createdAt).format("MM/DD/YYYY")}),o(D,{children:c==null?void 0:c.content}),o(D,{children:c==null?void 0:c.creator.fullname}),o(D,{children:c==null?void 0:c.creatorAuthority})]},c.id))})]})})})})}function $M({}){const{valueID:r}=$e(),{updatePermit:e}=Xe(),t=r;Z(()=>{async function s(){var d;const l=(d=(await K(`/permit/${t}`,"GET"))[0])==null?void 0:d.data;console.log(l),e(l)}s()},[t]);const{tabs:n,activeTab:i}=Zt(["PTW Details","Action History","Onsite Notes & Comments"]),a={};return o(P,{children:[o(Ne,{title:"Workflow"}),o(Oi,{tabs:n,counts:a,className:"app-permit__tabs"}),i==="PTW Details"&&o(lm,{}),i==="Action History"&&o(dm,{}),i==="Onsite Notes & Comments"&&o(E5,{})]})}function BM({}){const{valueID:r}=$e(),{makeRequest:e,isLoading:t}=X(y=>wE(y,r)),n=X(Ea,{},!0),[i,a]=O({id:0,name:"",location:{id:0,locationArea:"",site:""},contractId:"",createdAt:"",createdBy:null,members:[]}),[s,c]=O(0);Z(()=>{if(r){async function y(){var C;const b=(C=(await K(`/profile/company/${r}`,"GET"))[0])==null?void 0:C.data;a(b)}y()}},[r]);const{getFieldProps:l,handleSubmit:d,setFieldValue:u}=se({initialValues:{name:"",contractId:"",locationId:0},onSubmit:_,validationSchema:VM});Z(()=>{i&&(u("companyName",i.name),u("contractID",i.contractId))});const[h,p]=O("--select site--"),[f,g]=O("--select location--"),[m,v]=O([]);Z(()=>{if(h&&n.response){const y=n.response.data[h],w=y?y.map(b=>({text:b.locationArea,value:b.id})):[{text:"No location areas found",value:""}];console.log(w),v(w)}},[h,n.response]);async function _(y){console.log(y);const w={name:y.companyName??i.name,contractId:y.contractID??i.contractId,locationId:s??i.location.id},[b,C]=await e(w);if(C)return q({variant:"error",message:(C==null?void 0:C.message)??"Failed to edit company, please try again."});q({variant:"success",message:"Company updated successfully"}),V("/users/company/details")}return o(P,{children:[o(Ne,{title:"User"}),o("div",{className:"app-page",children:[o("div",{className:"app-create__header",children:[o("button",{onClick:()=>V("/users"),children:o(ne,{name:"caret-left"})}),o("div",{children:[o("h3",{children:"Edit Company"}),o("p",{children:"Fill the fields below to edit an existing user"})]})]}),o("div",{className:"app-create__form",children:o("form",{onSubmit:d,children:[o("p",{className:"app-create__form__title",children:"Company Name"}),o(ee,{placeholder:i.name,...l("companyName")}),o("p",{className:"app-create__form__title",children:"Contract ID"}),o(ee,{placeholder:i.contractId,...l("contractID")}),o("p",{className:"app-create__form__title",children:"Site"}),o(tt,{placeholder:h,options:oi,...l("siteName"),onChange:y=>p(y.target.value)}),o("p",{className:"app-create__form__title",children:"Location Area"}),o(tt,{placeholder:f,options:m,onChange:y=>{const w=Number(y.target.value);u("locationId",w),c(w),console.log("Selected Location ID:",w);const b=m.find(C=>C.value===w);g((b==null?void 0:b.text)??"--select location--")}}),o(x,{variant:"primary",isLoading:t,children:"Edit Company"})]})})]})]})}const VM=re({});function YM({}){const[r,e]=O("All Work Types"),t=["All Work Types","COLD_WORK","HOT_WORK"],[n,i]=O("All Status"),a=["All Status","NOT_STARTED","REVALIDATION_INITIATED","CLOSURE_INITIATED"],{setID:s}=$e(),{profile:c}=vn(),{response:l,isLoading:d}=X(Qd,{},!0),u=C=>{s(C.id),V("/process-permits")},h=(C,N)=>C?C.length>N?`${C.slice(0,N)}...`:C:"",[p,f]=O(""),m=((l==null?void 0:l.data)||[]).filter(C=>{var M,F,L;const N=C.publicId,S=C.type,k=((M=C.workArea)==null?void 0:M.toLowerCase())||"",T=((F=C.entrustedCompany)==null?void 0:F.name.toLowerCase())||"",A=N.includes(p.toLowerCase())||S.includes(p.toLowerCase())||k.includes(p.toLowerCase())||T.includes(p.toLowerCase())||p==="",E=r==="All Work Types"||C.type===r,I=n==="All Status"||C.status===n,R=(c==null?void 0:c.id)&&((L=C.permitRoles)==null?void 0:L[c.id])&&C.permitRoles[c.id]===C.currentAuthority;return A&&E&&I&&R}),[v,_]=O(1),y=10,w=m.sort((C,N)=>new Date(N.createdAt).getTime()-new Date(C.createdAt).getTime()),b=Er(w,v,y);return o(P,{children:[o(Ne,{title:"Activities"}),o("div",{className:"app-section__header",children:[o($n,{placeholder:"Search",onSearch:f}),o("br",{}),o("div",{className:"app-section__filters ",children:[o("span",{className:"base-date-filter--secondary",children:"Filter by:"}),o("div",{className:"sm-grid-cols-2 app-section__filters",children:[o(kt,{className:"base-dropdown__dropdown-wrapper",children:[o(It,{children:n}),o(xt,{children:a.map(C=>o("div",{className:"base-dropdown__option",onClick:()=>i(C),children:C},C))})]}),o(kt,{className:"base-dropdown__dropdown-wrapper",children:[o(It,{children:r}),o(xt,{children:t.map(C=>o("div",{className:"base-dropdown__option",onClick:()=>e(C),children:C},C))})]})]})]})]}),o("div",{className:"app-section",children:[o("div",{className:"app-section__lg-table",children:o(je,{children:[o(Ct,{children:o(me,{children:[o(D,{children:"PTW ID."}),o(D,{children:"Work Type"}),o(D,{children:"Work To Be Performed"}),o(D,{children:"Work Location"}),o(D,{children:"Company"}),o(D,{children:"Status / Authority"}),o(D,{})]})}),o(Qe,{children:b.filter(C=>C.status!=="CLOSED"&&C.status!=="CANCELED"&&C.status!=="APPROVED").map(C=>{var N,S;return o(me,{children:[o(D,{children:C.publicId}),o(D,{children:gn(C.type)}),o(D,{children:h(C.workDescription,45)}),o(D,{children:o("span",{children:[C.workArea," / ",(N=C.location)==null?void 0:N.locationArea]})}),o(D,{children:(S=C.entrustedCompany)==null?void 0:S.name}),o(D,{children:o("h6",{className:`${C.status==="Draft"?"draft-status":"others-status"}`,children:[C.status," / ",C.currentAuthority]})}),o(D,{children:o(x,{onClick:()=>u(C),children:"View"})})]},C.id)})})]})}),o("div",{className:"app-section__sm-table",children:o(je,{children:o(Qe,{children:b.filter(C=>C.status!=="CLOSED"&&C.status!=="CANCELED"&&C.status!=="APPROVED").map(C=>o("div",{className:"container",onClick:()=>u(C),children:[o("div",{className:"location-flex",onClick:()=>u(C),children:[o("p",{children:C.publicId}),o("h6",{className:"gray",children:gn(C.type)})]}),o("p",{children:h(C.workDescription,45)}),o("div",{className:"location-flex",children:o("div",{className:"items-center",children:[o("p",{className:"gray",children:"Status / Authority:"}),o("h6",{className:` ${C.status==="Draft"?"draft-status":"others-status"}`,children:[C.status," / ",C.currentAuthority]})]})})]},C.id))})})}),m.length&&o(kr,{totalItems:m.length,itemsPerPage:y,currentPage:v,onPageChange:_}),!m.length&&o("div",{className:"base-empty",children:[o("img",{src:"/svgs/document.svg"}),o("p",{children:d?"Fetching permits, please wait...":"No permits yet"})]})]})]})}function WM({}){const{valueID:r,setID:e}=$e(),t=r,{updatePermit:n}=Xe(),{profile:i}=vn(),[a,s]=O({status:""}),[c,l]=O(!1);Z(()=>{async function w(){var S;const C=(await K(`/permit/${t}`,"GET"))[0].data;console.log(C),s(C),n(C),e(C.id);const N=(S=C==null?void 0:C.permitRoles)==null?void 0:S[i==null?void 0:i.id];N&&N===(C==null?void 0:C.currentAuthority)?l(!0):l(!1)}w()},[t,i==null?void 0:i.id]),console.log(a,"permit details"),console.log(a==null?void 0:a.isSentBack,"boolean");const{tabs:d,activeTab:u}=Zt(["Performing Auth.","Issuing Auth.","HSE Auth.","Authorizing Auth.","Perf. Auth. Supervisor","Safety Officer","Issuing. Auth. Supervisor"]),h={},p=w=>{switch(w.currentAuthority){case"ISSUING":V("/activities-process");break;case"HSE":V("/activities-process/hse");break;case"AUTHORIZING":V("/activities-process/auth");break;case"PERFORMING_SUPERVISOR":V("/activities-process/perf-supervisor");break;case"SAFETY_OFFICER":V("/activities-process/safety-officer");break;case"ISSUING_SUPERVISOR":V("/activities-process/issu-supervisor");break;default:V("/activities-process");break}},f=w=>{switch(w.currentAuthority){case"PERFORMING_SUPERVISOR":V("/closure-perf-auth");break;case"SAFETY_OFFICER":V("/closure-safety-officer");break;case"ISSUING_SUPERVISOR":V("/closure-issuing-supervisor");break;default:V("/closure-perf-auth")}},g=w=>{switch(w.currentAuthority){case"PERFORMING_SUPERVISOR":V("/revalidate-perf-auth");break;case"SAFETY_OFFICER":V("/revalidate-safety-officer");break;case"ISSUING_SUPERVISOR":V("/revalidate-issuing-supervisor");break;default:V("/revalidate-perf-auth")}},[m,v]=O(!1),_=()=>{v(!0)},y=async()=>{var b;const w=a==null?void 0:a.id;try{const C=await K(`/permit/reactivate/${w}`,"PUT");console.log(C),q({variant:"success",message:"Permit reactivated successfully."})}catch(C){q({variant:"error",message:((b=C==null?void 0:C.response)==null?void 0:b.error)??"Failed to reactivate permit."})}v(!1)};return o(P,{children:[" ",o(Ne,{title:"Activities"}),o("br",{}),o("div",{className:"app-permit__sections",children:c?o("div",{className:"actions",children:(a==null?void 0:a.isSentBack)===!0?o(P,{children:o("div",{className:"print",children:[o("div",{children:[o("h4",{children:["Permit Sent back from ",a==null?void 0:a.sendBackAuthority]}),o("p",{children:a==null?void 0:a.sendBackReason})," "]}),o("button",{className:"flex-center",onClick:()=>p(a),children:[o(ne,{name:"process"}),"Process Permit"]})]})}):(a==null?void 0:a.status)==="NOT_STARTED"&&(a==null?void 0:a.isSentBack)===!1?o(P,{children:o("div",{className:"print",children:[o("div",{children:[o("h4",{children:"Process Permit"}),o("p",{children:"Click the button to process / approve this permit"})," "]}),o("button",{className:"flex-center",onClick:()=>p(a),children:[o(ne,{name:"process"}),"Process Permit"]})]})}):(a==null?void 0:a.status)==="REVALIDATION_INITIATED"?o(P,{children:o("div",{className:"print",children:[o("div",{children:[o("h4",{children:"Revalidate Permit"}),o("p",{children:"Click the button to revalidate this permit"})," "]}),o("button",{className:"flex-center",onClick:()=>g(a),children:[o(ne,{name:"process"}),"Revalidate Permit"]})]})}):(a==null?void 0:a.status)==="SUSPENDED"?o(P,{children:o("div",{className:"print",children:[o("div",{children:[o("h4",{children:"Permit Suspended"}),o("p",{children:"Click the button to reactivate this permit"})," "]}),o("button",{className:"flex-center",onClick:()=>_(),children:[o(ne,{name:"export"}),"Reactivate Permit"]})]})}):(a==null?void 0:a.status)==="CANCELATION_INITIATED"?o(P,{children:o("div",{className:"closure",children:[o("div",{children:[o("h4",{children:"Process Cancellation"}),o("p",{children:"Click the button to process cancellation for this permit"})," "]}),o("button",{className:"flex-center",onClick:()=>f(a),children:[o(ne,{name:"export"}),"Process Cancellation"]})]})}):o(P,{children:o("div",{className:"closure",children:[o("div",{children:[o("h4",{children:"Process Closure"}),o("p",{children:"Click the button to proess closure for this permit"})," "]}),o("button",{className:"flex-center",onClick:()=>f(a),children:[o(ne,{name:"export"}),"Process Closure"]})]})})}):o("div",{className:"actions",children:o("div",{className:"print",children:o("div",{children:[o("h4",{children:"Approval in Progress"}),o("p",{children:"This permit is currently being processed by another authority. Please check the permit status for further details."})]})})})}),o("br",{}),o("div",{className:"app-authorities",children:[o(Oi,{tabs:d,counts:h,className:"app-authorities__tabs"}),o("div",{className:"app-authorities__content",children:[u==="Performing Auth."&&o(N5,{response:a}),u==="Issuing Auth."&&o(ou,{response:a}),u==="HSE Auth."&&o(au,{response:a}),u==="Authorizing Auth."&&o(su,{response:a}),u==="Perf. Auth. Supervisor"&&o(lu,{response:a}),u==="Safety Officer"&&o(du,{response:a}),u==="Issuing. Auth. Supervisor"&&o(cu,{response:a})]}),o("div",{className:"",children:m&&o(Pn,{icon:o("img",{src:"/svgs/reactivate.svg"}),title:"Reactivate Permit",message:"Are you sure you want to reactivate this permit? This action cannot be undone.",onClose:()=>v(!1),primaryButton:{label:"Confirm",onClick:y,color:"#008171"},secondaryButton:{label:"Cancel",onClick:()=>v(!1),color:"#E86E18"}})})]})]})}const zM=()=>Ri({context:{work_hazards:{hazards:{},potentialHazardDescription:""},personal_protective_equipment:{protectiveEquipment:{}},firefighting_equipment:{firefightingEquipment:{},otherPrecaution:""},selected_documents:{documents:[]},document_uploads:{[`document_${Ge(8)}`]:null,[`document_${Ge(8)}`]:null,[`document_${Ge(8)}`]:null,[`document_${Ge(8)}`]:null},mechanical_precaution:{mechanicalPrecaution:{}},electrical_precaution:{electricalPrecaution:{}},submit:{}},predictableActionArguments:!0,initial:"work_hazards",states:{work_hazards:{meta:{title:"Hazard Identification",section:"A"},on:{submit:{target:"personal_protective_equipment",actions:["updateContext"]}}},personal_protective_equipment:{meta:{title:"Personal Protective Equipment",section:"B"},on:{submit:{target:"firefighting_equipment",actions:["updateContext"]},go_back:"work_hazards"}},firefighting_equipment:{meta:{title:"Firefighting Equipment",section:"C"},on:{submit:{target:"selected_documents",actions:["updateContext"]},go_back:"personal_protective_equipment"}},selected_documents:{meta:{title:"Document Selection",section:"D"},on:{submit:{target:"document_uploads",actions:["updateContext"]},go_back:"firefighting_equipment"}},document_uploads:{meta:{title:"Document Uploads",section:"E"},on:{submit:[{target:"mechanical_precaution",actions:["updateContext"]}],go_back:"selected_documents"}},mechanical_precaution:{meta:{title:"Mechanical Isolation (Measures on Equipments / Line)"},on:{submit:{target:"electrical_precaution",actions:["updateContext"]},go_back:"document_uploads"}},electrical_precaution:{meta:{title:"Electrical Isolation (Measures on Equipments / Line)"},on:{submit:[{target:"submit",actions:["updateContext"]}],go_back:"mechanical_precaution"}},submit:{type:"final",on:{submit:{target:"submit",actions:["updateContext"]},go_back:"document_uploads"}}}},{actions:{updateContext(r,e){Object.assign(r,e.data)}}}),T5=Ft({});function k5({children:r}){const[e,t,n]=Mi(zM);return Z(()=>{const i=n.subscribe(()=>window.scroll(0,0));return()=>{i.unsubscribe()}},[]),o(T5.Provider,{value:{state:e,send:t},children:r})}function tr(){return Yt(T5)}const jM=Ft({});function ka({children:r}){const[e,t]=O("issuingAuth"),n=i=>t(i);return o(jM.Provider,{value:{currentRole:e,changeRole:n},children:r})}function yn({setModalOpen:r}){const{valueID:e}=$e(),t=e,{getFieldProps:n,handleSubmit:i}=se({validationSchema:qM,initialValues:{permitId:0,authority:"",reason:""},onSubmit:u}),{makeRequest:a,isLoading:s}=X(Vk),c=window.location.pathname;let d=(h=>{switch(h){case"/activities-process":return[{value:"PERFORMING",text:"Performing Authority"}];case"/activities-process/hse":return[{value:"PERFORMING",text:"Performing Authority"},{value:"ISSUING",text:"Issuing Authority"}];case"/activities-process/auth":return[{value:"PERFORMING",text:"Performing Authority"},{value:"ISSUING",text:"Issuing Authority"},{value:"HSE",text:"HSE Authority"}];case"/activities-process/perf-supervisor":return[{value:"PERFORMING",text:"Performing Authority"},{value:"ISSUING",text:"Issuing Authority"},{value:"HSE",text:"HSE Authority"},{value:"AUTHORIZING",text:"Authorizing Authority"}];case"/activities-process/safety-officer":return[{value:"PERFORMING",text:"Performing Authority"},{value:"ISSUING",text:"Issuing Authority"},{value:"HSE",text:"HSE Authority"},{value:"AUTHORIZING",text:"Authorizing Authority"},{value:"PERFORMING_SUPERVISOR",text:"Performing Authority Supervisor "}];case"/activities-process/issu-supervisor":return[{value:"ISSUING",text:"Issuing Authority"},{value:"HSE",text:"HSE Authority"},{value:"AUTHORIZING",text:"Authorizing Authority"},{value:"PERFORMING_SUPERVISOR",text:"Performing Authority Supervisor "},{value:"SAFETY_OFFICER",text:"Safety Officer"}];default:return[{value:"PERFORMING",text:"Performing Authority"}]}})(c);async function u(h){const[p,f]=await a({permitId:t,authority:h.authority,reason:h.reason});if(f){q({variant:"error",message:(f==null?void 0:f.message)||"Failed to send back permit, please try again"});return}else q({variant:"success",message:"Permit sent back to authority successfully"}),V("/permit-activities")}return o(P,{children:o("div",{className:"popup-overlay",children:o("div",{className:"popup-modal",children:[o("div",{className:"grid-cols-2",children:[o("h3",{children:"Send Back to Authority"}),o("button",{className:"close-button",onClick:r,children:"×"})]}),o("br",{}),o("br",{}),o("div",{className:"popup-content",children:o("div",{className:"",children:o("form",{onSubmit:i,children:[o("div",{className:"",children:[o(tt,{label:"Authority",placeholder:"--select authority--",options:d,...n("authority")}),o("br",{})]}),o(ln,{label:"Reason",placeholder:"Write reason here...",...n("reason")}),o(x,{type:"submit",variant:"primary",isLoading:s,children:"Submit"})]})})})]})})})}const qM=re({authority:oe().required("Please select a valid authority").trim(),reason:oe().required("Reason for sending back permit is required").trim().min(2,"Please enter a valid reason")});function I5(){var C,N,S,k;const[r,e]=O(!1),{send:t,state:n}=tr(),{permit:i}=Xe(),a=i,s=window.location.pathname,c=((N=(C=a==null?void 0:a.permitHazards)==null?void 0:C[0])==null?void 0:N.hazard)??null,l=((k=(S=a==null?void 0:a.permitHazards)==null?void 0:S[1])==null?void 0:k.hazard)??null,d=Me(()=>{if(!c||!l)return{};const T={};return Object.keys(c).forEach(A=>{c[A]===null&&l[A]===null&&(T[A]=null)}),T},[c,l]),u=Me(()=>{const T=Object.entries(c||{}).filter(([E,I])=>I===null&&!["id","createdAt","updatedAt","potentialHazardDescription"].includes(E)).map(([E,I])=>({key:E,value:I??!1})),A=Ku.filter(E=>T.some(I=>I.key===E.value));return console.log(A),A},[l]),h=Me(()=>{const T=Object.entries(d||{}).filter(([E,I])=>I===null&&!["id","createdAt","updatedAt","potentialHazardDescription"].includes(E)).map(([E,I])=>({key:E,value:I??!1}));return Ku.filter(E=>T.some(I=>I.key===E.value))},[c]),p=T=>Object.entries(T||{}).filter(([I,R])=>R!==null&&!["id","createdAt","updatedAt","potentialHazardDescription"].includes(I)).map(([I,R])=>({key:I,value:R??!1})).map(({key:I,value:R})=>o("div",{className:"firefighting-item",children:o("p",{children:[o("span",{className:"firefighting-value",children:R?"YES":"NO"})," -"," ",I.replace(/([A-Z])/g," $1").toUpperCase()," "]})},I));let f={};(s==="/activities-process"||s==="/activities-process/hse")&&(f=Ku.reduce((T,A)=>{var E,I;return T[A.value]=((I=(E=n.context.work_hazards)==null?void 0:E.hazards)==null?void 0:I[A.value])??void 0,T},{}));const{handleSubmit:g,setFieldValue:m,values:v,getFieldProps:_}=se({validationSchema:KM,initialValues:{...n.context.work_hazards,hazards:f},onSubmit:w});function y(T,A){m("hazards",{...v.hazards,[T]:A})}function w(T){t("submit",{data:{work_hazards:T}})}const b=[{section:"D",header:"Hazard Identification",second_title:"",content:[]}];return o(P,{children:[o("form",{onSubmit:g,children:[o("div",{className:"app-register__form",children:[o(ve,{type:"Hazards",header:"Hazards",children:b[0],section:b[0].section}),o("div",{className:"grid-cols-2",children:[o("div",{className:"section",children:o("div",{className:"section__content",children:[o("p",{className:"title",children:"Performing Authority"}),o("p",{className:"info",children:p(c)})]})}),s==="/activities-process/hse"&&o("div",{className:"section",children:o("div",{className:"section__content",children:[o("p",{className:"title",children:"Issuing Authority"}),o("p",{className:"info",children:p(l)})]})})]})]}),o("div",{className:"app-create-permit__group-header",children:"Identification of Hazards"}),o("div",{className:"app-register__form",children:[s==="/activities-process"?o(P,{children:[" ",u.map(T=>{var A,E;return o("div",{className:"app-create-permit__radio-container",children:[o("p",{children:T.text}),o("div",{children:[o(Ae,{checked:((A=v.hazards)==null?void 0:A[T.value])===!0,onChange:()=>y(T.value,!0),label:"YES"}),o(Ae,{checked:((E=v.hazards)==null?void 0:E[T.value])===!1,onChange:()=>y(T.value,!1),label:"NO"})]})]})})]}):o(P,{children:[" ",h.map(T=>{var A,E;return o("div",{className:"app-create-permit__radio-container",children:[o("p",{children:T.text}),o("div",{children:[o(Ae,{checked:((A=v.hazards)==null?void 0:A[T.value])===!0,onChange:()=>y(T.value,!0),label:"YES"}),o(Ae,{checked:((E=v.hazards)==null?void 0:E[T.value])===!1,onChange:()=>y(T.value,!1),label:"NO"})]})]})})]}),o(ee,{type:"text",label:"Others",placeholder:"Others",..._("otherHazard")})]}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"danger",type:"button",onClick:()=>e(!0),children:"Send Back To Authority"}),o(x,{variant:"secondary",type:"button",onClick:()=>{window.location.href="/permit-activities"},children:"Previous"}),o(x,{variant:"primary",children:"Next"})]})]}),r&&o(yn,{setModalOpen:()=>e(!1)})]})}const Ku=[{text:"NOISE",value:"noise"},{text:"TOXIC SUBSTANCE",value:"toxicSubstance"},{text:"CHEMICAL",value:"chemical"},{text:"EXPLOSIVES",value:"explosives"},{text:"HEIGHT",value:"height"},{text:"OVERHEAD HAZARDS, CRANES, ETC",value:"overheadCranes"},{text:"ILLUMINATING",value:"illuminating"},{text:"SPILL (CONTAINMENT IN PLACE)",value:"spill"},{text:"FALLING OBJECTS",value:"falling"},{text:"RADIATION",value:"radiation"},{text:"TYPE OF WASTE IS KNOWN",value:"knownWaste"}],KM=re({});function x5(){var _,y;const[r,e]=O(!1),{permit:t}=Xe(),n=t,i=window.location.pathname,a=n!=null&&n.protectiveEquipments&&((_=n==null?void 0:n.protectiveEquipments)==null?void 0:_.length)>0?(y=n.protectiveEquipments[0])==null?void 0:y.protectiveEquipment:null,s=Me(()=>{const w=Object.entries(a||{}).filter(([C,N])=>N===null&&!["id","createdAt","updatedAt"].includes(C)).map(([C,N])=>({key:C,value:N??!1}));return Gu.filter(C=>w.some(N=>N.key===C.value))},[a]),{send:c,state:l}=tr(),d=w=>Object.entries(w||{}).filter(([N,S])=>S!==null&&!["id","createdAt","updatedAt","potentialHazardDescription"].includes(N)).map(([N,S])=>({key:N,value:S??!1})).map(({key:N,value:S})=>o("div",{className:"firefighting-item",children:o("p",{children:[o("span",{className:"firefighting-value",children:S?"YES":"NO"})," -"," ",N.replace(/([A-Z])/g," $1").toUpperCase()," "]})},N));let u={};i==="/activities-process/hse"?u=Gu.reduce((w,b)=>{var C,N;return w[b.value]=((N=(C=l.context.personal_protective_equipment)==null?void 0:C.personal_protective_equipment)==null?void 0:N[b.value])??void 0,w},{}):u={};const{handleSubmit:h,setFieldValue:p,values:f}=se({validationSchema:GM,initialValues:{...l.context.personal_protective_equipment,protectiveEquipment:u},onSubmit:m});function g(w,b){p("protectiveEquipment",{...f.protectiveEquipment,[w]:b})}function m(w){c("submit",{data:{personal_protective_equipment:w}})}const v=[{section:"D",header:"Selected Equipment",second_title:"",content:[]}];return o(P,{children:[o("form",{onSubmit:h,children:[o("div",{className:"app-register__form",children:i==="/activities-process/hse"&&o(P,{children:[o(ve,{type:"Selected Equipment",header:"Hazards",children:v[0],section:v[0].section}),o("div",{className:"section",children:o("div",{className:"section__content",children:[o("p",{className:"title",children:"Issuing Authority"}),o("p",{className:"info",children:d(a)})]})})]})}),o("div",{className:"app-create-permit__group-header",children:"Select applicable option(s) below"}),o("div",{className:"app-register__form",children:i==="/activities-process"?o(P,{children:Gu.map(w=>o("div",{className:"app-create-permit__radio-container",children:[o("p",{children:w.text}),o("div",{children:[o(Ae,{checked:f.protectiveEquipment[w.value]===!0,onChange:()=>g(w.value,!0),label:"YES"}),o(Ae,{checked:f.protectiveEquipment[w.value]===!1,onChange:()=>g(w.value,!1),label:"NO"})]})]}))}):o(P,{children:s.map(w=>o("div",{className:"app-create-permit__radio-container",children:[o("p",{children:w.text}),o("div",{children:[o(Ae,{checked:f.protectiveEquipment[w.value]===!0,onChange:()=>g(w.value,!0),label:"YES"}),o(Ae,{checked:f.protectiveEquipment[w.value]===!1,onChange:()=>g(w.value,!1),label:"NO"})]})]}))})}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"danger",type:"button",onClick:()=>e(!0),children:"Send Back To Authority"}),o(x,{variant:"secondary",type:"button",onClick:()=>c("go_back"),children:"Previous"}),o(x,{variant:"primary",children:"Next"})]})]}),r&&o(yn,{setModalOpen:()=>e(!1)})]})}const Gu=[{text:"SAFETY HARD HATS (Type I, Type II)",value:"safetyHardHats"},{text:"SAFETY SHOES OR BOOTS (Anti-slip, Steel toe, Chemical Resistant, rain boots)",value:"safetyShoes"},{text:"BODY PROTECTION (Coverall) (Chemical resistant, apron, fire retardant, fire resistant)",value:"bodyProtection"},{text:"SAFETY GLOVES (Welders, Chemical resistant, Electrical resistant, high impact, mechanical, anti-vibration, General purpose)",value:"safetyGloves"},{text:"BREATHING APPARATUS (Dust, Fumes, Chemical, SCBA)",value:"breathingApparatus"},{text:"SAFETY GLASSES / FACE SHIELD / ELECTRIC ARC SHIELD / GRINDING SHIELD",value:"safetyGlasses"},{text:"HEARING PROTECTION (ear muff, ear plugs, ear muff & ear plugs)",value:"hearingProtection"},{text:"LIFE VEST (Work Vest, Life Jacket)",value:"lifeVest"},{text:"LIFE BUOY / LIFE LINE",value:"lifeBuoy"}],GM=re({}),Qu=[{text:"FIRE EXTINGUISHER (CO2)",value:"fireExtinguisherCO2"},{text:"FIRE EXTINGUISHER (DCP)",value:"fireExtinguisherDCP"},{text:"REMOVAL OF FLAMMABLE SUBSTANCES",value:"removalOfFlammableSubstances"},{text:"EXPLOSION-PROOF WORKING TOOLS (e.g. bronze tools)",value:"explosionProofTools"},{text:"FLAME PROOF BLANKET",value:"flameProofBlanket"},{text:"GROUNDING OF EQUIPMENT",value:"groundingOfEquipment"},{text:"CONTINUOUS GAS MONITORING",value:"continuousGasMonitoring"},{text:"FIREWATCHER / STANDBY MAN",value:"firewatcher"}];function P5(){const{state:r,send:e}=tr(),{permit:t}=Xe(),n=t,i=window.location.pathname,a=n!=null&&n.firefightingPrecautions&&n.firefightingPrecautions.length>0?n.firefightingPrecautions[0].firefightingPrecaution:null,s=Me(()=>{const y=Object.entries(a||{}).filter(([b,C])=>C===null&&!["id","createdAt","updatedAt"].includes(b)).map(([b,C])=>({key:b,value:C??!1}));return Qu.filter(b=>y.some(C=>C.key===b.value))},[a]),c=y=>Object.entries(y||{}).filter(([C,N])=>N!==null&&!["id","createdAt","updatedAt","potentialHazardDescription"].includes(C)).map(([C,N])=>({key:C,value:N??!1})).map(({key:C,value:N})=>o("div",{className:"firefighting-item",children:o("p",{children:[o("span",{className:"firefighting-value",children:N?"YES":"NO"})," -"," ",C.replace(/([A-Z])/g," $1").toUpperCase()," "]})},C));let l={};i==="/activities-process/hse"?l=Qu.reduce((y,w)=>{var b,C;return y[w.value]=((C=(b=r.context.firefighting_equipment)==null?void 0:b.firefighting_equipment)==null?void 0:C[w.value])??void 0,y},{}):l={};const{setFieldValue:d,values:u,handleSubmit:h,getFieldProps:p}=se({validationSchema:QM,initialValues:{...r.context.firefighting_equipment,firefightingEquipment:l},onSubmit:g});function f(y,w){d("firefightingEquipment",{...u.firefightingEquipment,[y]:w})}function g(y){e("submit",{data:{firefighting_equipment:y}})}const[m,v]=O(!1),_=[{section:"",header:"Selected Precautions",second_title:"",content:[]}];return o(P,{children:[o("form",{onSubmit:h,className:"app-register__attachment-form",children:[o("div",{className:"app-register__form",children:i==="/activities-process/hse"&&o(P,{children:[o(ve,{type:"Selected Equipment",header:"Hazards",children:_[0],section:_[0].section}),o("div",{className:"section",children:o("div",{className:"section__content",children:[o("p",{className:"title",children:"Issuing Authority"}),o("p",{className:"info",children:c(a)})]})})]})}),o("p",{children:"Select applicable option(s)"}),o("div",{className:"app-register__form app-create-permit__docs",children:i==="/activities-process"?o(P,{children:[Qu.map(y=>o("div",{className:"app-create-permit__radio-container",children:[o("p",{children:y.text}),o("div",{children:[o(Ae,{checked:u.firefightingEquipment[y.value]===!0,onChange:()=>f(y.value,!0),label:"YES"}),o(Ae,{checked:u.firefightingEquipment[y.value]===!1,onChange:()=>f(y.value,!1),label:"NO"})]})]})),o(ee,{type:"text",label:"Others",placeholder:"Others",...p("otherPrecaution")})]}):o(P,{children:[s.map(y=>o("div",{className:"app-create-permit__radio-container",children:[o("p",{children:y.text}),o("div",{children:[o(Ae,{checked:u.firefightingEquipment[y.value]===!0,onChange:()=>f(y.value,!0),label:"YES"}),o(Ae,{checked:u.firefightingEquipment[y.value]===!1,onChange:()=>f(y.value,!1),label:"NO"})]})]})),o(ee,{type:"text",label:"Others",placeholder:"Others",...p("otherPrecaution")})]})}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"danger",type:"button",onClick:()=>v(!0),children:"Send Back To Authority"}),o(x,{variant:"secondary",type:"button",onClick:()=>e("go_back"),children:"Back"}),o(x,{variant:"primary",children:"Next"})]})]}),m&&o(yn,{setModalOpen:()=>v(!1)})]})}const QM=re({});function D5(){var y;const{state:r,send:e}=tr(),{permit:t}=Xe(),n=t,i=n!=null&&n.permitDocuments&&t.permitDocuments.length>0?n.permitDocuments[0].document:[],a=L6(i),s=oo.filter(w=>!a.filter(C=>C.name===w)),c=oo.filter(w=>a.filter(C=>C.name===w)),l=re().shape({}),{setFieldValue:d,values:u,getFieldProps:h,handleSubmit:p}=se({validationSchema:l,initialValues:{...r.context.selected_documents},onSubmit:g}),f=(w,b)=>{d("documents",{...u.documents,[w]:b})};function g(w){console.log(w),e("submit",{data:{selected_documents:w}})}const[m,v]=O(!1),_=()=>c.map(b=>o("div",{className:"document-item",children:o("div",{className:"",children:o("p",{className:"document grid-cols-2",children:o("span",{children:b})})})},b));return o(P,{children:[o("form",{onSubmit:p,className:"app-register__attachment-form",children:[o("div",{className:"",children:[o(ve,{type:"Secondary",header:"Uploaded Documents",children:i[0],section:(y=i[0])==null?void 0:y.section}),o("div",{className:"section",children:o("div",{className:"",children:o("p",{className:"info",children:Object.keys(c).length>0?_():o("p",{children:"No documents uploaded."})})})})]}),o("h3",{children:"Select the document you want to upload below"}),o("br",{}),o("div",{className:"app-register__form-grid app-create-permit__docs",children:(s==null?void 0:s.length)>0?o(P,{children:s.map((w,b)=>o("div",{className:"",children:[o("label",{className:"app-register__attachment-form items-center",children:[o(Gt,{checked:!!u.documents[w],onChange:()=>f(w,!u.documents[w])}),o("span",{children:w})]}),o(tt,{...h(`document_${w}`),options:[{text:"Manual Upload",value:"manual"}]}),u.documents[w]&&!u[`document_${w}`]&&o("p",{className:"error",style:{color:"red"},children:"Please select an option for the selected document."})]},b))}):o(P,{children:o("p",{children:"No documents need to be uploaded"})})}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"danger",type:"button",onClick:()=>v(!0),children:"Send Back To Authority"}),o(x,{variant:"secondary",type:"button",onClick:()=>e("go_back"),children:"Back"}),o(x,{variant:"primary",type:"submit",onClick:()=>p,children:"Next"})]})]}),m&&o(yn,{setModalOpen:()=>v(!1)})]})}function O5(){const{state:r,send:e}=tr(),{setFieldValue:t,getFieldProps:n,handleSubmit:i}=se({initialValues:r.context.document_uploads,onSubmit:p,validationSchema:ZM}),[a,s]=O(!1),c=r.context.selected_documents,[l,d]=O({});function u(f,g){d(m=>({...m,[f]:g}))}const h=Object.keys(c).filter(f=>f.startsWith("document_")&&c[f]==="manual").map(f=>({key:f,label:f.replace("document_","").replace(/_/g," ")}));function p(f){const g=Object.entries(l).reduce((m,[v,_])=>{const y=v.replace("document_","");return m[y]={type:"MANUAL",doc:_},m},{});e("submit",{data:{document_uploads:f,formattedDocuments:g}})}return o(P,{children:[o("form",{onSubmit:i,className:"app-register__attachment-form",children:[o("p",{className:"app-create-permit__description",children:"Ensure you upload authentic documents that are clear and visible."}),o("div",{className:"app-register__form-grid app-create-permit__docs",children:h.map(({key:f,label:g})=>o(Fi,{label:g,...n(f),onChange:m=>t(f,m),onUploadComplete:m=>u(f,m)},f))}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"danger",type:"button",onClick:()=>s(!0),children:"Send Back To Authority"}),o(x,{variant:"secondary",type:"button",onClick:()=>e("go_back"),children:"Previous"}),o(x,{variant:"primary",children:"Next"})]})]}),a&&o(yn,{setModalOpen:()=>s(!1)})]})}const ZM=re({});function R5(){const{send:r,state:e}=tr(),{permit:t}=Xe(),n=t,i=window.location.pathname,a=n!=null&&n.mechanicalIsolationPrecaution&&n.mechanicalIsolationPrecaution.length>0?n.mechanicalIsolationPrecaution[0].mechanicalIsolationPrecaution:null,s=Me(()=>{const y=Object.entries(a||{}).filter(([b,C])=>C===null&&!["id","createdAt","updatedAt"].includes(b)).map(([b,C])=>({key:b,value:C??!1}));return Zu.filter(b=>y.some(C=>C.key===b.value))},[a]),c=y=>Object.entries(y||{}).filter(([C,N])=>N!==null&&!["id","createdAt","updatedAt","potentialHazardDescription"].includes(C)).map(([C,N])=>({key:C,value:N??!1})).map(({key:C,value:N})=>o("div",{className:"firefighting-item",children:o("p",{children:[o("span",{className:"firefighting-value",children:N?"YES":"NO"})," -"," ",C.replace(/([A-Z])/g," $1").toUpperCase()," "]})},C));let l={};i==="/activities-process/hse"?l=Zu.reduce((y,w)=>{var b,C;return y[w.value]=((C=(b=e.context.mechanical_precaution)==null?void 0:b.mechanical_precaution)==null?void 0:C[w.value])??void 0,y},{}):l={};const{handleSubmit:d,setFieldValue:u,values:h,getFieldProps:p}=se({validationSchema:XM,initialValues:{...e.context.mechanical_precaution,mechanicalPrecaution:l},onSubmit:g});function f(y,w){u("mechanicalPrecaution",{...h.mechanicalPrecaution,[y]:w})}function g(y){r("submit",{data:{mechanical_precaution:y}})}const[m,v]=O(!1),_=[{section:"",header:"Selected Isolation Precaution",second_title:"",content:[]}];return o(P,{children:[o("form",{onSubmit:d,children:[o("div",{className:"app-register__form",children:i==="/activities-process/hse"&&o(P,{children:[o(ve,{type:"Selected Equipment",header:"Selected Isolation Precaution",children:_[0],section:_[0].section}),o("div",{className:"section",children:o("div",{className:"section__content",children:[o("p",{className:"title",children:"Issuing Authority"}),o("p",{className:"info",children:c(a)})]})})]})}),o("div",{className:"app-create-permit__group-header",children:"Select applicable option(s)"}),o("div",{className:"app-register__form",children:i=="/activities-process"?o(P,{children:[Zu.map(y=>o("div",{className:"app-create-permit__radio-container",children:[o("p",{children:y.text}),o("div",{children:[o(Ae,{checked:h.mechanicalPrecaution[y.value]===!0,onChange:()=>f(y.value,!0),label:"YES"}),o(Ae,{checked:h.mechanicalPrecaution[y.value]===!1,onChange:()=>f(y.value,!1),label:"NO"})]})]})),o(ee,{type:"text",label:"Others",placeholder:"Others",...p("other")})]}):o(P,{children:[s.map(y=>o("div",{className:"app-create-permit__radio-container",children:[o("p",{children:y.text}),o("div",{children:[o(Ae,{checked:h.mechanicalPrecaution[y.value]===!0,onChange:()=>f(y.value,!0),label:"YES"}),o(Ae,{checked:h.mechanicalPrecaution[y.value]===!1,onChange:()=>f(y.value,!1),label:"NO"})]})]})),o(ee,{type:"text",label:"Others",placeholder:"Others",...p("other")})]})}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"danger",type:"button",onClick:()=>v(!0),children:"Send Back To Authority"}),o(x,{variant:"secondary",type:"button",onClick:()=>r("go_back"),children:"Previous"}),o(x,{variant:"primary",children:"Next"})]})]}),m&&o(yn,{setModalOpen:()=>v(!1)})]})}const Zu=[{text:"ISOLATION AND TAGGING OF VALVES (Ref. to P&IDs)",value:"valveIsolationAmdTagging"},{text:"FLANGES (Ref. to P&IDs and/or other schematic drawings) INSTALLATION",value:"flangesInstallation"},{text:"FLANGES (Ref. to P&IDs and/or other schematic drawings) REMOVAL",value:"flangesRemoval"},{text:"LINE DISCONNECTION (Ref. to P&IDs and/or other schematic drawings)",value:"lineDisconnection"},{text:"LINE / EQUIPMENT DRAINAGE",value:"lineDrainage"},{text:"LINE / EQUIPMENT DEPRESSURIZATION",value:"lineDepressurization"},{text:"VENTILATION (Natural / Mechanical means)",value:"ventilation"}],XM=re({});function M5(){const{send:r,state:e}=tr(),{permit:t}=Xe(),n=t,i=window.location.pathname,a=n!=null&&n.electricalIsolationPrecaution&&n.electricalIsolationPrecaution.length>0?n.electricalIsolationPrecaution[0].electricalIsolationPrecaution:null,s=Me(()=>{const y=Object.entries(a||{}).filter(([b,C])=>C===null&&!["id","createdAt","updatedAt"].includes(b)).map(([b,C])=>({key:b,value:C??!1}));return Xu.filter(b=>y.some(C=>C.key===b.value))},[a]),c=y=>Object.entries(y||{}).filter(([C,N])=>N!==null&&!["id","createdAt","updatedAt","potentialHazardDescription"].includes(C)).map(([C,N])=>({key:C,value:N??!1})).map(({key:C,value:N})=>o("div",{className:"firefighting-item",children:o("p",{children:[o("span",{className:"firefighting-value",children:N?"YES":"NO"})," -"," ",C.replace(/([A-Z])/g," $1").toUpperCase()," "]})},C));let l={};i==="/activities-process/hse"?l=Xu.reduce((y,w)=>{var b,C;return y[w.value]=((C=(b=e.context.mechanical_precaution)==null?void 0:b.mechanical_precaution)==null?void 0:C[w.value])??void 0,y},{}):l={};const{handleSubmit:d,setFieldValue:u,values:h,getFieldProps:p}=se({validationSchema:JM,initialValues:{...e.context.electrical_precaution,electricalPrecaution:l},onSubmit:g});function f(y,w){u("electricalPrecaution",{...h.electricalPrecaution,[y]:w})}function g(y){r("submit",{data:{electrical_precaution:y}})}const[m,v]=O(!1),_=[{section:"",header:"Selected Isolation Precaution",second_title:"",content:[]}];return o(P,{children:[o("form",{onSubmit:d,children:[o("div",{className:"app-register__form",children:i==="/activities-process/hse"&&o(P,{children:[o(ve,{type:"Selected Equipment",header:"Selected Isolation Precaution",children:_[0],section:_[0].section}),o("div",{className:"section",children:o("div",{className:"section__content",children:[o("p",{className:"title",children:"Issuing Authority"}),o("p",{className:"info",children:c(a)})]})})]})}),o("div",{className:"app-create-permit__group-header",children:"Select applicable option(s)"}),o("div",{className:"app-register__form",children:i==="/activities-process"?o(P,{children:[Xu.map(y=>o("div",{className:"app-create-permit__radio-container",children:[o("p",{children:y.text}),o("div",{children:[o(Ae,{checked:h.electricalPrecaution[y.value]===!0,onChange:()=>f(y.value,!0),label:"YES"}),o(Ae,{checked:h.electricalPrecaution[y.value]===!1,onChange:()=>f(y.value,!1),label:"NO"})]})]})),o(ee,{type:"text",label:"Others",placeholder:"Others",...p("other")})]}):o(P,{children:[s.map(y=>o("div",{className:"app-create-permit__radio-container",children:[o("p",{children:y.text}),o("div",{children:[o(Ae,{checked:h.electricalPrecaution[y.value]===!0,onChange:()=>f(y.value,!0),label:"YES"}),o(Ae,{checked:h.electricalPrecaution[y.value]===!1,onChange:()=>f(y.value,!1),label:"NO"})]})]})),o(ee,{type:"text",label:"Others",placeholder:"Others",...p("other")})]})}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"danger",type:"button",onClick:()=>v(!0),children:"Send Back To Authority"}),o(x,{variant:"secondary",type:"button",onClick:()=>r("go_back"),children:"Previous"}),o(x,{variant:"primary",children:"SUBMIT"})]})]}),m&&o(yn,{setModalOpen:()=>v(!1)})]})}const Xu=[{text:"SWITCH OFF OR SHUTDOWN THE EQUIPMENT",value:"equipmentShutdown"},{text:"RACK OUT AND PADLOCK THE CIRCUIT BREAKER (Car seal is also optional)",value:"circuitBreakerPadlock"},{text:"USE MULTIMAKER TO CHECK VOLTAGE READING",value:"voltageReadingCheck"},{text:"DISCONNECT SUPPLY FROM THE SOURCE",value:"supplyDisconnection"},{text:"DISCONNECT CABLE FROM EQUIPMENT",value:"cableDisconnection"},{text:"INSTALLATION OF GROUND FAULT CIRCUIT INTERUPTOR (GCFI OR RESIDUAL CURRENT CICUIT BREAKER (RCCB)",value:"gfciInstallation"}],JM=re({});function eL(){const{state:r}=tr(),{makeRequest:e}=X(mk),[t,n]=O(!1),[i,a]=O(!1),{permit:s}=Xe();return Z(()=>{async function c(){var v,_,y,w,b,C,N;n(!0);const l=((v=r.context.work_hazards)==null?void 0:v.hazards)||{},d={};Object.entries(l).forEach(([S,k])=>{console.log(S,k),k!==void 0&&(d[S]=k)});const u=Array.isArray(r.context.formattedDocuments)?r.context.formattedDocuments:Object.entries(r.context.formattedDocuments||{}).map(([S,k])=>({name:S,type:k.type||"MANUAL",doc:k.doc||""})),h=S=>S.replace(/\/.*|\(.*?\)/g,"").replace(/\./g,"").trim().replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,(k,T)=>T===0?k.toLowerCase():k.toUpperCase()).replace(/\s+/g,""),p=u.reduce((S,k)=>{const T=h(k.name);return T==="otherCert"&&(S[`${T}Name`]="..."),S[`${T}Type`]=k.type,S[`${T}`]=k.doc,S},{}),f={permitId:s==null?void 0:s.id,hazards:{potentialHazardDescription:((_=r.context.work_hazards)==null?void 0:_.potentialHazardDescription)||"",...d},protectiveEquipment:(y=r.context.personal_protective_equipment)==null?void 0:y.protectiveEquipment,firefightingPrecaution:{otherPrecaution:((w=r.context.firefighting_precaution)==null?void 0:w.otherPrecaution)||"",...(b=r.context.firefighting_precaution)==null?void 0:b.firefightingPrecaution},documents:p,mechanicalIsolationPrecaution:(C=r.context.mechanical_precaution)==null?void 0:C.mechanicalPrecaution,electricalIsolationPrecaution:(N=r.context.electrical_precaution)==null?void 0:N.electricalPrecaution},[g,m]=await e(f);if(m)return n(!1),a(!1),q({variant:"error",message:m.message??"Failed to approve permit, please try again"});n(!1),a(!0),q({variant:"success",message:"Permit approved successfully"})}c()},[r]),o("div",{className:"app-register__form",children:t?o(P,{children:o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/in-progress.svg",alt:""})}),o("p",{className:"submit-container__title",children:" Approving Permit ..."}),o("br",{}),o("p",{className:"submit-container__description",children:"Please wait as we process this permit."})]})})})}):i?o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/successful.svg",alt:""})}),o("p",{className:"submit-container__title",children:"Permit Approved"}),o("br",{}),o("p",{className:"submit-container__description",children:["You have successfully approved this permit."," "]}),o("br",{}),o("div",{className:"submit-container__button-container",children:[o(x,{variant:"tertiary",type:"button",onClick:()=>V("/process-permits"),children:"Home"}),o(x,{variant:"primary",type:"button",onClick:()=>V("/process-permits"),children:"View Permit"})]})]})})}):o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/submit-failed.svg",alt:""})}),o("p",{className:"submit-container__title",children:"Permit Approval Failed"}),o("br",{}),o("p",{className:"submit-container__description",children:"An error occurred while processing this permit."}),o("br",{}),o("div",{className:"submit-container__button-container",children:[o(x,{variant:"tertiary",type:"button",onClick:()=>V("/process-permits"),children:"Home"}),o(x,{variant:"primary",type:"button",onClick:()=>V("/process-permits"),children:"Redo Permit"})]})]})})})})}function Bn({setModalOpen:r}){var a,s;const{valueID:e}=$e(),t=e,[n,i]=O({performerRole:"",performingPersonInCharge:"",workDescription:"",equipmentToolsMaterials:"",location:{locationArea:"",location:""},workArea:"",from_time:"",to_time:""});return Z(()=>{async function c(){const d=(await K(`/permit/${t}`,"GET"))[0].data;i(d)}c()},[e]),o("div",{className:"popup-overlay",children:o("div",{className:"popup-modal",children:[o("div",{className:"flex-between",children:[o("h3",{className:"float-left",children:"Permit Details"}),o("button",{className:"close-button",onClick:r,children:"×"})]}),o("div",{className:"popup-content",children:[o("br",{}),o("div",{className:"app-section__lg-table popup-lg-table",children:o(je,{children:[o(Ct,{children:o(me,{children:[o(D,{children:"Header"}),o(D,{children:"Description"})]})}),o(Qe,{children:[o(me,{children:[o(D,{children:"Role"}),o(D,{children:n==null?void 0:n.performerRole})]}),o(me,{children:[o(D,{children:"Performing Person / Person In Charge"}),o(D,{children:n==null?void 0:n.performingPersonInCharge})]}),o(me,{children:[o(D,{children:"Work Details"}),o(D,{children:n==null?void 0:n.workDescription})]}),o(me,{children:[o(D,{children:"Equipment / Tools / Materials"}),o(D,{children:n==null?void 0:n.equipmentToolsMaterials})]}),o(me,{children:[o(D,{children:"Work Location / Work Area"}),o(D,{children:[(a=n==null?void 0:n.location)==null?void 0:a.locationArea," /"," ",n==null?void 0:n.workArea]})]}),o(me,{children:[o(D,{children:"Permit Valid From - To (Date & Time)"}),o(D,{children:[le(n==null?void 0:n.from_time).format("MMM DD, YYYY")," /"," ",le(n==null?void 0:n.to_time).format("MMM DD, YYYY")," /"," "]})]})]})]})}),o("div",{className:"popup-sm-table",children:o("div",{className:"",children:o("div",{className:"",children:[o("div",{className:"",children:[o("span",{children:"Role:"}),o("p",{children:[n==null?void 0:n.performerRole," "]})]}),o("div",{className:"",children:[o("span",{children:"Performing Person / Person In Charge"}),o("p",{children:n==null?void 0:n.performingPersonInCharge})]}),o("div",{className:"",children:[o("span",{children:"Work Details"}),o("p",{children:n==null?void 0:n.workDescription})]}),o("div",{className:"",children:[o("span",{children:"Equipment / Tools / Materials"}),o("p",{children:[" ",n==null?void 0:n.equipmentToolsMaterials]})]}),o("div",{className:"",children:[o("span",{children:"Work Location / Work Area"}),o("p",{children:[" ",(s=n==null?void 0:n.location)==null?void 0:s.locationArea," /"," ",n==null?void 0:n.workArea]})]}),o("div",{className:"",children:[o("span",{children:"Equipment / Tools / Materials"}),o("p",{children:[" ",n==null?void 0:n.equipmentToolsMaterials]})]}),o("div",{children:[o("span",{children:"Permit Valid From - To (Date & Time)"}),o("p",{children:[le(n==null?void 0:n.from_time).format("MMM DD, YYYY")," /"," ",le(n==null?void 0:n.to_time).format("MMM DD, YYYY")," /"," "]})]})]})})})]})]})})}function tL(){const{state:r}=tr(),e=r.toStrings()[0],t=Bc.indexOf(e)+1,n=Bc.includes(e)?{title:Ar(e.replace("_"," "))}:null,[i,a]=O(!1),s=c=>{a(c),console.log(i)};return o("div",{className:"app-create-permit app-register",children:[o("div",{className:"app-register__nav-wrapper app-container-wrapper",children:o("div",{className:"app-container app-register__nav",children:[o(Tt,{href:"/",children:o("img",{src:"/svgs/logo.eptw.svg",alt:"eptw_logo",className:"permit-logo"})}),o("h5",{children:"Process Permit"}),o("div",{className:"",children:o(x,{variant:"purple",onClick:()=>s(!0),children:"Permit Details"})})]})}),o("div",{className:"app-register__content-wrapper app-container-wrapper ",children:[o("div",{className:"app-register__content app-container",children:[!r.matches("submit")&&o(P,{children:[o("div",{className:"app-register__content__header app-create-permit__header",children:[o("h3",{children:n==null?void 0:n.title}),o("p",{children:["Step ",t," of ",Bc.length-1]})]}),o("div",{className:"app-register__progress-bar",children:o("span",{style:{width:`${(t/Bc.length-1)*100}%`}})})]}),r.matches("work_hazards")&&o(I5,{}),r.matches("personal_protective_equipment")&&o(x5,{}),r.matches("firefighting_equipment")&&o(P5,{}),r.matches("selected_documents")&&o(D5,{}),r.matches("document_uploads")&&o(O5,{}),r.matches("mechanical_precaution")&&o(R5,{}),r.matches("electrical_precaution")&&o(M5,{}),r.matches("submit")&&o(eL,{})]}),o("img",{src:"/svgs/auth-blur.svg",alt:"auth-blur"})]}),o("div",{className:"",children:i&&o(Bn,{setModalOpen:()=>a(!1)})})]})}const Bc=["work_hazards","personal_protective_equipment","firefighting_equipment","selected_documents","document_uploads","mechanical_precaution","electrical_precaution","submit"];function nL({}){return o(k5,{children:o(ka,{children:o(tL,{})})})}function rL(r,e,t){const[n,i]=O({hours:0,minutes:0,seconds:0});return Z(()=>{const s=((u,h)=>{const p=new Date(u).toISOString().split("T")[0],f=new Date(h).toISOString().split("T")[1];return new Date(`${p}T${f}`)})(r,e),c=t==="TWELVE_HOUR"?12:24,l=new Date(s.getTime()+c*60*60*1e3);if(isNaN(s.getTime())){console.error("Invalid fromDate or fromTime provided");return}const d=setInterval(()=>{const u=new Date,h=l.getTime()-u.getTime();if(h<=0)clearInterval(d),i({hours:0,minutes:0,seconds:0});else{const p=Math.floor(h/36e5),f=Math.floor(h%(1e3*60*60)/(1e3*60)),g=Math.floor(h%(1e3*60)/1e3);i({hours:p,minutes:f,seconds:g})}},1e3);return()=>clearInterval(d)},[r,e,t]),n}const vp=({fromDate:r,fromTime:e,permitShiftType:t})=>{const{hours:n,minutes:i,seconds:a}=rL(r,e,t);return o("div",{children:o("h4",{class:"countdown-timer",children:[n," h : ",i," m : ",a," s"]})})};function iL({}){const[r,e]=O("All Status"),t=["All Status","APPROVED","REVALIDATION_INITIATED","CLOSURE_INITIATED"],[n,i]=O("All Work Types"),a=["All Work Types","COLD_WORK","HOT_WORK"],{updatePermit:s}=Xe(),{response:c,isLoading:l}=X(Qd,{},!0);async function d(C){const S=(await K(`/permit/${C}`,"GET"))[0].data;s(S)}const u=C=>{d(C.id),V("monitoring-details")},h=(C,N)=>C?C.length>N?`${C.slice(0,N)}...`:C:"",[p,f]=O(""),m=((c==null?void 0:c.data)||[]).filter(C=>{var R,M;const N=C.publicId,S=C.type,k=((R=C.workArea)==null?void 0:R.toLowerCase())||"",T=((M=C.entrustedCompany)==null?void 0:M.name.toLowerCase())||"",A=N.includes(p.toLowerCase())||S.includes(p.toLowerCase())||k.includes(p.toLowerCase())||T.includes(p.toLowerCase())||p==="",E=n==="All Work Types"||S===n,I=r==="All Status"||C.status===r;return A&&E&&I}),[v,_]=O(1),y=10,w=m.sort((C,N)=>new Date(N.createdAt).getTime()-new Date(C.createdAt).getTime()),b=Er(w,v,y);return o(P,{children:[o(Ne,{title:"Monitoring"}),o("div",{className:"app-section__header",children:[o($n,{placeholder:"Search permits",onSearch:f}),o("br",{}),o("div",{className:"app-section__filters",children:[o("span",{className:"base-date-filter--secondary",children:"Filter by:"}),o("div",{className:"sm-grid-cols-2 app-section__filters",children:[o(kt,{className:"base-dropdown__dropdown-wrapper",children:[o(It,{children:r}),o(xt,{children:t.map(C=>o("div",{className:"base-dropdown__option",onClick:()=>e(C),children:C},C))})]}),o(kt,{className:"base-dropdown__dropdown-wrapper",children:[o(It,{children:n}),o(xt,{children:a.map(C=>o("div",{className:"base-dropdown__option",onClick:()=>i(C),children:C},C))})]})]})]})]}),o("div",{className:"app-section",children:[o("div",{className:"app-section__lg-table",children:o(je,{children:[o(Ct,{children:o(me,{children:[o(D,{children:"PTW ID."}),o(D,{children:"Work Type"}),o(D,{children:"Work To Be Performed"}),o(D,{children:"Work Location"}),o(D,{children:"Company"}),o(D,{children:"Time Remaining"}),o(D,{})]})}),o(Qe,{children:b.filter(C=>C.status!=="NOT_STARTED"&&C.status!=="CANCELED"&&C.status!=="CLOSED").map(C=>{var N,S;return o(me,{children:[o(D,{children:C.publicId}),o(D,{children:gn(C.type)}),o(D,{children:h(C.workDescription,45)}),o(D,{children:[(N=C.location)==null?void 0:N.locationArea," / ",C.workArea]}),o(D,{children:(S=C==null?void 0:C.entrustedCompany)==null?void 0:S.name}),o(D,{children:o(vp,{fromDate:C.fromDate,fromTime:C.fromTime,permitShiftType:C.permitShiftType})}),o(D,{children:o(x,{onClick:()=>u(C),children:"View"})})]},C.id)})})]})}),o("div",{className:"app-section__sm-table",children:[o(je,{children:o(Qe,{children:b.map(C=>C.status!=="NOT_STARTED"&&o("div",{className:"container",onClick:()=>u(C),children:[o("div",{className:"location-flex",children:[o("p",{children:C.publicId}),o("h6",{className:"gray",children:gn(C.type)})]}),o("p",{children:h(C.workDescription,45)}),o("div",{className:"location-flex",children:o("div",{className:"items-center",children:[o("p",{className:"gray",children:"Time Remaining:"}),o("h6",{className:"countdown-timer",children:o(vp,{fromDate:C.fromDate,fromTime:C.fromTime,permitShiftType:C.permitShiftType})})]})})]},C.id))})}),m.length>1&&o(kr,{totalItems:m.length,itemsPerPage:y,currentPage:v,onPageChange:_})]}),!m.length&&o("div",{className:"base-empty",children:[o("img",{src:"/svgs/document.svg",alt:"No Permits"}),o("p",{children:l?"Fetching permits, please wait...":"No permits yet"})]})]})]})}function oL(){return[].length===0?o("div",{className:"base-empty",children:[o("img",{src:"/svgs/comments.svg"}),o("p",{children:["No notes or comments yet.",o("br",{}),"Click the button below to add a note"]}),o(x,{variant:"primary",dimension:"md",href:"/add-onsite-comments",children:[o(ne,{name:"plus"}),"Add Onsite Note"]})]}):o("div",{className:"app-section",children:[o(x,{variant:"primary",dimension:"md",href:"/add-onsite-comments",children:[o(ne,{name:"plus"}),"Add Onsite Note"]}),o("br",{}),o("br",{}),o(vt,{show:!0,title:"All Notes",children:[o(z,{title:"Date",value:""}),o(z,{title:"Posted by",value:""}),o(z,{title:"Note / Comments",value:""}),o(nd,{}),o(z,{title:"Date",value:""}),o(z,{title:"Posted by",value:""}),o(z,{title:"Note / Comments",value:""}),o(nd,{}),o(z,{title:"Date",value:""}),o(z,{title:"Posted by",value:""}),o(z,{title:"Note / Comments",value:""})]})]})}function aL({}){const[r,e]=O(),{valueID:t}=$e(),n=t,{profile:i}=vn();Z(()=>{async function S(){var E;const T=(await K(`/permit/${n}`,"GET"))[0].data,A=(E=T==null?void 0:T.permitRoles)==null?void 0:E[i==null?void 0:i.id];console.log(A),e(A)}S()},[n,i==null?void 0:i.id]);const{tabs:a,activeTab:s}=Zt(["PTW Details","Action History","Onsite Notes & Comments"]),{permit:c}=Xe(),l={},[d,u]=O(!1),[h,p]=O(!1),[f,g]=O(!1),m=S=>{u(S)},v=S=>{g(!0),p(S)},{makeRequest:_}=X(f?Yk:b_);async function y(S){console.log(S);const[k,T]=await _(S);if(T)return q({variant:"error",message:T.message});q({variant:"success",message:"Successful"}),u(!1),p(!1),V("/permit-management")}const[w,b]=O(!1),C=()=>{b(!0)},N=async()=>{var k;const S=c==null?void 0:c.id;try{const T=await K(`/permit/reactivate/${S}`,"PUT");console.log(T),q({variant:"success",message:"Permit reactivated successfully."})}catch(T){q({variant:"error",message:((k=T==null?void 0:T.response)==null?void 0:k.error)??"Failed to reactivate permit."})}b(!1)};return o(P,{children:[o(Ne,{title:"Monitoring"}),o("div",{className:"countdown-status",children:o("div",{className:"",children:[o("p",{className:"countdown-status__title",children:"Countdown to Automatic Revalidation"}),o("h5",{className:"countdown-status__timer",children:o(P,{children:(c==null?void 0:c.status)==="CANCELED"||(c==null?void 0:c.status)==="CLOSED"?o("p",{children:"00 h : 00 m : 00 s"}):o(vp,{fromDate:c==null?void 0:c.fromDate,fromTime:c==null?void 0:c.fromTime,permitShiftType:c==null?void 0:c.permitShiftType})})})]})}),o("div",{className:"app-permit__sections",children:o("div",{className:"actions",children:(c==null?void 0:c.type)==="HOT_WORK"?o(P,{children:r==="PERFORMING_SUPERVISOR"&&o("div",{className:"closure",children:[o("div",{children:[o("h4",{children:"Request For Closure"}),o("p",{children:"Click the button to request closure for this permit"})," "]}),o("button",{className:"flex-center",onClick:()=>m(!0),children:[o(ne,{name:"export"}),"Request Closure"]})]})}):(c==null?void 0:c.status)==="SUSPENDED"&&(c==null?void 0:c.suspenderId)===(i==null?void 0:i.id)?o(P,{children:o("div",{className:"print",children:[o("div",{children:[o("h4",{children:"Permit Suspended"}),o("p",{children:"Click the button to reactive this permit"})," "]}),o("button",{className:"flex-center",onClick:()=>C(),children:[o(ne,{name:"export"}),"Reactivate Permit"]})]})}):o(P,{children:r==="PERFORMING_SUPERVISOR"&&o("div",{className:"print",children:[o("div",{children:[o("h4",{children:"Request For Revalidation"}),o("p",{children:"Click the button to request validation for this permit"})," "]}),o("button",{className:"flex-center",onClick:()=>v(!0),children:[o(ne,{name:"export"}),"Revalidate Permit"]})]})})})}),o(Oi,{tabs:a,counts:l,className:"app-permit__tabs"}),s==="PTW Details"&&o(lm,{}),s==="Action History"&&o(dm,{}),s==="Onsite Notes & Comments"&&o(oL,{}),o("div",{className:"",children:d&&o(Pn,{icon:o("img",{src:""}),title:"Request Closure of Permit",message:"",onClose:()=>u(!1),primaryButton:{label:"Request Closure",onClick:()=>y(c==null?void 0:c.id),color:"#371071"},secondaryButton:{label:"Cancel",onClick:()=>m(!1),color:"#E86E18"}})}),o("div",{className:"",children:h&&o(Pn,{icon:o("img",{src:""}),title:"Request Revalidation of Permit",message:"",onClose:()=>p(!1),primaryButton:{label:"Request Revalidation",onClick:()=>y(c==null?void 0:c.id),color:"#81374C"},secondaryButton:{label:"Cancel",onClick:()=>v(!1),color:"#E86E18"}})}),o("div",{className:"",children:w&&o(Pn,{icon:o("img",{src:"/svgs/reactivate.svg"}),title:"Reactivate Permit",message:"Are you sure you want to reactivate this permit? This action cannot be undone.",onClose:()=>b(!1),primaryButton:{label:"Confirm",onClick:N,color:"#008171"},secondaryButton:{label:"Cancel",onClick:()=>b(!1),color:"#E86E18"}})})]})}function L5({response:r}){var u,h,p,f,g;const e=r,t=e!=null&&e.permitHazards&&e.permitHazards.length>0?e.permitHazards[0]:null,n=e!=null&&e.permitDocuments&&e.permitDocuments.length>0?e.permitDocuments[0]:null,i=(n==null?void 0:n.document)||{},a=[{section:"A",header:"Work Type",content:[{id:1,title:"Permit Type",info:(e==null?void 0:e.type)||""},{id:2,title:"Permit ID",info:(e==null?void 0:e.publicId)||""},{id:3,title:"Status / Authority",info:`${e==null?void 0:e.status} / ${e==null?void 0:e.currentAuthority}`||""}]},{section:"B",header:"Permit Details",content:[{id:1,title:"Role",info:e==null?void 0:e.performerRole},{id:2,title:"Performing Person / Person In Charge",info:e==null?void 0:e.performingPersonInCharge},{id:3,title:"Work Details",info:e==null?void 0:e.workDescription},{id:4,title:"Equipment / Tools / Materials",info:e==null?void 0:e.equipmentToolsMaterials},{id:5,title:"Work Location / Work Area",info:`${(u=e==null?void 0:e.location)==null?void 0:u.locationArea} / ${e==null?void 0:e.workArea}`},{id:6,title:"Permit Valid From - To (Date & Time)",info:`${e==null?void 0:e.fromDate} /  ${e==null?void 0:e.fromTime} - ${e==null?void 0:e.toDate}  / ${e==null?void 0:e.toTime}`}]},{section:"C",header:"Company Details",content:[{id:1,title:"Entrusted Company",info:(h=e==null?void 0:e.entrustedCompany)==null?void 0:h.name},{id:2,title:"Executing Company",info:(p=e==null?void 0:e.executingCompany)==null?void 0:p.name},{id:3,title:"Performing Department",info:e==null?void 0:e.performingDepartment},{id:4,title:"Contact Phone Number",info:e==null?void 0:e.contractorPhoneNumber}]},{section:"D",header:"Hazard Identification",content:[{id:1,title:"Describe the potential hazards",info:((f=t==null?void 0:t.hazard)==null?void 0:f.potentialHazardDescription)||""}]}],s=[{section:"E",header:"Document Uploads",content:[]}],c=(t==null?void 0:t.hazard)||{},l=()=>va.filter(m=>c.hasOwnProperty(m.value)).map(m=>o("div",{className:"hazard-item",children:o("p",{children:[o("span",{class:"hazard-value",children:c[m.value]?"YES":"NO"})," ","- ",m.text]})},m.value)),d=()=>Object.entries(i).map(([v,_])=>["id","createdAt","updatedAt","draftId"].includes(v)?null:v.includes("Type")?o("div",{className:"document-item",children:[o("div",{className:"section__content__document_section",children:o("p",{className:"section__header",children:v.replace(/([A-Z])/g," $1").toUpperCase()})}),o("div",{className:"section__content",children:[o("p",{className:"document",children:o("span",{children:"Upload Option"})}),o("p",{children:[" ",_||"No document provided"]})]})]},v):o("div",{className:"document-item",children:o(P,{children:o("div",{className:"section__content",children:[o("p",{className:"document",children:o("span",{children:"Document"})}),o("p",{className:"document_item",children:[_,o("span",{children:o("img",{src:"/svgs/document_download.svg",alt:""})})]})]})})},v));return o("div",{className:"app-permit__sections",children:[o("br",{}),a.map(m=>o(ve,{type:"Primary",header:m.header,children:m.content,section:m.section})),o("div",{className:"section",children:o("div",{className:"section__content",children:[o("p",{className:"title",children:"Identification of potential hazards"}),o("p",{className:"info",children:Object.keys(c).length>0?l():o("p",{children:"No hazards selected."})})]})}),o(ve,{type:"Secondary",header:"Documents",children:s[0],section:(g=s[0])==null?void 0:g.section}),o("div",{className:"section",children:o("div",{className:"",children:o("p",{className:"info",children:Object.keys(i).length>0?d():o("p",{children:"No documents uploaded."})})})}),o("br",{})]})}function sL({}){const{tabs:r,activeTab:e}=Zt(["Performing Auth.","Issuing Auth","HSE Auth","Authorizing Auth","Perf. Auth. Supervisor","Safety Officer","Issuing. Auth. Supervisor"]),t={},n=()=>{V("/revalidate-perf-auth")};return o(P,{children:[" ",o(Ne,{title:"Activities"}),o("br",{}),o("div",{className:"app-permit__sections",children:o("div",{className:"actions",children:o("div",{className:"print",children:[o("div",{children:[o("h4",{children:"Revalidation Requested"}),o("p",{children:"Click the button to process the revalidate of this permit"})," "]}),o("button",{className:"flex-center",onClick:n,children:[o(ne,{name:"process"}),"Process Revalidation"]})]})})}),o("br",{}),o("div",{className:"app-authorities",children:[o(Oi,{tabs:r,counts:t,className:"app-authorities__tabs"}),o("div",{className:"app-authorities__content",children:[e==="Performing Auth."&&o(L5,{}),e==="Issuing Auth"&&o(ou,{}),e==="HSE Auth"&&o(au,{}),e==="Authorizing Auth"&&o(su,{}),e==="Perf. Auth. Supervisor"&&o(lu,{}),e==="Safety Officer"&&o(du,{}),e==="Issuing. Auth. Supervisor"&&o(cu,{})]})]})]})}function F5(){const{state:r,send:e}=_n(),t=()=>{e("submit",{data:{verification:{revalidateWorkAreaConfirmation:!0}}})},{values:n,handleSubmit:i}=se({validationSchema:cL,initialValues:{...r.context.verification},onSubmit:t}),a=window.location.pathname;return o("div",{children:o("form",{onSubmit:i,children:[a==="/revalidate-safety-officer"||a==="/revalidate-issuing-supervisor"?o("label",{class:"verification",children:[o(Ae,{checked:n.consentGiven,onChange:s=>{n.consentGiven=s.target.value}}),o("p",{children:"Confirm work area is safe to commence work"})]}):o(P,{children:[o("label",{class:"verification",children:[o(Ae,{checked:n.consentGiven,onChange:s=>{n.consentGiven=s.target.value}}),o("p",{children:["Confirm work area is checked and everything is safe to"," ",o("span",{className:"close",children:"Close"})," permit"]})]}),o("label",{class:"verification",children:[o(Ae,{checked:n.consentGiven,onChange:s=>{n.consentGiven=s.target.value}}),o("p",{children:["Confirm work area is checked and everything is safe to"," ",o("span",{className:"revalidate",children:"Revalidate"}),"permit"]})]})]}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>{window.location.href="/permit-activities"},children:"Back"}),o(x,{variant:"primary",onClick:()=>i,children:"Next"})]})]})})}const cL=re({});function ec({}){const{state:r,send:e}=_n(),t=u=>{e("submit",{data:{selected_documents:u}})},{setFieldValue:n,values:i,getFieldProps:a,handleSubmit:s}=se({validationSchema:lL,initialValues:{documents:{},...r.context.selected_documents},onSubmit:t}),c=(u,h)=>{n("documents",{...i.documents,[u]:h})},l=window.location.pathname,d=l==="/closure-safety-officer"||l==="/closure-perf-auth"||l==="/closure-issuing-supervisor"?["Tool Box Stock Doc"]:["Tool Box Stock Doc","Radiography Cert","Confined Space Cert","Gas Testing Cert"];return o(P,{children:o("form",{onSubmit:s,className:"app-register__attachment-form",children:[o("p",{children:"Select the document you want to upload below"}),o("div",{className:"app-register__form-grid app-create-permit__docs",children:d==null?void 0:d.map((u,h)=>o("div",{className:"",children:[o("label",{className:"app-register__attachment-form items-center",children:[o(Gt,{checked:!!(i.documents&&i.documents[u]),onChange:()=>c(u,!i.documents[u])}),o("span",{children:u})]}),o(tt,{...a(`document_${u}`),options:[{text:"Manual Upload",value:"manual"}]}),i.documents[u]&&!i[`document_${u}`]&&o("p",{className:"error",style:{color:"red"},children:"Please select an option for the selected document."})]},h))}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>e("go_back"),children:"Back"}),o(x,{variant:"primary",onClick:()=>s,children:"Next"})]})]})})}const lL=re().shape({documents:re().test("document-selection-validation","Please select a corresponding dropdown option for all selected documents.",(r,e)=>Object.entries(r||{}).filter(([n,i])=>i).every(([n])=>!!e.parent[`document_${n}`]))});function H5({}){const{send:r,state:e}=_n(),{setFieldValue:t,getFieldProps:n,handleSubmit:i}=se({initialValues:e.context.document_uploads,validationSchema:dL,onSubmit:u}),[a,s]=O({}),c=e.context.selected_documents;function l(h,p){s(f=>({...f,[h]:p}))}const d=Object.keys(c).filter(h=>h.startsWith("document_")&&c[h]==="manual").map(h=>({key:h,label:h.replace("document_","").replace(/_/g," ")}));function u(h){const p=Object.entries(a).reduce((f,[g,m])=>{const v=g.replace("document_","");return f[v]={type:"MANUAL",doc:m},f},{});r("submit",{data:{document_uploads:h,formattedDocuments:p}})}return o(P,{children:o("form",{onSubmit:i,className:"app-register__attachment-form",children:[o("p",{className:"app-create-permit__description",children:"Ensure you upload authentic documents that are clear and visible."}),o("div",{className:"app-register__form-grid app-create-permit__docs",children:d.map(({key:h,label:p})=>o(Fi,{label:p,...n(h),onChange:f=>t(h,f),onUploadComplete:f=>l(h,f)},h))}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>r("go_back"),children:"Previous"}),o(x,{variant:"primary",children:"Next"})]})]})})}const dL=re({});function U5(){const r=window.location.pathname,{state:e}=_n(),{makeRequest:t}=X(r==="/revalidate-safety-officer"?wk:Ck),[n,i]=O(!1),[a,s]=O(!1),{permit:c}=Xe();return Z(()=>{async function l(){i(!0);const d=Array.isArray(e.context.formattedDocuments)?e.context.formattedDocuments:Object.entries(e.context.formattedDocuments||{}).map(([m,v])=>({name:m,type:v.type||"MANUAL",doc:v.doc||""})),u=m=>m.replace(/\/.*|\(.*?\)/g,"").replace(/\./g,"").trim().replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,(v,_)=>_===0?v.toLowerCase():v.toUpperCase()).replace(/\s+/g,""),h=d.reduce((m,v)=>{const _=u(v.name);return _==="otherCert"&&(m[`${_}Name`]="..."),m[`${_}Type`]=v.type,m[`${_}`]=v.doc,m},{}),p={permitId:c==null?void 0:c.id,revalidateWorkAreaConfirmation:e.context.verification.revalidateWorkAreaConfirmation,documents:h},[f,g]=await t(p);if(g)return i(!1),q({variant:"error",message:g.message??"Failed to revalidate this permit, please try again"});i(!1),s(!0),q({variant:"success",message:"Permit Revalidation successful"})}l()},[e]),o("div",{className:"app-register__form",children:n?o(P,{children:o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/in-progress.svg",alt:""})}),o("p",{className:"submit-container__title",children:" Approving Permit ..."}),o("br",{}),o("p",{className:"submit-container__description",children:"Please wait as we process this permit."})]})})})}):a?o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/successful.svg",alt:""})}),o("p",{className:"submit-container__title",children:"Permit Approved"}),o("br",{}),o("p",{className:"submit-container__description",children:["You have successfully approved this permit."," "]}),o("br",{}),o("div",{className:"submit-container__button-container",children:[o(x,{variant:"tertiary",type:"button",onClick:()=>V("/process-permits"),children:"Home"}),o(x,{variant:"primary",type:"button",onClick:()=>V("/process-permits"),children:"View Permit"})]})]})})}):o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/submit-failed.svg",alt:""})}),o("p",{className:"submit-container__title",children:"Permit Approval Failed"}),o("br",{}),o("p",{className:"submit-container__description",children:"An error occurred while processing this permit."}),o("br",{}),o("div",{className:"submit-container__button-container",children:[o(x,{variant:"tertiary",type:"button",onClick:()=>V("/process-permits"),children:"Home"}),o(x,{variant:"primary",type:"button",onClick:()=>V("/process-permits"),children:"Redo Permit"})]})]})})})})}function uL(){var c;const{state:r}=_n(),e=r.toStrings()[0],t=Ju.indexOf(e)+1,n=(c=Object.values(r.meta))==null?void 0:c[0],[i,a]=O(!1),s=l=>{a(l),console.log(i)};return o("div",{className:"app-create-permit app-register",children:[o("div",{className:"app-register__nav-wrapper app-container-wrapper",children:o("div",{className:"app-container app-register__nav",children:[o(Tt,{href:"/",children:o("img",{src:"/svgs/logo.eptw.svg",alt:"eptw_logo",className:"permit-logo"})}),o("h5",{children:"Revalidate Permit"}),o("div",{className:"",children:o(x,{variant:"purple",onClick:()=>s(!0),children:"Permit Details"})})]})}),o("div",{className:"app-register__content-wrapper app-container-wrapper ",children:[o("div",{className:"app-register__content app-container",children:[!r.matches("submit")&&o(P,{children:[o("div",{className:"app-register__content__header app-create-permit__header",children:[o("h3",{children:n==null?void 0:n.title.replace(/_/g," ").replace(/\b\w/g,l=>l.toUpperCase())}),o("p",{children:["Step ",t," of ",Ju.length]})]}),o("div",{className:"app-register__progress-bar",children:o("span",{style:{width:`${t/Ju.length*100}%`}})})]}),r.matches("verification")&&o(F5,{}),r.matches("selected_documents")&&o(ec,{}),r.matches("document_uploads")&&o(H5,{}),r.matches("submit")&&o(U5,{})]}),o("img",{src:"/svgs/auth-blur.svg",alt:"auth-blur"})]}),o("div",{className:"",children:i&&o(Bn,{setModalOpen:()=>a(!1)})})]})}const Ju=["verification","selected_documents","document_uploads","submit"];function hL({}){return o(Gs,{children:o(uL,{})})}function pL(){var c;const{state:r}=_n(),e=r.toStrings()[0],t=eh.indexOf(e)+1,n=(c=Object.values(r.meta))==null?void 0:c[0],[i,a]=O(!1),s=l=>{a(l),console.log(i)};return o("div",{className:"app-create-permit app-register",children:[o("div",{className:"app-register__nav-wrapper app-container-wrapper",children:o("div",{className:"app-container app-register__nav",children:[o(Tt,{href:"/",children:o("img",{src:"/svgs/logo.eptw.svg",alt:"eptw_logo",className:"permit-logo"})}),o("h5",{children:"Revalidate Permit"}),o("div",{className:"",children:o(x,{variant:"purple",onClick:()=>s(!0),children:"Permit Details"})})]})}),o("div",{className:"app-register__content-wrapper app-container-wrapper ",children:[o("div",{className:"app-register__content app-container",children:[!r.matches("submit")&&o(P,{children:[o("div",{className:"app-register__content__header app-create-permit__header",children:[o("h3",{children:n==null?void 0:n.title.replace(/_/g," ").replace(/\b\w/g,l=>l.toUpperCase())}),o("p",{children:["Step ",t," of ",eh.length]})]}),o("div",{className:"app-register__progress-bar",children:o("span",{style:{width:`${t/eh.length*100}%`}})})]}),r.matches("verification")&&o(F5,{}),r.matches("selected_documents")&&o(ec,{}),r.matches("document_uploads")&&o(H5,{}),r.matches("submit")&&o(U5,{})]}),o("img",{src:"/svgs/auth-blur.svg",alt:"auth-blur"})]}),o("div",{className:"",children:i&&o(Bn,{setModalOpen:()=>a(!1)})})]})}const eh=["verification","selected_documents","document_uploads","submit"];function fL({}){return o(Gs,{children:o(pL,{})})}const mL=Ri({context:{verification:{revalidateWorkAreaConfirmation:!1},selected_documents:{documents:[]},document_uploads:{[`document_${Ge(8)}`]:null,[`document_${Ge(8)}`]:null,[`document_${Ge(8)}`]:null,[`document_${Ge(8)}`]:null},tool_kit_time:{toolBoxPosition:"",toolBoxLeaderIdentity:"",from_time:"",issuingAuthoritySupervisorTimeAdjustment:!1}},predictableActionArguments:!0,initial:"verification",states:{verification:{meta:{title:"Take Commitment",section:"A"},on:{submit:{target:"selected_documents",actions:["updateContext"]}}},selected_documents:{meta:{title:"Document Selection",section:"B"},on:{submit:{target:"document_uploads",actions:["updateContext"]},go_back:"verification"}},document_uploads:{meta:{title:"Document Uploads",section:"C"},on:{submit:[{target:"tool_kit_time",actions:["updateContext"]}],go_back:"selected_documents"}},tool_kit_time:{meta:{title:"Tool - Box Talk Details"},on:{submit:{target:"submit",actions:["updateContext"]},go_back:"document_uploads"}},submit:{type:"final",on:{submit:{target:"submit",actions:["updateContext"]},go_back:"document_uploads"}}}},{actions:{updateContext(r,e){Object.assign(r,e.data)}}}),$5=Ft({});function gL({children:r}){const[e,t,n]=Mi(mL);return Z(()=>{const i=n.subscribe(()=>window.scroll(0,0));return()=>{i.unsubscribe()}},[]),o($5.Provider,{value:{state:e,send:t},children:r})}function Ia(){return Yt($5)}function vL(){const{state:r,send:e}=Ia(),t=a=>{e("submit",{data:{selected_documents:a}})},{values:n,handleSubmit:i}=se({validationSchema:_L,initialValues:{...r.context.additional_values},onSubmit:t});return o("div",{children:o("form",{onSubmit:i,children:[o("label",{class:"verification",children:[o(Ae,{checked:n.consentGiven}),o("p",{children:"Confirm work area is safe to commence work"})]}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>{window.location.href="/permit-activities"},children:"Back"}),o(x,{variant:"primary",onClick:()=>i,children:"Next"})]})]})})}const _L=re({}),th=["Tool Box Stock Doc","Radiography Cert","Confined Space Cert","Gas Testing Cert"];function yL({}){const{state:r,send:e}=Ia(),t=l=>{e("submit",{data:{selected_documents:l}})},{setFieldValue:n,values:i,getFieldProps:a,handleSubmit:s}=se({validationSchema:CL,initialValues:{documents:{},...r.context.selected_documents},onSubmit:t}),c=(l,d)=>{n("documents",{...i.documents,[l]:d})};return o(P,{children:o("form",{onSubmit:s,className:"app-register__attachment-form",children:[o("p",{children:"Select the document you want to upload below"}),o("div",{className:"app-register__form-grid app-create-permit__docs",children:th==null?void 0:th.map((l,d)=>o("div",{className:"",children:[o("label",{className:"app-register__attachment-form items-center",children:[o(Gt,{checked:!!(i.documents&&i.documents[l]),onChange:()=>c(l,!i.documents[l])}),o("span",{children:l})]}),o(tt,{...a(`document_${l}`),options:[{text:"Manual Upload",value:"manual"}]}),i.documents[l]&&!i[`document_${l}`]&&o("p",{className:"error",style:{color:"red"},children:"Please select an option for the selected document."})]},d))}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>e("go_back"),children:"Back"}),o(x,{variant:"primary",onClick:()=>s,children:"Next"})]})]})})}const CL=re().shape({documents:re().test("document-selection-validation","Please select a corresponding dropdown option for all selected documents.",(r,e)=>Object.entries(r||{}).filter(([n,i])=>i).every(([n])=>!!e.parent[`document_${n}`]))});function bL({}){const{send:r,state:e}=Ia(),{setFieldValue:t,getFieldProps:n,handleSubmit:i}=se({initialValues:e.context.document_uploads,validationSchema:wL,onSubmit:u}),[a,s]=O({});function c(h,p){s(f=>({...f,[h]:p}))}const l=e.context.selected_documents,d=Object.keys(l).filter(h=>h.startsWith("document_")&&l[h]==="manual").map(h=>({key:h,label:h.replace("document_","").replace(/_/g," ")}));function u(h){const p=Object.entries(a).reduce((f,[g,m])=>{const v=g.replace("document_","");return f[v]={type:"MANUAL",doc:m},f},{});r("submit",{data:{document_uploads:h,formattedDocuments:p}})}return o(P,{children:o("form",{onSubmit:i,className:"app-register__attachment-form",children:[o("p",{className:"app-create-permit__description",children:"Ensure you upload authentic documents that are clear and visible."}),o("div",{className:"app-register__form-grid app-create-permit__docs",children:d.map(({key:h,label:p})=>o(Fi,{label:p,...n(h),onChange:f=>t(h,f),onUploadComplete:f=>c(h,f)},h))}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>r("go_back"),children:"Previous"}),o(x,{variant:"primary",children:"Next"})]})]})})}const wL=re({});function SL(){const{state:r,send:e}=Ia(),{getFieldProps:t,handleSubmit:n}=se({validationSchema:AL,initialValues:{...r.context.tool_kit_time},onSubmit:i});function i(a){e("submit",{data:{tool_kit_time:a}})}return o("form",{onSubmit:n,className:"app-register__form",children:[o("p",{children:"Fill in the fields below to update the toolbox stock form"}),o("br",{}),o("div",{className:"app-register__form-grid",children:[o(ee,{label:"Identity Leader",placeholder:"Enter fullname",...t("toolBoxLeaderIdentity")}),o(ee,{label:"Position",placeholder:"Enter position",...t("toolBoxPosition")})]}),o("h4",{children:"Adjust Time"}),o("p",{children:"Kindly re-djust the date & time as appropriate (Optional)"}),o("div",{className:"",children:o("div",{className:"get-current-date",children:[o("p",{children:"Current Permit Start - End Date & Time:"}),o("span",{children:"17 / 04 / 2022 08:00 AM - 17 / 04 / 2022 08:00 AM"})]})}),o("div",{className:"",children:o("div",{className:"",children:[o("div",{className:"",children:[o("h4",{children:"Edit Start Time"}),o("p",{class:"edit-start-time",children:["The time your are selecting must be more than the current time:",o("span",{children:"11:54:00PM"})]})]}),o("br",{}),o(ee,{label:"Time",type:"time",placeholder:"00:00AM",...t("from_time")})]})}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>e("go_back"),children:"Back"}),o(x,{variant:"primary",children:"SUBMIT"})," "]})]})}const AL=re({});function NL(){const{state:r}=Ia(),{makeRequest:e}=X(qk),[t,n]=O(!1),[i,a]=O(!1),{permit:s}=Xe();return Z(()=>{async function c(){var g,m,v,_;n(!0);const l=Array.isArray(r.context.formattedDocuments)?r.context.formattedDocuments:Object.entries(r.context.formattedDocuments||{}).map(([y,w])=>({name:y,type:w.type||"MANUAL",doc:w.doc||""})),d=y=>y.replace(/\/.*|\(.*?\)/g,"").replace(/\./g,"").trim().replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,(w,b)=>b===0?w.toLowerCase():w.toUpperCase()).replace(/\s+/g,""),u=l.reduce((y,w)=>{const b=d(w.name);return b==="otherCert"&&(y[`${b}Name`]="..."),y[`${b}Type`]=w.type,y[`${b}`]=w.doc,y},{}),h={permitId:s==null?void 0:s.id,revalidateWorkAreaConfirmation:(g=r.context.verification)==null?void 0:g.revalidateWorkAreaConfirmation,toolBoxLeaderIdentity:(m=r.context.tool_kit_time)==null?void 0:m.toolBoxLeaderIdentity,toolBoxPosition:(v=r.context.tool_kit_time)==null?void 0:v.toolBoxPosition,issuingAuthoritySupervisorTimeAdjustment:((_=r.context.tool_kit_time)==null?void 0:_.startTime)!=="",startTime:"1970-01-01T00:00:00Z",documents:u},[p,f]=await e(h);if(f)return n(!1),q({variant:"error",message:f.message??"Failed to revalidate this permit, please try again"});n(!1),a(!0),q({variant:"success",message:"Permit Revalidation Successful"}),n(!1)}c()},[r]),o("div",{className:"app-register__form",children:t?o(P,{children:o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/in-progress.svg",alt:""})}),o("p",{className:"submit-container__title",children:" Approving Permit ..."}),o("br",{}),o("p",{className:"submit-container__description",children:"Please wait as we process this permit."})]})})})}):i?o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/successful.svg",alt:""})}),o("p",{className:"submit-container__title",children:"Permit Approved"}),o("br",{}),o("p",{className:"submit-container__description",children:["You have successfully approved this permit."," "]}),o("br",{}),o("div",{className:"submit-container__button-container",children:[o(x,{variant:"tertiary",type:"button",onClick:()=>V("/process-permits"),children:"Home"}),o(x,{variant:"primary",type:"button",onClick:()=>V("/process-permits"),children:"View Permit"})]})]})})}):o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/submit-failed.svg",alt:""})}),o("p",{className:"submit-container__title",children:"Permit Approval Failed"}),o("br",{}),o("p",{className:"submit-container__description",children:"An error occurred while processing this permit."}),o("br",{}),o("div",{className:"submit-container__button-container",children:[o(x,{variant:"tertiary",type:"button",onClick:()=>V("/process-permits"),children:"Home"}),o(x,{variant:"primary",type:"button",onClick:()=>V("/process-permits"),children:"Redo Permit"})]})]})})})})}function EL(){var c;const{state:r}=Ia(),e=r.toStrings()[0],t=nh.indexOf(e)+1,n=(c=Object.values(r.meta))==null?void 0:c[0],[i,a]=O(!1),s=l=>{a(l),console.log(i)};return o("div",{className:"app-create-permit app-register",children:[o("div",{className:"app-register__nav-wrapper app-container-wrapper",children:o("div",{className:"app-container app-register__nav",children:[o(Tt,{href:"/",children:o("img",{src:"/svgs/logo.eptw.svg",alt:"eptw_logo",className:"permit-logo"})}),o("h5",{children:"Revalidate Permit"}),o("div",{className:"",children:o(x,{variant:"purple",onClick:()=>s(!0),children:"Permit Details"})})]})}),o("div",{className:"app-register__content-wrapper app-container-wrapper ",children:[o("div",{className:"app-register__content app-container",children:[!r.matches("submit")&&o(P,{children:[o("div",{className:"app-register__content__header app-create-permit__header",children:[o("h3",{children:n==null?void 0:n.title.replace(/_/g," ").replace(/\b\w/g,l=>l.toUpperCase())}),o("p",{children:["Step ",t," of ",nh.length]})]}),o("div",{className:"app-register__progress-bar",children:o("span",{style:{width:`${t/nh.length*100}%`}})})]}),r.matches("verification")&&o(vL,{}),r.matches("selected_documents")&&o(yL,{}),r.matches("document_uploads")&&o(bL,{}),r.matches("tool_kit_time")&&o(SL,{}),r.matches("submit")&&o(NL,{})]}),o("img",{src:"/svgs/auth-blur.svg",alt:"auth-blur"})]}),o("div",{className:"",children:i&&o(Bn,{setModalOpen:()=>a(!1)})})]})}const nh=["verification","selected_documents","document_uploads","tool_kit_time","submit"];function TL({}){return o(gL,{children:o(EL,{})})}function kL({}){const{valueID:r,setID:e}=$e(),t=r,[n,i]=O({});Z(()=>{async function d(){const h=(await K(`/permit/${t}`,"GET"))[0].data;i(h),e(h.id)}d()},[r]);const{tabs:a,activeTab:s}=Zt(["Performing Auth.","Issuing Auth","HSE Auth","Authorizing Auth","Perf. Auth. Supervisor","Safety Officer","Issuing. Auth. Supervisor"]),c={},l=d=>{switch(d.currentAuthority){case"PERFORMING_SUPERVISOR":V("/closure-perf-auth");break;case"SAFETY_OFFICER":V("/closure-safety-officer");break;case"ISSUING_SUPERVISOR":V("/closure-issuing-supervisor");break;default:V("/closure-perf-auth");break}};return o(P,{children:[" ",o(Ne,{title:"Activities"}),o("br",{}),o("div",{className:"app-permit__sections",children:o("div",{className:"actions",children:o("div",{className:"closure",children:[o("div",{children:[o("h4",{children:"Closure Requested"}),o("p",{children:"Click the button to process the closure of this permit"})," "]}),o("button",{className:"flex-center",onClick:()=>l(n),children:[o(ne,{name:"process"}),"Process Closure"]})]})})}),o("br",{}),o("div",{className:"app-authorities",children:[o(Oi,{tabs:a,counts:c,className:"app-authorities__tabs"}),o("div",{className:"app-authorities__content",children:[s==="Performing Auth."&&o(L5,{}),s==="Issuing Auth"&&o(ou,{}),s==="HSE Auth"&&o(au,{}),s==="Authorizing Auth"&&o(su,{}),s==="Perf. Auth. Supervisor"&&o(lu,{}),s==="Safety Officer"&&o(du,{}),s==="Issuing. Auth. Supervisor"&&o(cu,{})]})]})]})}function um(){const{state:r,send:e}=_n(),t=()=>{e("submit",{data:{verification:{closureWorkAreaConfirmation:!0}}})},{values:n,handleSubmit:i}=se({validationSchema:IL,initialValues:{...r.context.verification},onSubmit:t}),a=window.location.pathname;return o("div",{children:o("form",{onSubmit:i,children:[a==="/closure-safety-officer"||a==="/closure-issuing-supervisor"?o("label",{className:"verification",children:[o(Ae,{checked:n.consentGiven,onChange:s=>{n.consentGiven=s.target.checked}}),o("p",{children:"Confirm work area is safe to commence work"})]}):o(P,{children:o("label",{className:"verification",children:[o(Ae,{checked:n.consentGiven,onChange:s=>{n.consentGiven=s.target.checked}}),o("p",{children:["Confirm work area is checked and everything is safe to"," ",o("span",{className:"close",children:"Close"})," permit"]})]})}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>{window.location.href="/permit-activities"},children:"Back"}),o(x,{variant:"primary",type:"submit",children:"Next"})]})]})})}const IL=re({});function hm({}){const{send:r,state:e}=_n(),{setFieldValue:t,getFieldProps:n,handleSubmit:i}=se({initialValues:e.context.document_uploads,validationSchema:xL,onSubmit:u}),a=e.context.selected_documents,[s,c]=O({});function l(h,p){c(f=>({...f,[h]:p}))}const d=Object.keys(a).filter(h=>h.startsWith("document_")&&a[h]==="manual").map(h=>({key:h,label:h.replace("document_","").replace(/_/g," ")}));function u(h){const p=Object.entries(s).reduce((f,[g,m])=>{const v=g.replace("document_","");return f[v]={type:"MANUAL",doc:m},f},{});r("submit",{data:{document_uploads:h,formattedDocuments:p}})}return o(P,{children:o("form",{onSubmit:i,className:"app-register__attachment-form",children:[o("p",{className:"app-create-permit__description",children:"Ensure you upload authentic documents that are clear and visible."}),o("div",{className:"app-register__form-grid app-create-permit__docs",children:d.map(({key:h,label:p})=>o(Fi,{label:p,...n(h),onChange:f=>t(h,f),onUploadComplete:f=>l(h,f)},h))}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>r("go_back"),children:"Previous"}),o(x,{variant:"primary",children:"Next"})]})]})})}const xL=re({});function PL(){var c;const{state:r}=_n(),e=r.toStrings()[0],t=rh.indexOf(e)+1,n=(c=Object.values(r.meta))==null?void 0:c[0],[i,a]=O(!1),s=l=>{a(l),console.log(i)};return o("div",{className:"app-create-permit app-register",children:[o("div",{className:"app-register__nav-wrapper app-container-wrapper",children:o("div",{className:"app-container app-register__nav",children:[o(Tt,{href:"/",children:o("img",{src:"/svgs/logo.eptw.svg",alt:"eptw_logo",className:"permit-logo"})}),o("h5",{children:"Permit Closure"}),o("div",{className:"",children:o(x,{variant:"purple",onClick:()=>s(!0),children:"Permit Details"})})]})}),o("div",{className:"app-register__content-wrapper app-container-wrapper ",children:[o("div",{className:"app-register__content app-container",children:[!r.matches("submit")&&o(P,{children:[o("div",{className:"app-register__content__header app-create-permit__header",children:[o("h3",{children:n==null?void 0:n.title.replace(/_/g," ").replace(/\b\w/g,l=>l.toUpperCase())}),o("p",{children:["Step ",t," of ",rh.length]})]}),o("div",{className:"app-register__progress-bar",children:o("span",{style:{width:`${t/rh.length*100}%`}})})]}),r.matches("verification")&&o(um,{}),r.matches("selected_documents")&&o(ec,{}),r.matches("document_uploads")&&o(hm,{}),r.matches("submit")&&o(dI,{})]}),o("img",{src:"/svgs/auth-blur.svg",alt:"auth-blur"})]}),o("div",{className:"",children:i&&o(Bn,{setModalOpen:()=>a(!1)})})]})}const rh=["verification","selected_documents","document_uploads","submit"];function DL({}){return o(Gs,{children:o(PL,{})})}function OL(){const{state:r}=_n(),{makeRequest:e}=X(zk),[t,n]=O(!1),[i,a]=O(!1),{permit:s}=Xe();return Z(()=>{async function c(){n(!0);const l=Array.isArray(r.context.formattedDocuments)?r.context.formattedDocuments:Object.entries(r.context.formattedDocuments||{}).map(([g,m])=>({name:g,type:m.type||"MANUAL",doc:m.doc||""})),d=g=>g.replace(/\/.*|\(.*?\)/g,"").replace(/\./g,"").trim().replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,(m,v)=>v===0?m.toLowerCase():m.toUpperCase()).replace(/\s+/g,""),u=l.reduce((g,m)=>{const v=d(m.name);return v==="otherCert"&&(g[`${v}Name`]="..."),g[`${v}Type`]=m.type,g[`${v}`]=m.doc,g},{}),h={permitId:s==null?void 0:s.id,closureWorkAreaConfirmation:r.context.verification.closureWorkAreaConfirmation,documents:u};console.log(h);const[p,f]=await e(h);if(f)return n(!1),q({variant:"error",message:f.message??"Failed to close permit, please try again"});n(!1),a(!0),q({variant:"success",message:"Permit closure approved successfully"})}c()},[r]),o("div",{className:"app-register__form",children:t?o(P,{children:o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/in-progress.svg",alt:""})}),o("p",{className:"submit-container__title",children:" Approving Permit ..."}),o("br",{}),o("p",{className:"submit-container__description",children:"Please wait as we process this permit."})]})})})}):i?o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/successful.svg",alt:""})}),o("p",{className:"submit-container__title",children:"Permit Approved"}),o("br",{}),o("p",{className:"submit-container__description",children:["You have successfully approved this permit."," "]}),o("br",{}),o("div",{className:"submit-container__button-container",children:[o(x,{variant:"tertiary",type:"button",onClick:()=>V("/permit-activities"),children:"Home"}),o(x,{variant:"primary",type:"button",onClick:()=>V("/permit-activities"),children:"View Permit"})]})]})})}):o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/submit-failed.svg",alt:""})}),o("p",{className:"submit-container__title",children:"Permit Approval Failed"}),o("br",{}),o("p",{className:"submit-container__description",children:"An error occurred while processing this permit."}),o("br",{}),o("div",{className:"submit-container__button-container",children:[o(x,{variant:"tertiary",type:"button",onClick:()=>V("/permit-activities"),children:"Home"}),o(x,{variant:"primary",type:"button",onClick:()=>V("/permit-activities"),children:"Redo Permit"})]})]})})})})}function RL(){var c;const{state:r}=_n(),e=r.toStrings()[0],t=ih.indexOf(e)+1,n=(c=Object.values(r.meta))==null?void 0:c[0],[i,a]=O(!1),s=l=>{a(l),console.log(i)};return o("div",{className:"app-create-permit app-register",children:[o("div",{className:"app-register__nav-wrapper app-container-wrapper",children:o("div",{className:"app-container app-register__nav",children:[o(Tt,{href:"/",children:o("img",{src:"/svgs/logo.eptw.svg",alt:"eptw_logo",className:"permit-logo"})}),o("h5",{children:" Permit Closure"}),o("div",{className:"",children:o(x,{variant:"purple",onClick:()=>s(!0),children:"Permit Details"})})]})}),o("div",{className:"app-register__content-wrapper app-container-wrapper ",children:[o("div",{className:"app-register__content app-container",children:[!r.matches("submit")&&o(P,{children:[o("div",{className:"app-register__content__header app-create-permit__header",children:[o("h3",{children:n==null?void 0:n.title.replace(/_/g," ").replace(/\b\w/g,l=>l.toUpperCase())}),o("p",{children:["Step ",t," of ",ih.length]})]}),o("div",{className:"app-register__progress-bar",children:o("span",{style:{width:`${t/ih.length*100}%`}})})]}),r.matches("verification")&&o(um,{}),r.matches("selected_documents")&&o(ec,{}),r.matches("document_uploads")&&o(hm,{}),r.matches("submit")&&o(OL,{})]}),o("img",{src:"/svgs/auth-blur.svg",alt:"auth-blur"})]}),o("div",{className:"",children:i&&o(Bn,{setModalOpen:()=>a(!1)})})]})}const ih=["verification","selected_documents","document_uploads","submit"];function ML({}){return o(Gs,{children:o(RL,{})})}function LL(){const{state:r}=_n(),{makeRequest:e}=X(jk),[t,n]=O(!1),[i,a]=O(!1),{permit:s}=Xe();return Z(()=>{async function c(){n(!0);const l=Array.isArray(r.context.formattedDocuments)?r.context.formattedDocuments:Object.entries(r.context.formattedDocuments||{}).map(([g,m])=>({name:g,type:m.type||"MANUAL",doc:m.doc||""})),d=g=>g.replace(/\/.*|\(.*?\)/g,"").replace(/\./g,"").trim().replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,(m,v)=>v===0?m.toLowerCase():m.toUpperCase()).replace(/\s+/g,""),u=l.reduce((g,m)=>{const v=d(m.name);return v==="otherCert"&&(g[`${v}Name`]="..."),g[`${v}Type`]=m.type,g[`${v}`]=m.doc,g},{}),h={permitId:s==null?void 0:s.id,closureWorkAreaConfirmation:r.context.verification.closureWorkAreaConfirmation,documents:u};console.log(h);const[p,f]=await e(h);if(f)return n(!1),q({variant:"error",message:f.message??"Failed to close permit, please try again"});n(!1),a(!0),q({variant:"success",message:"Permit closure approved successfully"})}c()},[r]),o("div",{className:"app-register__form",children:t?o(P,{children:o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/in-progress.svg",alt:""})}),o("p",{className:"submit-container__title",children:" Approving Permit ..."}),o("br",{}),o("p",{className:"submit-container__description",children:"Please wait as we process this permit."})]})})})}):i?o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/successful.svg",alt:""})}),o("p",{className:"submit-container__title",children:"Permit Approved"}),o("br",{}),o("p",{className:"submit-container__description",children:["You have successfully approved this permit."," "]}),o("br",{}),o("div",{className:"submit-container__button-container",children:[o(x,{variant:"tertiary",type:"button",onClick:()=>V("/process-permits"),children:"Home"}),o(x,{variant:"primary",type:"button",onClick:()=>V("/process-permits"),children:"View Permit"})]})]})})}):o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/submit-failed.svg",alt:""})}),o("p",{className:"submit-container__title",children:"Permit Approval Failed"}),o("br",{}),o("p",{className:"submit-container__description",children:"An error occurred while processing this permit."}),o("br",{}),o("div",{className:"submit-container__button-container",children:[o(x,{variant:"tertiary",type:"button",onClick:()=>V("/process-permits"),children:"Home"}),o(x,{variant:"primary",type:"button",onClick:()=>V("/process-permits"),children:"Redo Permit"})]})]})})})})}function FL(){var c;const{state:r}=_n(),e=r.toStrings()[0],t=oh.indexOf(e)+1,n=(c=Object.values(r.meta))==null?void 0:c[0],[i,a]=O(!1),s=l=>{a(l),console.log(i)};return o("div",{className:"app-create-permit app-register",children:[o("div",{className:"app-register__nav-wrapper app-container-wrapper",children:o("div",{className:"app-container app-register__nav",children:[o(Tt,{href:"/",children:o("img",{src:"/svgs/logo.eptw.svg",alt:"eptw_logo",className:"permit-logo"})}),o("h5",{children:"Permit Closure"}),o("div",{className:"",children:o(x,{variant:"purple",onClick:()=>s(!0),children:"Permit Details"})})]})}),o("div",{className:"app-register__content-wrapper app-container-wrapper ",children:[o("div",{className:"app-register__content app-container",children:[!r.matches("submit")&&o(P,{children:[o("div",{className:"app-register__content__header app-create-permit__header",children:[o("h3",{children:n==null?void 0:n.title.replace(/_/g," ").replace(/\b\w/g,l=>l.toUpperCase())}),o("p",{children:["Step ",t," of ",oh.length]})]}),o("div",{className:"app-register__progress-bar",children:o("span",{style:{width:`${t/oh.length*100}%`}})})]}),r.matches("verification")&&o(um,{}),r.matches("selected_documents")&&o(ec,{}),r.matches("document_uploads")&&o(hm,{}),r.matches("submit")&&o(LL,{})]}),o("img",{src:"/svgs/auth-blur.svg",alt:"auth-blur"})]}),o("div",{className:"",children:i&&o(Bn,{setModalOpen:()=>a(!1)})})]})}const oh=["verification","selected_documents","document_uploads","submit"];function HL({}){return o(Gs,{children:o(FL,{})})}function UL({}){const[r,e]=O("All Locations"),[t,n]=O("All Work Types"),i=["All Work Types","COLD_WORK","HOT_WORK"],{setID:a}=$e(),{updatePermit:s}=Xe(),{response:c,isLoading:l}=X(Qd,{},!0),d=b=>{a(b.id),s(b),V("/permit-storage/details")},u=(b,C)=>b?b.length>C?`${b.slice(0,C)}...`:b:"",[h,p]=O(""),g=((c==null?void 0:c.data)||[]).filter(b=>{var E,I;const C=b.publicId,N=b.type,S=((E=b.workArea)==null?void 0:E.toLowerCase())||"",k=((I=b.entrustedCompany)==null?void 0:I.name.toLowerCase())||"",T=C.includes(h.toLowerCase())||N.includes(h.toLowerCase())||S.includes(h.toLowerCase())||k.includes(h.toLowerCase())||h==="",A=t==="All Work Types"||b.type===t;return T&&A}),[m,v]=O(1),_=10,y=g.sort((b,C)=>new Date(C.createdAt).getTime()-new Date(b.createdAt).getTime()),w=Er(y,m,_);return o(P,{children:[o(Ne,{title:"Storage"}),o("div",{className:"app-section__header",children:[o($n,{placeholder:"Search permits",onSearch:p}),o("br",{}),o("div",{className:"app-section__filters ",children:[o("span",{className:"base-date-filter--secondary",children:"Filter by:"}),o("div",{className:"sm-grid-cols-2 app-section__filters",children:[o(kt,{className:"base-dropdown__dropdown-wrapper",children:[o(It,{children:r}),o(xt,{children:oi.map(b=>o("div",{className:"base-dropdown__option",onClick:()=>e(b.value),children:b.text},b.value))})]}),o(kt,{className:"base-dropdown__dropdown-wrapper",children:[o(It,{children:t}),o(xt,{children:i.map(b=>o("div",{className:"base-dropdown__option",onClick:()=>n(b),children:b},b))})]})]})]})]}),o("div",{className:"app-section",children:[o("div",{className:"app-section__lg-table",children:o(je,{children:[o(Ct,{children:o(me,{children:[o(D,{children:"PTW ID."}),o(D,{children:"Work Type"}),o(D,{children:"Work To Be Performed"}),o(D,{children:"Work Location"}),o(D,{children:"Company"}),o(D,{children:"Status / Authority"}),o(D,{})]})}),o(Qe,{children:w.filter(b=>b.status==="CLOSED"||b.status==="CANCELED").map(b=>{var C,N;return o(P,{children:[" ",o(me,{children:[" ",o(D,{children:b.publicId}),o(D,{children:gn(b.type)}),o(D,{children:u(b.workDescription,45)}),o(D,{children:o("span",{children:[b.workArea," / ",(C=b.location)==null?void 0:C.locationArea]})}),o(D,{children:(N=b.entrustedCompany)==null?void 0:N.name}),o(D,{children:o("h6",{className:`${b.status==="Draft"?"draft-status":"others-status"}`,children:[b.status," / ",b.currentAuthority]})}),o(D,{children:o(x,{onClick:()=>d(b),children:"View"})})]},b.id),o("br",{})]})})})]})}),o("div",{className:"app-section__sm-table",children:[o(je,{children:o(Qe,{children:w.filter(b=>b.status==="CLOSED"||b.status==="CANCELED").map(b=>o("div",{className:"container",onClick:()=>d(b),children:[o("div",{className:"location-flex",children:[o("p",{children:b.publicId}),o("h6",{className:"gray",children:gn(b.type)})]}),o("p",{children:u(b.workDescription,45)}),o("div",{className:"location-flex",children:o("div",{className:"items-center",children:[o("p",{className:"gray",children:"Status / Authority:"}),o("h6",{className:"others-status",children:[b.status," / ",b.currentAuthority]})]})})]},b.id))})}),g.length&&o(kr,{totalItems:g.length,itemsPerPage:_,currentPage:m,onPageChange:v})]}),!g.length&&o("div",{className:"base-empty",children:[o("img",{src:"/svgs/document.svg"}),o("p",{children:l?"Fetching permits, please wait...":"No permits yet"})]})]})]})}function $L({}){const{tabs:r,activeTab:e}=Zt(["PTW Details","Action History","Onsite Notes & Comments"]),t={};return o(P,{children:[o(Ne,{title:"Storage"}),o(Oi,{tabs:r,counts:t,className:"app-permit__tabs"}),e==="PTW Details"&&o(lm,{}),e==="Action History"&&o(dm,{}),e==="Onsite Notes & Comments"&&o(E5,{})]})}function BL(){const{permit:r}=Xe(),{getFieldProps:e,handleSubmit:t}=se({validationSchema:VL,initialValues:{permitId:0,content:""},onSubmit:a}),{makeRequest:n,isLoading:i}=X(Kk);async function a(s){const[c,l]=await n({permitId:r==null?void 0:r.id,content:s.content});if(l)return q({variant:"error",message:l.message});q({variant:"success",message:"Successful"}),V("/monitoring-details")}return o("div",{className:"app-create-permit app-register",children:[o("div",{className:"app-register__nav-wrapper app-container-wrapper",children:o("div",{className:"app-container app-register__nav",children:[o(Tt,{href:"/",children:o("img",{src:"/svgs/logo.eptw.svg",alt:"eptw_logo",className:"permit-logo"})}),o(Tt,{href:"/",className:"app-link",children:"Click here to go back?"})]})}),o("div",{className:"app-register__content-wrapper app-container-wrapper ",children:[o("div",{className:"app-register__content app-container",children:[o("h3",{children:"Onsite Comments & Notes"}),o("br",{}),o("form",{onSubmit:t,children:[o(ln,{placeholder:"Enter your comments",...e("content")}),o("div",{className:"app-submit-screen",children:o("div",{className:"app-register__form-footer",children:[o("span",{}),o(x,{variant:"primary",type:"submit",isLoading:i,children:"SUBMIT"})]})})]})]}),o("img",{src:"/svgs/auth-blur.svg",alt:"auth-blur"})]})]})}const VL=re({});function YL({}){return o(BL,{})}function WL(){const{state:r}=tr(),{makeRequest:e}=X(__),[t,n]=O(!1),[i,a]=O(!1),{valueID:s}=$e(),c=s;return Z(()=>{async function l(){var _,y,w,b,C,N,S;n(!0);const d=((_=r.context.work_hazards)==null?void 0:_.hazards)||{},u={};Object.entries(d).forEach(([k,T])=>{console.log(k,T),T!==void 0&&(u[k]=T)});const h=Array.isArray(r.context.formattedDocuments)?r.context.formattedDocuments:Object.entries(r.context.formattedDocuments||{}).map(([k,T])=>({name:k,type:T.type||"MANUAL",doc:T.doc||""})),p=k=>k.replace(/\/.*|\(.*?\)/g,"").replace(/\./g,"").trim().replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,(T,A)=>A===0?T.toLowerCase():T.toUpperCase()).replace(/\s+/g,""),f=h.reduce((k,T)=>{const A=p(T.name);return A==="otherCert"&&(k[`${A}Name`]="..."),k[`${A.replace(/Doc$/i,"")}Type`]=T.type,k[`${A}`]=T.doc,k},{}),g={permitId:c,hazards:{potentialHazardDescription:((y=r.context.work_hazards)==null?void 0:y.potentialHazardDescription)||"",...u},protectiveEquipment:(w=r.context.personal_protective_equipment)==null?void 0:w.protectiveEquipment,firefightingPrecaution:{otherPrecaution:((b=r.context.firefighting_precaution)==null?void 0:b.otherPrecaution)||"",...(C=r.context.firefighting_precaution)==null?void 0:C.firefightingPrecaution},documents:f,mechanicalIsolationPrecaution:(N=r.context.mechanical_precaution)==null?void 0:N.mechanicalPrecaution,electricalIsolationPrecaution:(S=r.context.electrical_precaution)==null?void 0:S.electricalPrecaution},[m,v]=await e(g);if(v)return n(!1),q({variant:"error",message:v.message??"Failed to approve permit, please try again"});n(!1),a(!0),q({variant:"success",message:"Permit approved successfully"})}l()},[r]),o("div",{className:"app-register__form",children:t?o(P,{children:o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/in-progress.svg",alt:""})}),o("p",{className:"submit-container__title",children:" Approving Permit ..."}),o("br",{}),o("p",{className:"submit-container__description",children:"Please wait as we process this permit."})]})})})}):i?o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/successful.svg",alt:""})}),o("p",{className:"submit-container__title",children:"Permit Approved"}),o("br",{}),o("p",{className:"submit-container__description",children:["You have successfully approved this permit."," "]}),o("br",{}),o("div",{className:"submit-container__button-container",children:[o(x,{variant:"tertiary",type:"button",onClick:()=>V("/process-permits"),children:"Home"}),o(x,{variant:"primary",type:"button",onClick:()=>V("/process-permits"),children:"View Permit"})]})]})})}):o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/submit-failed.svg",alt:""})}),o("p",{className:"submit-container__title",children:"Permit Approval Failed"}),o("br",{}),o("p",{className:"submit-container__description",children:"An error occurred while processing this permit."}),o("br",{}),o("div",{className:"submit-container__button-container",children:[o(x,{variant:"tertiary",type:"button",onClick:()=>V("/process-permits"),children:"Home"}),o(x,{variant:"primary",type:"button",onClick:()=>V("/process-permits"),children:"Redo Permit"})]})]})})})})}function zL(){const{state:r}=tr(),e=r.toStrings()[0],t=Vc.indexOf(e)+1,n=Vc.includes(e)?{title:Ar(e.replace("_"," "))}:null,[i,a]=O(!1),s=c=>{a(c),console.log(i)};return o("div",{className:"app-create-permit app-register",children:[o("div",{className:"app-register__nav-wrapper app-container-wrapper",children:o("div",{className:"app-container app-register__nav",children:[o(Tt,{href:"/",children:o("img",{src:"/svgs/logo.eptw.svg",alt:"eptw_logo",className:"permit-logo"})}),o("h5",{children:"Process Permit"}),o("div",{className:"",children:o(x,{variant:"purple",onClick:()=>s(!0),children:"Permit Details"})})]})}),o("div",{className:"app-register__content-wrapper app-container-wrapper ",children:[o("div",{className:"app-register__content app-container",children:[!r.matches("submit")&&o(P,{children:[o("div",{className:"app-register__content__header app-create-permit__header",children:[o("h3",{children:n==null?void 0:n.title.replace(/_/g," ").replace(/\b\w/g,c=>c.toUpperCase())}),o("h3",{children:n==null?void 0:n.title}),o("p",{children:["Step ",t," of ",Vc.length-1]})]}),o("div",{className:"app-register__progress-bar",children:o("span",{style:{width:`${(t/Vc.length-1)*100}%`}})})]}),r.matches("work_hazards")&&o(I5,{}),r.matches("personal_protective_equipment")&&o(x5,{}),r.matches("firefighting_equipment")&&o(P5,{}),r.matches("selected_documents")&&o(D5,{}),r.matches("document_uploads")&&o(O5,{}),r.matches("mechanical_precaution")&&o(R5,{}),r.matches("electrical_precaution")&&o(M5,{}),r.matches("submit")&&o(WL,{})]}),o("img",{src:"/svgs/auth-blur.svg",alt:"auth-blur"})]}),o("div",{className:"",children:i&&o(Bn,{setModalOpen:()=>a(!1)})})]})}const Vc=["work_hazards","personal_protective_equipment","firefighting_equipment","selected_documents","document_uploads","mechanical_precaution","electrical_precaution","adjust_time_date","submit"];function jL({}){return o(k5,{children:o(ka,{children:o(zL,{})})})}function qL(){const{state:r,send:e}=Ir(),{valueID:t}=$e(),n=t,[i,a]=O({from_date:"",from_time:"",to_date:"",to_time:""});Z(()=>{async function d(){const h=(await K(`/permit/${n}`,"GET"))[0].data;a(h)}d()},[t]);const{getFieldProps:s,handleSubmit:c}=se({validationSchema:KL,initialValues:{...r.context.adjust_date_time},onSubmit:l});function l(d){e("submit",{data:{adjust_date_time:d}})}return o("form",{onSubmit:c,className:"app-register__form",children:[o("h4",{children:"Kindly re-djust the date & time as appropriate (Optional)"}),o("div",{className:"",children:o("div",{className:"get-current-date",children:[o("p",{children:"Current Permit Start - End Date & Time:"}),o("span",{children:[le(i.from_date).format("DD/MM/YYYY")," :"," ",le(i.from_time).format("hh:mm A")," -"," ",le(i.to_date).format("DD/MM/YYYY")," :"," ",le(i.to_time).format("hh:mm A")," "]})]})}),o("h4",{children:"Adjust Permit Date & Time"}),o("div",{className:"app-register__form-grid",children:[o("div",{className:"app-register__form-grid show",children:[o(ee,{label:"From Date",placeholder:"dd / mm / yyyy",type:"date",...s("fromDate")}),o(ee,{label:"Time",type:"time",...s("fromTime")})]}),o("div",{className:"app-register__form-grid show",children:[o(ee,{label:"To Date",placeholder:"dd / mm / yyyy",type:"date",...s("toDate")}),o(ee,{label:"Time",type:"time",placeholder:"00:00AM",...s("toTime")})]})]}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>e("go_back"),children:"Back"}),o(x,{variant:"primary",children:"SUBMIT"})," "]})]})}const KL=re({});function GL(){var b,C,N,S,k,T;const{send:r,state:e}=Ir(),{permit:t}=Xe(),n=t,i=((C=(b=n==null?void 0:n.permitHazards)==null?void 0:b[0])==null?void 0:C.hazard)??null,a=((S=(N=n==null?void 0:n.permitHazards)==null?void 0:N[1])==null?void 0:S.hazard)??null,s=((T=(k=n==null?void 0:n.permitHazards)==null?void 0:k[2])==null?void 0:T.hazard)??null,c=Me(()=>{if(!i||!a||!s)return{};const A={};return Object.keys(i).forEach(E=>{i[E]===null&&a[E]===null&&s[E]===null?A[E]=null:A[E]=!0}),A},[i,a,s]),l=Me(()=>{console.log(c);const A=Object.entries(c||{}).filter(([I,R])=>R===null&&!["id","createdAt","updatedAt","potentialHazardDescription"].includes(I)).map(([I,R])=>({key:I,value:R??!1}));return X0.filter(I=>A.some(R=>R.key===I.value))},[i]),d=A=>Object.entries(A||{}).filter(([R,M])=>M!==null&&!["id","createdAt","updatedAt","potentialHazardDescription"].includes(R)).map(([R,M])=>({key:R,value:M??!1})).map(({key:R,value:M})=>o("div",{className:"firefighting-item",children:o("p",{children:[o("span",{className:"firefighting-value",children:M?"YES":"NO"})," -"," ",R.replace(/([A-Z])/g," $1").toUpperCase()," "]})},R)),u=X0.reduce((A,E)=>{var I,R;return A[E.value]=((R=(I=e.context.work_hazards)==null?void 0:I.hazards)==null?void 0:R[E.value])??void 0,A},{}),{handleSubmit:h,setFieldValue:p,values:f,getFieldProps:g}=se({validationSchema:QL,initialValues:{...e.context.work_hazards,hazards:u},onSubmit:v});function m(A,E){p("hazards",{...f.hazards,[A]:E})}function v(A){r("submit",{data:{work_hazards:A}})}const _=[{section:"D",header:"Hazard Identification",second_title:"Selected potential hazards",content:[]}],[y,w]=O(!1);return o(P,{children:[o("form",{onSubmit:h,children:[o("div",{className:"app-register__form",children:[o(ve,{type:"Hazards",header:"Hazards",children:_[0],section:_[0].section}),o("div",{className:"grid-cols-2",children:[o("div",{className:"section",children:o("div",{className:"section__content",children:[o("p",{className:"title",children:"Performing Authority"}),o("p",{className:"info",children:d(i)})]})}),o("div",{className:"section",children:o("div",{className:"section__content",children:[o("p",{className:"title",children:"Issuing Authority"}),o("p",{className:"info",children:d(a)})]})}),o("div",{className:"section",children:o("div",{className:"section__content",children:[o("p",{className:"title",children:"HSE Authority"}),o("p",{className:"info",children:d(s)})]})})]})]}),o("div",{className:"app-create-permit__group-header",children:"Identification of Hazards"}),o("div",{className:"app-register__form",children:[l.map(A=>{var E,I;return o("div",{className:"app-create-permit__radio-container",children:[o("p",{children:A.text}),o("div",{children:[o(Ae,{checked:((E=f.hazards)==null?void 0:E[A.value])===!0,onChange:()=>m(A.value,!0),label:"YES"}),o(Ae,{checked:((I=f.hazards)==null?void 0:I[A.value])===!1,onChange:()=>m(A.value,!1),label:"NO"})]})]})}),o(ee,{type:"text",label:"Others",placeholder:"Others",...g("otherHazard")})]}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"danger",type:"button",onClick:()=>w(!0),children:"Send Back To Authority"}),o(x,{variant:"secondary",type:"button",onClick:()=>window.location.href="/permit-workflows",children:"Previous"}),o(x,{variant:"primary",children:"Next"})]})]}),y&&o(yn,{setModalOpen:()=>w(!1)})]})}const X0=[{text:"NOISE",value:"noise"},{text:"TOXIC SUBSTANCE",value:"toxicSubstance"},{text:"CHEMICAL",value:"chemical"},{text:"EXPLOSIVES",value:"explosives"},{text:"HEIGHT",value:"height"},{text:"OVERHEAD HAZARDS, CRANES, ETC",value:"overheadCranes"},{text:"ILLUMINATING",value:"illuminating"},{text:"SPILL (CONTAINMENT IN PLACE)",value:"spill"},{text:"FALLING OBJECTS",value:"falling"},{text:"RADIATION",value:"radiation"},{text:"TYPE OF WASTE IS KNOWN",value:"knownWaste"}],QL=re({});function ZL(){var w,b,C,N;const{send:r,state:e}=Ir(),{permit:t}=Xe(),n=t,i=window.location.pathname,a=n!=null&&n.protectiveEquipments&&((w=n==null?void 0:n.protectiveEquipments)==null?void 0:w.length)>0?(b=n.protectiveEquipments[0])==null?void 0:b.protectiveEquipment:null,s=n!=null&&n.hseEquipprotectiveEquipmentsments&&((C=n==null?void 0:n.protectiveEquipments)==null?void 0:C.length)>0?(N=n.protectiveEquipments[1])==null?void 0:N.protectiveEquipment:null,c=Me(()=>{if(!a||!s)return a||s||{};const S={};return Object.keys(a).forEach(k=>{a[k]===null&&s[k]===null?S[k]=null:S[k]=!0}),S},[a,s]);console.log(c);const l=Me(()=>{const S=Object.entries(c||{}).filter(([T,A])=>A===null&&!["id","createdAt","updatedAt"].includes(T)).map(([T,A])=>({key:T,value:A??!1}));return J0.filter(T=>S.some(A=>A.key===T.value))},[a]),d=S=>Object.entries(S||{}).filter(([A,E])=>E!==null&&!["id","createdAt","updatedAt","potentialHazardDescription"].includes(A)).map(([A,E])=>({key:A,value:E??!1})).map(({key:A,value:E})=>o("div",{className:"firefighting-item",children:o("p",{children:[o("span",{className:"firefighting-value",children:E?"YES":"NO"})," -"," ",A.replace(/([A-Z])/g," $1").toUpperCase()," "]})},A));let u={};i==="/activities-process/auth"?u=J0.reduce((S,k)=>{var T,A;return S[k.value]=((A=(T=e.context.personal_protective_equipment)==null?void 0:T.personal_protective_equipment)==null?void 0:A[k.value])??void 0,S},{}):u={};const{handleSubmit:h,setFieldValue:p,values:f}=se({validationSchema:XL,initialValues:{...e.context.personal_protective_equipment,protectiveEquipment:u},onSubmit:m});function g(S,k){p("protectiveEquipment",{...f.protectiveEquipment,[S]:k})}function m(S){r("submit",{data:{personal_protective_equipment:S}})}const[v,_]=O(!1),y=[{section:"D",header:"Selected Equipment",second_title:"",content:[]}];return o(P,{children:[o("form",{onSubmit:h,children:[o("div",{className:"app-register__form",children:i==="/activities-process/hse"&&o(P,{children:[o(ve,{type:"Selected Equipment",header:"Hazards",children:y[0],section:y[0].section}),o("div",{className:"grid-cols-2",children:[o("div",{className:"section",children:o("div",{className:"section__content",children:[o("p",{className:"title",children:"Issuing Authority"}),o("p",{className:"info",children:d(a)})]})}),o("div",{className:"section",children:o("div",{className:"section__content",children:[o("p",{className:"title",children:"HSE Authority"}),o("p",{className:"info",children:d(s)})]})})]})]})}),o("div",{className:"app-create-permit__group-header",children:"Select applicable option(s) below"}),o("div",{className:"app-register__form",children:l.map(S=>o("div",{className:"app-create-permit__radio-container",children:[o("p",{children:S.text}),o("div",{children:[o(Ae,{checked:f.protectiveEquipment[S.value]===!0,onChange:()=>g(S.value,!0),label:"YES"}),o(Ae,{checked:f.protectiveEquipment[S.value]===!1,onChange:()=>g(S.value,!1),label:"NO"})]})]}))}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"danger",type:"button",onClick:()=>_(!0),children:"Send Back To Authority"}),o(x,{variant:"secondary",type:"button",onClick:()=>r("go_back"),children:"Previous"}),o(x,{variant:"primary",children:"Next"})]})]}),v&&o(yn,{setModalOpen:()=>_(!1)})]})}const J0=[{text:"SAFETY HARD HATS (Type I, Type II)",value:"safetyHardHats"},{text:"SAFETY SHOES OR BOOTS (Anti-slip, Steel toe, Chemical Resistant, rain boots)",value:"safetyShoes"},{text:"BODY PROTECTION (Coverall) (Chemical resistant, apron, fire retardant, fire resistant)",value:"bodyProtection"},{text:"SAFETY GLOVES (Welders, Chemical resistant, Electrical resistant, high impact, mechanical, anti-vibration, General purpose)",value:"safetyGloves"},{text:"BREATHING APPARATUS (Dust, Fumes, Chemical, SCBA)",value:"breathingApparatus"},{text:"SAFETY GLASSES / FACE SHIELD / ELECTRIC ARC SHIELD / GRINDING SHIELD",value:"safetyGlasses"},{text:"HEARING PROTECTION (ear muff, ear plugs, ear muff & ear plugs)",value:"hearingProtection"},{text:"LIFE VEST (Work Vest, Life Jacket)",value:"lifeVest"},{text:"LIFE BUOY / LIFE LINE",value:"lifeBuoy"}],XL=re({}),e3=[{text:"FIRE EXTINGUISHER (CO2)",value:"fireExtinguisherCO2"},{text:"FIRE EXTINGUISHER (DCP)",value:"fireExtinguisherDCP"},{text:"REMOVAL OF FLAMMABLE SUBSTANCES",value:"removalOfFlammableSubstances"},{text:"EXPLOSION-PROOF WORKING TOOLS (e.g. bronze tools)",value:"explosionProofTools"},{text:"FLAME PROOF BLANKET",value:"flameProofBlanket"},{text:"GROUNDING OF EQUIPMENT",value:"groundingOfEquipment"},{text:"CONTINUOUS GAS MONITORING",value:"continuousGasMonitoring"},{text:"FIREWATCHER / STANDBY MAN",value:"firewatcher"}];function JL(){const{state:r,send:e}=Ir(),{permit:t}=Xe(),n=t,i=window.location.pathname,a=n!=null&&n.firefightingPrecautions&&n.firefightingPrecautions.length>0?n.firefightingPrecautions[0].firefightingPrecaution:null,s=n!=null&&n.firefightingPrecautions&&n.firefightingPrecautions.length>0?n.firefightingPrecautions[0].firefightingPrecaution:null,c=Me(()=>{if(!a||!s)return{};const b={};return Object.keys(a).forEach(C=>{a[C]===null&&s[C]===null&&(b[C]=null)}),b},[a,s]),l=Me(()=>{const b=Object.entries(c||{}).filter(([N,S])=>S===null&&!["id","createdAt","updatedAt"].includes(N)).map(([N,S])=>({key:N,value:S??!1}));return e3.filter(N=>b.some(S=>S.key===N.value))},[a]),d=b=>Object.entries(b||{}).filter(([S,k])=>k!==null&&!["id","createdAt","updatedAt","potentialHazardDescription"].includes(S)).map(([S,k])=>({key:S,value:k??!1})).map(({key:S,value:k})=>o("div",{className:"firefighting-item",children:o("p",{children:[o("span",{className:"firefighting-value",children:k?"YES":"NO"})," -"," ",S.replace(/([A-Z])/g," $1").toUpperCase()," "]})},S));let u={};i==="/activities-process/hse"?u=e3.reduce((b,C)=>{var N,S;return b[C.value]=((S=(N=r.context.firefighting_equipment)==null?void 0:N.firefighting_equipment)==null?void 0:S[C.value])??void 0,b},{}):u={};const{setFieldValue:h,values:p,handleSubmit:f,getFieldProps:g}=se({validationSchema:eF,initialValues:{...r.context.firefighting_equipment,firefightingEquipment:u},onSubmit:v});function m(b,C){h("firefightingEquipment",{...p.firefightingEquipment,[b]:C})}function v(b){e("submit",{data:{firefighting_equipment:b}})}const[_,y]=O(!1),w=[{section:"",header:"Selected Precautions",second_title:"",content:[]}];return o(P,{children:[o("form",{onSubmit:f,className:"app-register__attachment-form",children:[o("div",{className:"app-register__form",children:i==="/activities-process/auth"&&o(P,{children:[o(ve,{type:"Selected Equipment",header:"Hazards",children:w[0],section:w[0].section}),o("div",{className:"grid-cols-2",children:[o("div",{className:"section",children:o("div",{className:"section__content",children:[o("p",{className:"title",children:"Issuing Authority"}),o("p",{className:"info",children:d(a)})]})}),o("div",{className:"section",children:o("div",{className:"section__content",children:[o("p",{className:"title",children:"HSE Authority"}),o("p",{className:"info",children:d(s)})]})})]})]})}),o("p",{children:"Select applicable option(s)"}),o("div",{className:"app-register__form app-create-permit__docs",children:[l.map(b=>o("div",{className:"app-create-permit__radio-container",children:[o("p",{children:b.text}),o("div",{children:[o(Ae,{checked:p.firefightingEquipment[b.value]===!0,onChange:()=>m(b.value,!0),label:"YES"}),o(Ae,{checked:p.firefightingEquipment[b.value]===!1,onChange:()=>m(b.value,!1),label:"NO"})]})]})),o(ee,{type:"text",label:"Others",placeholder:"Others",...g("otherPrecaution")})]}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"danger",type:"button",onClick:()=>y(!0),children:"Send Back To Authority"}),o(x,{variant:"secondary",type:"button",onClick:()=>e("go_back"),children:"Back"}),o(x,{variant:"primary",children:"Next"})]})]}),_&&o(yn,{setModalOpen:()=>y(!1)})]})}const eF=re({});function tF(){const{state:r,send:e}=Ir(),{permit:t}=Xe(),n=t,i=n!=null&&n.permitDocuments&&n.permitDocuments.length>0?n.permitDocuments.slice(0,3).map(_=>_.document):[],a=L6(i),s=oo.filter(_=>!a.filter(w=>w.name===_)),c=oo.filter(_=>a.filter(w=>w.name===_)),{setFieldValue:l,values:d,getFieldProps:u,handleSubmit:h}=se({validationSchema:nF,initialValues:{...r.context.selected_documents},onSubmit:f}),p=(_,y)=>{l("documents",{...d.documents,[_]:y})};function f(_){e("submit",{data:{selected_documents:_}})}const[g,m]=O(!1),v=()=>c.map(y=>o("div",{className:"document-item",children:o("div",{className:"",children:o("p",{className:"document grid-cols-2",children:o("span",{children:y})})})},y));return o(P,{children:[o("form",{onSubmit:h,className:"app-register__attachment-form",children:[o("div",{className:"",children:o("div",{className:"section",children:o("div",{className:"",children:[o("h3",{children:"Uploaded Documents"}),o("p",{className:"info",children:Object.keys(c).length>0?v():o("p",{children:"No documents uploaded."})})]})})}),o("h3",{children:"Select the document you want to upload below"}),o("div",{className:"app-register__form-grid app-create-permit__docs",children:(s==null?void 0:s.length)>0?o(P,{children:s.map((_,y)=>o("div",{className:"",children:[o("label",{className:"app-register__attachment-form items-center",children:[o(Gt,{checked:!!d.documents[_],onChange:()=>p(_,!d.documents[_])}),o("span",{children:_})]}),o(tt,{...u(`document_${_}`),options:[{text:"Manual Upload",value:"manual"}]}),d.documents[_]&&!d[`document_${_}`]&&o("p",{className:"error",style:{color:"red"},children:"Please select an option for the selected document."})]},y))}):o(P,{children:o("p",{children:"No documents need to be uploaded"})})}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"danger",type:"button",onClick:()=>m(!0),children:"Send Back To Authority"}),o(x,{variant:"secondary",type:"button",onClick:()=>e("go_back"),children:"Back"}),o(x,{variant:"primary",onClick:()=>h,children:"Next"})]})]}),g&&o(yn,{setModalOpen:()=>m(!1)})]})}const nF=re().shape({});function rF(){const{state:r,send:e}=Ir(),{setFieldValue:t,getFieldProps:n,handleSubmit:i}=se({initialValues:r.context.document_uploads,onSubmit:u,validationSchema:iF}),a=r.context.selected_documents,[s,c]=O({});function l(f,g){c(m=>({...m,[f]:g}))}const d=Object.keys(a).filter(f=>f.startsWith("document_")&&a[f]==="manual").map(f=>({key:f,label:f.replace("document_","").replace(/_/g," ")}));function u(f){const g=Object.entries(s).reduce((m,[v,_])=>{const y=v.replace("document_","");return m[y]={type:"MANUAL",doc:_},m},{});e("submit",{data:{document_uploads:f,formattedDocuments:g}})}const[h,p]=O(!1);return o(P,{children:[o("form",{onSubmit:i,className:"app-register__attachment-form",children:[o("p",{className:"app-create-permit__description",children:"Ensure you upload authentic documents that are clear and visible."}),o("div",{className:"app-register__form-grid app-create-permit__docs",children:d.map(({key:f,label:g})=>o(Fi,{label:g,...n(f),onChange:m=>t(f,m),onUploadComplete:m=>l(f,m)},f))}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"danger",type:"button",onClick:()=>p(!0),children:"Send Back To Authority"}),o(x,{variant:"secondary",type:"button",onClick:()=>e("go_back"),children:"Previous"}),o(x,{variant:"primary",children:"Next"})]})]}),h&&o(yn,{setModalOpen:()=>p(!1)})]})}const iF=re({});function oF(){const{send:r,state:e}=Ir(),{handleSubmit:t,setFieldValue:n,values:i,getFieldProps:a}=se({validationSchema:sF,initialValues:{...e.context.mechanical_precaution},onSubmit:c});function s(u,h){n("mechanicalPrecaution",{...i.mechanicalPrecaution,[u]:h})}function c(u){r("submit",{data:{mechanical_precaution:u}})}const[l,d]=O(!1);return o(P,{children:[o("form",{onSubmit:t,children:[o("div",{className:"app-create-permit__group-header",children:"Select applicable option(s)"}),o("div",{className:"app-register__form",children:[aF.map(u=>o("div",{className:"app-create-permit__radio-container",children:[o("p",{children:u.text}),o("div",{children:[o(Ae,{checked:i.mechanicalPrecaution[u.value]===!0,onChange:()=>s(u.value,!0),label:"YES"}),o(Ae,{checked:i.mechanicalPrecaution[u.value]===!1,onChange:()=>s(u.value,!1),label:"NO"})]})]})),o(ee,{type:"text",label:"Others",placeholder:"Others",...a("other")})]}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"danger",type:"button",onClick:()=>d(!0),children:"Send Back To Authority"}),o(x,{variant:"secondary",type:"button",onClick:()=>r("go_back"),children:"Previous"}),o(x,{variant:"primary",children:"Next"})]})]}),l&&o(yn,{setModalOpen:()=>d(!1)})]})}const aF=[{text:"ISOLATION AND TAGGING OF VALVES (Ref. to P&IDs)",value:"valveIsolationAmdTagging"},{text:"FLANGES (Ref. to P&IDs and/or other schematic drawings) INSTALLATION",value:"flangesInstallation"},{text:"FLANGES (Ref. to P&IDs and/or other schematic drawings) REMOVAL",value:"flangesRemoval"},{text:"LINE DISCONNECTION (Ref. to P&IDs and/or other schematic drawings)",value:"lineDisconnection"},{text:"LINE / EQUIPMENT DRAINAGE",value:"lineDrainage"},{text:"LINE / EQUIPMENT DEPRESSURIZATION",value:"lineDepressurization"},{text:"VENTILATION (Natural / Mechanical means)",value:"ventilation"}],sF=re({});function cF(){const{send:r,state:e}=Ir(),{handleSubmit:t,setFieldValue:n,values:i,getFieldProps:a}=se({validationSchema:dF,initialValues:{...e.context.electrical_precaution},onSubmit:c});function s(u,h){n("electricalPrecaution",{...i.electricalPrecaution,[u]:h})}function c(u){r("submit",{data:{electrical_precaution:u}})}const[l,d]=O(!1);return o(P,{children:[o("form",{onSubmit:t,children:[o("div",{className:"app-create-permit__group-header",children:"Select applicable option(s)"}),o("div",{className:"app-register__form",children:[lF.map(u=>o("div",{className:"app-create-permit__radio-container",children:[o("p",{children:u.text}),o("div",{children:[o(Ae,{checked:i.electricalPrecaution[u.value]===!0,onChange:()=>s(u.value,!0),label:"YES"}),o(Ae,{checked:i.electricalPrecaution[u.value]===!1,onChange:()=>s(u.value,!1),label:"NO"})]})]})),o(ee,{type:"text",label:"Others",placeholder:"Others",...a("other")})]}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"danger",type:"button",onClick:()=>d(!0),children:"Send Back To Authority"}),o(x,{variant:"secondary",type:"button",onClick:()=>r("go_back"),children:"Previous"}),o(x,{variant:"primary",children:"Next"})]})]}),l&&o(yn,{setModalOpen:()=>d(!1)})]})}const lF=[{text:"SWITCH OFF OR SHUTDOWN THE EQUIPMENT",value:"equipmentShutdown"},{text:"RACK OUT AND PADLOCK THE CIRCUIT BREAKER (Car seal is also optional)",value:"circuitBreakerPadlock"},{text:"USE MULTIMAKER TO CHECK VOLTAGE READING",value:"voltageReadingCheck"},{text:"DISCONNECT SUPPLY FROM THE SOURCE",value:"supplyDisconnection"},{text:"DISCONNECT CABLE FROM EQUIPMENT",value:"cableDisconnection"},{text:"INSTALLATION OF GROUND FAULT CIRCUIT INTERUPTOR (GCFI OR RESIDUAL CURRENT CICUIT BREAKER (RCCB)",value:"gfciInstallation"}],dF=re({});function uF(){const{state:r}=Ir(),e=r.toStrings()[0],t=Yc.indexOf(e)+1,n=Yc.includes(e)?{title:Ar(e.replace("_"," "))}:null,[i,a]=O(!1),s=c=>{a(c),console.log(i)};return o("div",{className:"app-create-permit app-register",children:[o("div",{className:"app-register__nav-wrapper app-container-wrapper",children:o("div",{className:"app-container app-register__nav",children:[o(Tt,{href:"/",children:o("img",{src:"/svgs/logo.eptw.svg",alt:"eptw_logo",className:"permit-logo"})}),o("h5",{children:"Process Permit"}),o("div",{className:"",children:o(x,{variant:"purple",onClick:()=>s(!0),children:"Permit Details"})})]})}),o("div",{className:"app-register__content-wrapper app-container-wrapper ",children:[o("div",{className:"app-register__content app-container",children:[!r.matches("submit")&&o(P,{children:[o("div",{className:"app-register__content__header app-create-permit__header",children:[o("h3",{children:n==null?void 0:n.title.replace(/_/g," ").replace(/\b\w/g,c=>c.toUpperCase())}),o("p",{children:["Step ",t," of ",Yc.length-1]})]}),o("div",{className:"app-register__progress-bar",children:o("span",{style:{width:`${(t/Yc.length-1)*100}%`}})})]}),r.matches("work_hazards")&&o(GL,{}),r.matches("personal_protective_equipment")&&o(ZL,{}),r.matches("firefighting_equipment")&&o(JL,{}),r.matches("selected_documents")&&o(tF,{}),r.matches("document_uploads")&&o(rF,{}),r.matches("mechanical_precaution")&&o(oF,{}),r.matches("electrical_precaution")&&o(cF,{}),r.matches("adjust_date_time")&&o(qL,{}),r.matches("submit")&&o(Xk,{})]}),o("img",{src:"/svgs/auth-blur.svg",alt:"auth-blur"})]}),o("div",{className:"",children:i&&o(Bn,{setModalOpen:()=>a(!1)})})]})}const Yc=["work_hazards","personal_protective_equipment","firefighting_equipment","selected_documents","document_uploads","mechanical_precaution","electrical_precaution","adjust_date_time","submit"];function hF({}){return o(Zk,{children:o(ka,{children:o(uF,{})})})}const pF=()=>Ri({context:{selected_documents:{documents:[]},document_uploads:{[`document_${Ge(8)}`]:null,[`document_${Ge(8)}`]:null,[`document_${Ge(8)}`]:null,[`document_${Ge(8)}`]:null},submit:{}},predictableActionArguments:!0,initial:"selected_documents",states:{selected_documents:{meta:{title:"Document Selection",section:"D"},on:{submit:{target:"document_uploads",actions:["updateContext"]}}},document_uploads:{meta:{title:"Document Uploads",section:"E"},on:{submit:[{target:"submit",actions:["updateContext"]}],go_back:"selected_documents"}},submit:{type:"final",on:{submit:{target:"submit",actions:["updateContext"]},go_back:"document_uploads"}}}},{actions:{updateContext(r,e){Object.assign(r,e.data)}}}),B5=Ft({});function V5({children:r}){const[e,t,n]=Mi(pF);return Z(()=>{const i=n.subscribe(()=>window.scroll(0,0));return()=>{i.unsubscribe()}},[]),o(B5.Provider,{value:{state:e,send:t},children:r})}function xa(){return Yt(B5)}function Y5(){const{state:r,send:e}=xa(),{setFieldValue:t,values:n,getFieldProps:i,handleSubmit:a}=se({validationSchema:fF,initialValues:{...r.context.selected_documents},onSubmit:c}),s=(d,u)=>{t("documents",{...n.documents,[d]:u})};function c(d){e("submit",{data:{selected_documents:d}})}const l=["Tool Box Stock Doc","Radiography Cert","Confined Space Cert","Gas Testing Cert"];return o(P,{children:o("form",{onSubmit:a,className:"app-register__attachment-form",children:[o("p",{children:"Select the document you want to upload below"}),o("div",{className:"app-register__form-grid app-create-permit__docs",children:l.map((d,u)=>o("div",{className:"",children:[o("label",{className:"app-register__attachment-form items-center",children:[o(Gt,{checked:!!n.documents[d],onChange:()=>s(d,!n.documents[d])}),o("span",{children:d})]}),o(tt,{...i(`document_${d}`),options:[{text:"Manual Upload",value:"manual"}]}),n.documents[d]&&!n[`document_${d}`]&&o("p",{className:"error",style:{color:"red"},children:"Please select an option for the selected document."})]},u))}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>{window.location.href="/permit-activities"},children:"Back"}),o(x,{variant:"primary",onClick:()=>a,children:"Next"})]})]})})}const fF=re().shape({documents:re().test("document-selection-validation","Please select a corresponding dropdown option for all selected documents.",(r,e)=>Object.entries(r||{}).filter(([n,i])=>i).every(([n])=>!!e.parent[`document_${n}`]))});function W5(){const{state:r,send:e}=xa(),{setFieldValue:t,getFieldProps:n,handleSubmit:i}=se({initialValues:r.context.document_uploads,onSubmit:u,validationSchema:mF}),a=r.context.selected_documents,[s,c]=O({});function l(h,p){c(f=>({...f,[h]:p}))}const d=Object.keys(a).filter(h=>h.startsWith("document_")&&a[h]==="manual").map(h=>({key:h,label:h.replace("document_","").replace(/_/g," ")}));function u(h){const p=Object.entries(s).reduce((f,[g,m])=>{const v=g.replace("document_","");return f[v]={type:"MANUAL",doc:m},f},{});e("submit",{data:{document_uploads:h,formattedDocuments:p}})}return o(P,{children:o("form",{onSubmit:i,className:"app-register__attachment-form",children:[o("p",{className:"app-create-permit__description",children:"Ensure you upload authentic documents that are clear and visible."}),o("div",{className:"app-register__form-grid app-create-permit__docs",children:d.map(({key:h,label:p})=>o(Fi,{label:p,...n(h),onChange:f=>t(h,f),onUploadComplete:f=>l(h,f)},h))}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>e("go_back"),children:"Previous"}),o(x,{variant:"primary",children:"SUBMIT"})]})]})})}const mF=re({});function gF(){const{state:r}=xa(),{makeRequest:e}=X(yk),[t,n]=O(!1),[i,a]=O(!1),{valueID:s}=$e(),c=s;return Z(()=>{async function l(){n(!0);const d=Array.isArray(r.context.formattedDocuments)?r.context.formattedDocuments:Object.entries(r.context.formattedDocuments||{}).map(([m,v])=>({name:m,type:v.type||"MANUAL",doc:v.doc||""})),u=m=>m.replace(/\/.*|\(.*?\)/g,"").replace(/\./g,"").trim().replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,(v,_)=>_===0?v.toLowerCase():v.toUpperCase()).replace(/\s+/g,""),h=d.reduce((m,v)=>{const _=u(v.name);return _==="otherCert"&&(m[`${_}Name`]="..."),m[`${_}Type`]=v.type,m[`${_}`]=v.doc,m},{}),p={permitId:c,documents:h},[f,g]=await e(p);if(g)return n(!1),q({variant:"error",message:g.message??"Failed to approve permit, please try again"});n(!1),a(!0),q({variant:"success",message:"Permit approved successfully"}),n(!1)}l()},[r]),o("div",{className:"app-register__form",children:t?o(P,{children:o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/in-progress.svg",alt:""})}),o("p",{className:"submit-container__title",children:" Approving Permit ..."}),o("br",{}),o("p",{className:"submit-container__description",children:"Please wait as we process this permit."})]})})})}):i?o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/successful.svg",alt:""})}),o("p",{className:"submit-container__title",children:"Permit Approved"}),o("br",{}),o("p",{className:"submit-container__description",children:["You have successfully approved this permit."," "]}),o("br",{}),o("div",{className:"submit-container__button-container",children:[o(x,{variant:"tertiary",type:"button",onClick:()=>V("/process-permits"),children:"Home"}),o(x,{variant:"primary",type:"button",onClick:()=>V("/process-permits"),children:"View Permit"})]})]})})}):o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/submit-failed.svg",alt:""})}),o("p",{className:"submit-container__title",children:"Permit Approval Failed"}),o("br",{}),o("p",{className:"submit-container__description",children:"An error occurred while processing this permit."}),o("br",{}),o("div",{className:"submit-container__button-container",children:[o(x,{variant:"tertiary",type:"button",onClick:()=>V("/process-permits"),children:"Home"}),o(x,{variant:"primary",type:"button",onClick:()=>V("/process-permits"),children:"Redo Permit"})]})]})})})})}function vF(){const{state:r}=xa(),e=r.toStrings()[0],t=Wc.indexOf(e)+1,n=Wc.includes(e)?{title:Ar(e.replace("_"," "))}:null,[i,a]=O(!1),s=c=>{a(c),console.log(i)};return o("div",{className:"app-create-permit app-register",children:[o("div",{className:"app-register__nav-wrapper app-container-wrapper",children:o("div",{className:"app-container app-register__nav",children:[o(Tt,{href:"/",children:o("img",{src:"/svgs/logo.eptw.svg",alt:"eptw_logo",className:"permit-logo"})}),o("h5",{children:"Process Permit"}),o("div",{className:"",children:o(x,{variant:"purple",onClick:()=>s(!0),children:"Permit Details"})})]})}),o("div",{className:"app-register__content-wrapper app-container-wrapper ",children:[o("div",{className:"app-register__content app-container",children:[!r.matches("submit")&&o(P,{children:[o("div",{className:"app-register__content__header app-create-permit__header",children:[o("h3",{children:n==null?void 0:n.title.replace(/_/g," ").replace(/\b\w/g,c=>c.toUpperCase())}),o("p",{children:["Step ",t," of ",Wc.length-1]})]}),o("div",{className:"app-register__progress-bar",children:o("span",{style:{width:`${(t/Wc.length-1)*100}%`}})})]}),r.matches("selected_documents")&&o(Y5,{}),r.matches("document_uploads")&&o(W5,{}),r.matches("submit")&&o(gF,{})]}),o("img",{src:"/svgs/auth-blur.svg",alt:"auth-blur"})]}),o("div",{className:"",children:i&&o(Bn,{setModalOpen:()=>a(!1)})})]})}const Wc=["selected_documents","document_uploads","submit"];function _F({}){return o(V5,{children:o(ka,{children:o(vF,{})})})}function yF(){const{state:r}=xa(),{makeRequest:e}=X(bk),[t,n]=O(!1),[i,a]=O(!0),{valueID:s}=$e(),c=s;return Z(()=>{async function l(){n(!0);const d=Array.isArray(r.context.formattedDocuments)?r.context.formattedDocuments:Object.entries(r.context.formattedDocuments||{}).map(([m,v])=>({name:m,type:v.type||"MANUAL",doc:v.doc||""})),u=m=>m.replace(/\/.*|\(.*?\)/g,"").replace(/\./g,"").trim().replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,(v,_)=>_===0?v.toLowerCase():v.toUpperCase()).replace(/\s+/g,""),h=d.reduce((m,v)=>{const _=u(v.name);return _==="otherCert"&&(m[`${_}Name`]="..."),m[`${_}Type`]=v.type,m[`${_}`]=v.doc,m},{}),p={permitId:c,documents:h},[f,g]=await e(p);if(g)return n(!1),q({variant:"error",message:g.message??"Failed to approve permit, please try again"});n(!1),a(!0),q({variant:"success",message:"Permit approved successfully"}),n(!1)}l()},[r]),o("div",{className:"app-register__form",children:t?o(P,{children:o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/in-progress.svg",alt:""})}),o("p",{className:"submit-container__title",children:" Approving Permit ..."}),o("br",{}),o("p",{className:"submit-container__description",children:"Please wait as we process this permit."})]})})})}):i?o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/successful.svg",alt:""})}),o("p",{className:"submit-container__title",children:"Permit Approved"}),o("br",{}),o("p",{className:"submit-container__description",children:["You have successfully approved this permit."," "]}),o("br",{}),o("div",{className:"submit-container__button-container",children:[o(x,{variant:"tertiary",type:"button",onClick:()=>V("/process-permits"),children:"Home"}),o(x,{variant:"primary",type:"button",onClick:()=>V("/process-permits"),children:"View Permit"})]})]})})}):o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/submit-failed.svg",alt:""})}),o("p",{className:"submit-container__title",children:"Permit Approval Failed"}),o("br",{}),o("p",{className:"submit-container__description",children:"An error occurred while processing this permit."}),o("br",{}),o("div",{className:"submit-container__button-container",children:[o(x,{variant:"tertiary",type:"button",onClick:()=>V("/process-permits"),children:"Home"}),o(x,{variant:"primary",type:"button",onClick:()=>V("/process-permits"),children:"Redo Permit"})]})]})})})})}function CF(){const{state:r}=xa(),e=r.toStrings()[0],t=zc.indexOf(e)+1,n=zc.includes(e)?{title:Ar(e.replace("_"," "))}:null,[i,a]=O(!1),s=c=>{a(c),console.log(i)};return o("div",{className:"app-create-permit app-register",children:[o("div",{className:"app-register__nav-wrapper app-container-wrapper",children:o("div",{className:"app-container app-register__nav",children:[o(Tt,{href:"/",children:o("img",{src:"/svgs/logo.eptw.svg",alt:"eptw_logo",className:"permit-logo"})}),o("h5",{children:"Process Permit"}),o("div",{className:"",children:o(x,{variant:"purple",onClick:()=>s(!0),children:"Permit Details"})})]})}),o("div",{className:"app-register__content-wrapper app-container-wrapper ",children:[o("div",{className:"app-register__content app-container",children:[!r.matches("submit")&&o(P,{children:[o("div",{className:"app-register__content__header app-create-permit__header",children:[o("h3",{children:n==null?void 0:n.title.replace(/_/g," ").replace(/\b\w/g,c=>c.toUpperCase())}),o("p",{children:["Step ",t," of ",zc.length-1]})]}),o("div",{className:"app-register__progress-bar",children:o("span",{style:{width:`${(t/zc.length-1)*100}%`}})})]}),r.matches("selected_documents")&&o(Y5,{}),r.matches("document_uploads")&&o(W5,{}),r.matches("submit")&&o(yF,{})]}),o("img",{src:"/svgs/auth-blur.svg",alt:"auth-blur"})]}),o("div",{className:"",children:i&&o(Bn,{setModalOpen:()=>a(!1)})})]})}const zc=["selected_documents","document_uploads","submit"];function bF({}){return o(V5,{children:o(ka,{children:o(CF,{})})})}const wF=()=>Ri({context:{selected_documents:{documents:[]},document_uploads:{[`document_${Ge(8)}`]:null,[`document_${Ge(8)}`]:null,[`document_${Ge(8)}`]:null,[`document_${Ge(8)}`]:null},tool_kit_time:{toolBoxLeaderIdentity:"",toolBoxPosition:"",issuingAuthoritySupervisorTimeAdjustment:!1,startTime:""},submit:{}},predictableActionArguments:!0,initial:"selected_documents",states:{selected_documents:{meta:{title:"Document Selection",section:"D"},on:{submit:{target:"document_uploads",actions:["updateContext"]}}},document_uploads:{meta:{title:"Document Uploads",section:"E"},on:{submit:[{target:"tool_kit_time",actions:["updateContext"]}],go_back:"selected_documents"}},tool_kit_time:{meta:{title:"Tool - Box Talk Details"},on:{submit:[{target:"submit",actions:["updateContext"]}],go_back:"document_uploads"}},submit:{type:"final",on:{submit:{target:"submit",actions:["updateContext"]},go_back:"tool_kit_time"}}}},{actions:{updateContext(r,e){Object.assign(r,e.data)}}}),z5=Ft({});function SF({children:r}){const[e,t,n]=Mi(wF);return Z(()=>{const i=n.subscribe(()=>window.scroll(0,0));return()=>{i.unsubscribe()}},[]),o(z5.Provider,{value:{state:e,send:t},children:r})}function tc(){return Yt(z5)}function AF(){const{state:r,send:e}=tc(),{setFieldValue:t,getFieldProps:n,handleSubmit:i}=se({initialValues:r.context.document_uploads,onSubmit:u,validationSchema:NF}),a=r.context.selected_documents,[s,c]=O({});function l(h,p){c(f=>({...f,[h]:p}))}const d=Object.keys(a).filter(h=>h.startsWith("document_")&&a[h]==="manual").map(h=>({key:h,label:h.replace("document_","").replace(/_/g," ")}));function u(h){const p=Object.entries(s).reduce((f,[g,m])=>{const v=g.replace("document_","");return f[v]={type:"MANUAL",doc:m},f},{});e("submit",{data:{document_uploads:h,formattedDocuments:p}})}return o(P,{children:o("form",{onSubmit:i,className:"app-register__attachment-form",children:[o("p",{className:"app-create-permit__description",children:"Ensure you upload authentic documents that are clear and visible."}),o("div",{className:"app-register__form-grid app-create-permit__docs",children:d.map(({key:h,label:p})=>o(Fi,{label:p,...n(h),onChange:f=>t(h,f),onUploadComplete:f=>l(h,f)},h))}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>e("go_back"),children:"Previous"}),o(x,{variant:"primary",children:"Next"})]})]})})}const NF=re({});function EF(){const{state:r,send:e}=tc(),{valueID:t}=$e(),n=t,[i,a]=O({from_date:"",from_time:"",to_date:"",to_time:""});function s(){const u=new Date;let h=u.getHours();const p=u.getMinutes(),f=h>=12?"PM":"AM";h=h%12||12;const g=p<10?"0"+p:p;return`${h}:${g} ${f}`}Z(()=>{async function u(){const p=(await K(`/permit/${n}`,"GET"))[0].data;a(p)}u()},[t]);const{getFieldProps:c,handleSubmit:l}=se({validationSchema:TF,initialValues:{...r.context.tool_kit_time},onSubmit:d});function d(u){e("submit",{data:{tool_kit_time:u}})}return o("form",{onSubmit:l,className:"app-register__form",children:[o("p",{children:"Fill in the fields below to update the toolbox stock form"}),o("br",{}),o("div",{className:"app-register__form-grid",children:[o(ee,{label:"Identity Leader",placeholder:"Enter fullname",...c("toolBoxLeaderIdentity")}),o(ee,{label:"Position",placeholder:"Enter position",...c("toolBoxPosition")})]}),o("h4",{children:"Adjust Time"}),o("p",{children:"Kindly re-djust the date & time as appropriate (Optional)"}),o("div",{className:"",children:o("div",{className:"get-current-date",children:[o("p",{children:"Current Permit Start - End Date & Time:"}),o("span",{children:[le(i.from_date).format("DD/MM/YYYY")," :"," ",le(i.from_time).format("hh:mm A")," -"," ",le(i.to_date).format("DD/MM/YYYY")," :"," ",le(i.to_time).format("hh:mm A")," "]})]})}),o("div",{className:"",children:o("div",{className:"",children:[o("div",{className:"",children:[o("h4",{children:"Edit Start Time"}),o("div",{class:"edit-start-time",children:[o("p",{children:[" ","The time your are selecting must be more than the current time:"]}),o("br",{}),o("span",{children:s()})]})]}),o("br",{}),o(ee,{label:"Time",type:"time",placeholder:"00:00AM",...c("startTime")})]})}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>e("go_back"),children:"Back"}),o(x,{variant:"primary",children:"SUBMIT"})," "]})]})}const TF=re({toolBoxLeaderIdentity:oe().required("Identity leader is required"),toolBoxPosition:oe().required("Position is required")});function kF(r){const e=new Date;let t=e.toISOString().split("T")[0];if(r.trim()==="")return e.toISOString();if(!/^([01]\d|2[0-3]):([0-5]\d)$/.test(r))throw new Error("Invalid time format. Please provide a valid time in 'HH:mm' format.");return`${t}T${r}:00.000Z`}function IF(){const{state:r}=tc(),{makeRequest:e}=X(vk),[t,n]=O(!1),[i,a]=O(!1),{valueID:s}=$e(),c=s;return Z(()=>{async function l(){var v,_,y,w;const d=kF((v=r.context.tool_kit_time)==null?void 0:v.startTime).toString();console.log(typeof d),n(!0);const u=Array.isArray(r.context.formattedDocuments)?r.context.formattedDocuments:Object.entries(r.context.formattedDocuments||{}).map(([b,C])=>({name:b,type:C.type||"MANUAL",doc:C.doc||""})),h=b=>b.replace(/\/.*|\(.*?\)/g,"").replace(/\./g,"").trim().replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,(C,N)=>N===0?C.toLowerCase():C.toUpperCase()).replace(/\s+/g,""),p=u.reduce((b,C)=>{const N=h(C.name);return N==="otherCert"&&(b[`${N}Name`]="..."),b[`${N}Type`]=C.type,b[`${N}`]=C.doc,b},{}),f={permitId:c,documents:p,toolBoxLeaderIdentity:(_=r.context.tool_kit_time)==null?void 0:_.toolBoxLeaderIdentity,toolBoxPosition:(y=r.context.tool_kit_time)==null?void 0:y.toolBoxPosition,startTime:d,issuingAuthoritySupervisorTimeAdjustment:((w=r.context.tool_kit_time)==null?void 0:w.startTime)!==""},[g,m]=await e(f);if(m)return n(!1),q({variant:"error",message:m.message??"Failed to approve permit, please try again"});n(!1),a(!0),q({variant:"success",message:"Permit approved successfully"})}l()},[r]),o("div",{className:"app-register__form",children:t?o(P,{children:o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/in-progress.svg",alt:""})}),o("p",{className:"submit-container__title",children:" Approving Permit ..."}),o("br",{}),o("p",{className:"submit-container__description",children:"Please wait as we process this permit."})]})})})}):i?o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/successful.svg",alt:""})}),o("p",{className:"submit-container__title",children:"Permit Approved"}),o("br",{}),o("p",{className:"submit-container__description",children:["You have successfully approved this permit."," "]}),o("br",{}),o("div",{className:"submit-container__button-container",children:[o(x,{variant:"tertiary",type:"button",onClick:()=>V("/process-permits"),children:"Home"}),o(x,{variant:"primary",type:"button",onClick:()=>V("/process-permits"),children:"View Permit"})]})]})})}):o(P,{children:o("div",{className:"submit-container",children:o("div",{className:"",children:[o("div",{className:"flex-center",children:o("img",{src:"/svgs/submit-failed.svg",alt:""})}),o("p",{className:"submit-container__title",children:"Permit Approval Failed"}),o("br",{}),o("p",{className:"submit-container__description",children:"An error occurred while processing this permit."}),o("br",{}),o("div",{className:"submit-container__button-container",children:[o(x,{variant:"tertiary",type:"button",onClick:()=>V("/process-permits"),children:"Home"}),o(x,{variant:"primary",type:"button",onClick:()=>V("/process-permits"),children:"Redo Permit"})]})]})})})})}function xF(){const{state:r,send:e}=tc(),{setFieldValue:t,values:n,getFieldProps:i,handleSubmit:a}=se({validationSchema:PF,initialValues:{...r.context.selected_documents},onSubmit:c}),s=(d,u)=>{t("documents",{...n.documents,[d]:u})};function c(d){e("submit",{data:{selected_documents:d}})}const l=["Tool Box Stock Doc","Radiography Cert","Confined Space Cert","Gas Testing Cert"];return o(P,{children:o("form",{onSubmit:a,className:"app-register__attachment-form",children:[o("p",{children:"Select the document you want to upload below"}),o("div",{className:"app-register__form-grid app-create-permit__docs",children:l.map((d,u)=>o("div",{className:"",children:[o("label",{className:"app-register__attachment-form items-center",children:[o(Gt,{checked:!!n.documents[d],onChange:()=>s(d,!n.documents[d])}),o("span",{children:d})]}),o(tt,{...i(`document_${d}`),options:[{text:"Manual Upload",value:"manual"}]}),n.documents[d]&&!n[`document_${d}`]&&o("p",{className:"error",style:{color:"red"},children:"Please select an option for the selected document."})]},u))}),o("div",{className:"app-register__form-footer",children:[o(x,{variant:"secondary",type:"button",onClick:()=>{window.location.href="/permit-activitites"},children:"Back"}),o(x,{variant:"primary",onClick:()=>a,children:"Next"})]})]})})}const PF=re().shape({documents:re().test("document-selection-validation","Please select a corresponding dropdown option for all selected documents.",(r,e)=>Object.entries(r||{}).filter(([n,i])=>i).every(([n])=>!!e.parent[`document_${n}`]))});function DF(){const{state:r}=tc(),e=r.toStrings()[0],t=jc.indexOf(e)+1,n=jc.includes(e)?{title:Ar(e.replace("_"," "))}:null,[i,a]=O(!1),s=c=>{a(c),console.log(i)};return o("div",{className:"app-create-permit app-register",children:[o("div",{className:"app-register__nav-wrapper app-container-wrapper",children:o("div",{className:"app-container app-register__nav",children:[o(Tt,{href:"/",children:o("img",{src:"/svgs/logo.eptw.svg",alt:"eptw_logo",className:"permit-logo"})}),o("h5",{children:"Process Permit"}),o("div",{className:"",children:o(x,{variant:"purple",onClick:()=>s(!0),children:"Permit Details"})})]})}),o("div",{className:"app-register__content-wrapper app-container-wrapper ",children:[o("div",{className:"app-register__content app-container",children:[!r.matches("submit")&&o(P,{children:[o("div",{className:"app-register__content__header app-create-permit__header",children:[o("h3",{children:n==null?void 0:n.title.replace(/_/g," ").replace(/\b\w/g,c=>c.toUpperCase())}),o("p",{children:["Step ",t," of ",jc.length-1]})]}),o("div",{className:"app-register__progress-bar",children:o("span",{style:{width:`${(t/jc.length-1)*100}%`}})})]}),r.matches("selected_documents")&&o(xF,{}),r.matches("document_uploads")&&o(AF,{}),r.matches("tool_kit_time")&&o(EF,{}),r.matches("submit")&&o(IF,{})]}),o("img",{src:"/svgs/auth-blur.svg",alt:"auth-blur"})]}),o("div",{className:"",children:i&&o(Bn,{setModalOpen:()=>a(!1)})})]})}const jc=["selected_documents","document_uploads","tool_kit_time","submit"];function OF({}){return o(SF,{children:o(ka,{children:o(DF,{})})})}function RF({}){const r=FF();return o(MF,{token:r})}function MF({token:r}){const{makeRequest:e,isLoading:t}=X(tb),{handleSubmit:n,getFieldProps:i}=se({initialValues:{token:r,password:"",confirmPassword:""},validationSchema:LF,onSubmit:c}),[a,s]=O(!1);async function c(l){const[d,u]=await e(l);if(u)return q({variant:"error",message:u.message});V("/login")}return o("div",{className:"app-login",children:[o("div",{className:"app-login__card",children:[o("div",{className:"app-login__card__text",children:[o("img",{src:"/svgs/logo.svg",alt:"Oando-logo"}),o("h2",{children:["Electronic Permit to Work System ",o("strong",{children:"(e-PTW)"})]})]}),o("form",{onSubmit:n,className:"app-login__card__form",children:[o("h2",{children:"Complete Onboarding"}),o("p",{className:"app-login__card__form__desc",children:"Input and confirm your new password below."}),o(ee,{label:"Password",placeholder:"Enter your password",type:"password",...i("password")}),o(ee,{label:"Confirm Password",placeholder:"Re-enter your password",type:"password",...i("confirmPassword"),button:o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,width:"20",height:"20",onClick:()=>s(l=>!l),style:{cursor:"pointer"},children:a?o(P,{children:[o("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12A3 3 0 1112 9a3 3 0 013 3z"}),o("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.478 0-8.268-2.943-9.542-7z"})]}):o(P,{children:o("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.792C2.824 10.17 2 11.99 2 12c1.274 4.057 5.064 7 9.542 7 1.46 0 2.844-.348 4.082-.96M10.478 5.055C11.31 5.019 12.153 5 13 5c4.478 0 8.268 2.943 9.542 7-.279.884-.703 1.702-1.236 2.44M9.212 9.212A3 3 0 0012 15a2.995 2.995 0 001.788-.63M21 21l-6.477-6.477"})})})}),o(x,{isLoading:t,variant:"primary",className:"last-btn",children:["Save password",o(ne,{name:"arrow-right"})]})]})]}),o("div",{className:"app-login__footer",children:o("a",{href:"mailto:helpdesk@oandoplc.com",className:"app-link",children:"Need help?"})}),o("img",{className:"app-login__blur",src:"/svgs/auth-blur.svg",alt:"auth-blur"})]})}const LF=re({password:oe().required("Password is required"),confirmPassword:oe().required("Confirm your password").oneOf([xb("password")],"Passwords must match")});function FF(){try{const r=window.location.href;return new URL(r).searchParams.get("token")||""}catch(r){return console.error("Error extracting token from URL:",r),""}}function HF({}){var h;const{makeRequest:r,isLoading:e}=X(AE),{valueID:t}=$e(),[n,i]=O({email:"",roleId:0,fullname:"",role:{name:""},locationId:0});Z(()=>{async function p(){const g=(await K(`/profile/${t}`,"GET"))[0].data;i(g),console.log("user data",g)}p()},[t]);const a=X(js,{},!0),{getFieldProps:s,handleSubmit:c,setFieldValue:l}=se({initialValues:{email:"",roleId:null,fullname:""},onSubmit:u,validationSchema:UF});Z(()=>{n&&(l("email",n.email),l("roleId",n.roleId),l("fullname",n.fullname))},[n]);const d=(h=a.response)!=null&&h.data?a.response.data.map(p=>({text:p.name,value:p.id})):[];async function u(p){const[f,g]=await r({fullname:p.fullname,email:p.email||(n==null?void 0:n.email),roleId:Number(p.roleId)||(n==null?void 0:n.roleId),locationId:Number(n==null?void 0:n.locationId),internalUserId:Number(t)});if(g)return q({variant:"error",message:(g==null?void 0:g.message)??"Failed to create user, please try again."});V("/users")}return o(P,{children:[o(Ne,{title:"User"}),o("div",{className:"app-page",children:[o("div",{className:"app-create__header",children:[o("button",{onClick:()=>V("/users"),children:o(ne,{name:"caret-left"})}),o("div",{children:[o("h3",{children:"Edit existing user"}),o("p",{children:"Fill the fields below to edit an existing user"})]})]}),o("div",{className:"app-create__form",children:o("form",{onSubmit:c,children:[o("p",{className:"app-create__form__title",children:"Full Name"}),o(ee,{placeholder:"Enter full name",...s("fullname")}),o("p",{className:"app-create__form__title",children:"Email Address"}),o(ee,{placeholder:`${n.email?n.email:"Enter email address"}`,...s("email")}),o("p",{className:"app-create__form__title",children:"Role"}),o(tt,{...s("roleId"),placeholder:`${n.roleId?n.role.name:"--select role--"}`,options:d}),o(x,{type:"submit",variant:"primary",isLoading:e,children:"Edit User"})]})})]})]})}const UF=re({});function $F({}){var h,p,f,g;const{response:r,isLoading:e}=X(Gk,{},!0),{profile:t}=vn(),[n,i]=O([]),[a,s]=O({}),[c,l]=O([]);Z(()=>{async function m(){var _,y,w,b,C,N;const v=await K(`/profile/${t==null?void 0:t.id}`,"GET");console.log(v),i((w=(y=(_=v[0])==null?void 0:_.data)==null?void 0:y.role)==null?void 0:w.authorities),l((N=(C=(b=v[0])==null?void 0:b.data)==null?void 0:C.role)==null?void 0:N.permissions)}m()},[t]);const d=(m,v)=>{console.log(`Selected Role: ${v} for Permit ID: ${m}`),s(_=>{const y={..._,[m]:v};return console.log("Updated Roles State:",y),y})};async function u(){var v,_;const m=Object.entries(a).map(([y,w])=>({permitId:Number(y),authority:w}));if(m.length===0){q({variant:"error",message:"Please select a role for your permits."});return}try{const y=await K("/permit/profile/authority","PUT",{authorities:m});console.log(y),((v=y==null?void 0:y[0])==null?void 0:v.success)===!0?(q({variant:"success",message:"Permit roles updated successfully."}),c!=null&&c.includes("FULL_ACCESS")?V("/"):V("/permit-workflows")):((_=y==null?void 0:y[1])==null?void 0:_.success)===!1&&q({variant:"error",message:"Something went wrong."})}catch(y){console.error("Error during API request:",y),q({variant:"error",message:"An unexpected error occurred, please try again later."})}}return o("div",{className:"app-create-permit app-register",children:[o("div",{className:"app-register__nav-wrapper app-container-wrapper",children:o("div",{className:"app-container app-register__nav",children:[o(Tt,{href:`${c!=null&&c.includes("FULL_ACCESS")?"/":"/permit-workflows"}`,children:o("img",{src:"/svgs/logo.eptw.svg",alt:"eptw_logo",className:"permit-logo"})}),o("h5",{children:"Permit Role"})]})}),o("div",{className:"app-register__content-wrapper app-container-wrapper ",children:[o("div",{className:"app-register__content app-container",children:[o("div",{className:"app-register__content__header app-create-permit__header",children:o("h3",{children:"Select Permit Role"})}),o("p",{children:"For each permit listed below, kindly select the roles you will be performing"}),o("br",{}),o("br",{}),o("div",{className:"app-section__lg-table",children:o(je,{children:[o(Ct,{children:o(me,{children:[o(D,{children:"PTW ID"}),o(D,{children:"Work Type"}),o(D,{children:"Work To Be Performed"}),o(D,{children:"Work Area"}),o(D,{children:"Company"}),o(D,{children:"Option"})]})}),o(Qe,{children:(h=r==null?void 0:r.data)==null?void 0:h.map(m=>{var v,_,y,w;return o(P,{children:[o(me,{children:[o(D,{children:m.publicId}),o(D,{children:(v=m==null?void 0:m.type)==null?void 0:v.replace(/_/g," ")}),o(D,{children:`${m==null?void 0:m.workDescription.charAt(0).toUpperCase()}${m==null?void 0:m.workDescription.slice(1)}`}),o(D,{children:[m==null?void 0:m.workArea," / ",(_=m==null?void 0:m.location)==null?void 0:_.locationArea]}),o(D,{children:((y=m==null?void 0:m.entrustedCompany)==null?void 0:y.name)||((w=m==null?void 0:m.executingCompany)==null?void 0:w.name)}),o(D,{children:o(kt,{children:[o(It,{children:a[m.id]||"-- select an option --"}),o(xt,{children:n==null?void 0:n.map(b=>o("div",{className:"base-dropdown__option",onClick:()=>d(m.id,b),children:b},b))})]})})]},m.publicId),o("br",{}),o("br",{})]})})})]})}),o("div",{className:"app-section__sm-table",children:o(je,{children:o(Qe,{children:(p=r==null?void 0:r.data)==null?void 0:p.map(m=>{var v,_,y;return o("div",{className:"container",children:[o("div",{className:"location-flex",children:[o("p",{children:m.publicId}),o("h6",{className:"gray",children:m.type})]}),o("p",{children:m.workDescription}),o("div",{className:"location-flex",children:[o("div",{className:"",children:[o("p",{className:"gray",children:"Work Area :"}),o("h5",{children:[m==null?void 0:m.workArea," /"," ",(v=m==null?void 0:m.location)==null?void 0:v.locationArea]})]}),o("div",{className:"",children:[o("p",{className:"gray",children:"Entrusted Company :"}),o("h5",{children:[((_=m==null?void 0:m.entrustedCompany)==null?void 0:_.name)||((y=m==null?void 0:m.executingCompany)==null?void 0:y.name)," "]})]})]}),o("br",{}),o("div",{className:"",children:o(kt,{children:[o(It,{children:a[m.publicId]||"-- select an option --"}),o(xt,{children:n==null?void 0:n.map(w=>o("div",{className:"base-dropdown__option",onClick:()=>d(m.id,w),children:w},w))})]})})]},m.id)})})})}),!((f=r==null?void 0:r.data)!=null&&f.length)&&o("div",{className:"base-empty",children:[o("img",{src:"/svgs/document.svg",alt:"no-data"}),o("div",{children:e?o(P,{children:o("p",{children:"Fetching processable permits, please wait..."})}):o("div",{className:"",children:[o("p",{children:"No processable permits yet"}),o(x,{onClick:()=>V(`${c!=null&&c.includes("FULL_ACCESS")?"/":"/permit-workflows"}`),variant:"primary",children:"Go to home page"})]})})]}),((g=r==null?void 0:r.data)==null?void 0:g.length)&&o("div",{className:"app-register__form-footer",children:[o(x,{variant:"primary",onClick:u,children:["Submit",o(ne,{name:"arrow-right"})]}),o(x,{variant:"secondary",onClick:()=>V(`${c!=null&&c.includes("FULL_ACCESS")?"/":"/permit-workflows"}`),children:"Home"})]})]}),o("img",{src:"/svgs/auth-blur.svg",alt:"auth-blur"})]})]})}function BF({}){var n,i,a;const{profile:r}=vn();console.log(r);const[e,t]=O({});return Z(()=>{r&&(async()=>{const c=await K(`/profile/${r==null?void 0:r.id}`,"GET");console.log(c),t(c[0].data)})()},[]),o(P,{children:[o(Ne,{title:"Profile"}),o("div",{className:"app-page",children:[o(vt,{title:"Personal Details",show:!0,children:[o(z,{title:"Profile Photo",value:o("div",{className:"app-profile__avatar ",children:K4(r.fullname)})}),o(z,{title:"Full Name",value:`${r.fullname}`}),o(z,{title:"Email Address",value:r.email})]}),o(vt,{title:"Role Details",show:!0,children:[o(z,{title:"Role",value:((n=e.role)==null?void 0:n.name)??"---"}),o(z,{title:"Location",value:`${(i=e.location)==null?void 0:i.locationArea}, ${(a=e.location)==null?void 0:a.site}`}),o(z,{title:"Date Joined",value:le(r.createdAt).format("MMM DD, YYYY  HH:mm A")})]})]})]})}function VF({}){const r=vn(),{makeRequest:e}=X(X4),t=async n=>{const[i,a]=await e({access_token:n});if(a)return q({message:a==null?void 0:a.message,variant:"error"});r.login(i==null?void 0:i.data)};return Z(()=>{async function n(){try{await F7();const i=await mr.handleRedirectPromise();i&&(sessionStorage.setItem("access_token",i==null?void 0:i.accessToken),console.log(i,"this is the response"),t(i==null?void 0:i.accessToken))}catch(i){console.error("Error handling redirect:",i)}}n()},[]),o("div",{className:"app-login",children:[o("div",{className:"app-login__card",children:[o("div",{className:"app-login__card__text",children:[o("img",{src:"/svgs/logo.svg",alt:"Oando-logo",className:"app-login__card__logo"}),o("h2",{children:["Electronic Permit to Work System ",o("strong",{children:"(e-PTW)"})]})]}),o("div",{className:"app-login__card__form login",children:[o("br",{}),o("br",{}),o("br",{}),o("br",{}),o("br",{}),o("br",{}),o(x,{variant:"primary",isLoading:!0,children:"Logging you in ..."})]})]}),o("div",{class:"app-login__footer",children:o("a",{href:"mailto:helpdesk@oandoplc.com",className:"app-link",children:"Need help?"})}),o("img",{className:"app-login__blur",src:"/svgs/auth-blur.svg",alt:"auth-blur"})]})}function YF(){return o(Qc,{children:[o(P8,{path:"/login"}),o(O8,{path:"/forgot-password"}),o(L8,{path:"/reset-password"}),o(RF,{path:"/complete-onboarding"}),o(VF,{path:"/social-login"}),o(zF,{default:!0,children:o(Qc,{children:[o(hI,{path:"/permit/create"}),o(BI,{path:"/permit-management/ptw/approve/:id"}),o(VI,{path:"/permit-management/ptw/renew/:id"}),o(WI,{path:"/permit-management/ptw/add-comment/:id"}),o(nL,{path:"/activities-process"}),o(jL,{path:"/activities-process/hse"}),o(hF,{path:"/activities-process/auth"}),o(_F,{path:"/activities-process/perf-supervisor"}),o(bF,{path:"/activities-process/safety-officer"}),o(OF,{path:"/activities-process/issu-supervisor"}),o(hL,{path:"/revalidate-perf-auth"}),o(fL,{path:"/revalidate-safety-officer"}),o(TL,{path:"/revalidate-issuing-supervisor"}),o(DL,{path:"/closure-perf-auth"}),o(ML,{path:"/closure-safety-officer"}),o(HL,{path:"/closure-issuing-supervisor"}),o($F,{path:"/select-permit-role"}),o(YL,{path:"/add-onsite-comments"}),o(gE,{default:!0,children:o(Qc,{children:[o(hE,{path:"/"}),o(PE,{path:"/audits"}),o(_M,{path:"/analytics"}),o(OE,{path:"/roles"}),o(HE,{path:"/roles/create"}),o(OM,{path:"/roles/edit"}),o(RE,{path:"/locations"}),o(_1,{path:"/locations/create/location-area"}),o(_1,{path:"/locations/create/location-area"}),o(PM,{path:"/locations/create/work-area"}),o(CM,{path:"/locations/edit"}),o(FE,{path:"/users"}),o(EM,{path:"/users/create-company"}),o(IM,{path:"/users/company/details"}),o(AM,{path:"/users/create-external"}),o(NM,{path:"/users/create-internal"}),o(wM,{path:"/users/edit"}),o(HF,{path:"/interal-user/edit"}),o(BM,{path:"/users/edit-company"}),o(MM,{path:"/permit-workflows"}),o(YM,{path:"/permit-activities"}),o(iL,{path:"/permit-monitoring"}),o(UL,{path:"/permit-storage"}),o(aL,{path:"/monitoring-details"}),o($M,{path:"/permit-management"}),o($L,{path:"/permit-storage/details"}),o(WM,{path:"process-permits"}),o(sL,{path:"/revalidate-permit"}),o(kL,{path:"/permit-closure"}),o(yI,{path:"/permit-management/ptw/:id"}),o(jI,{path:"/permit-renewals"}),o(GI,{path:"/permit-renewals/ptw/:id"}),o(ZI,{path:"/permit-completions"}),o(ex,{path:"/permit-completions/:id"}),o(nx,{path:"/permit-suspensions"}),o(ax,{path:"/permit-suspensions/continuation/:id"}),o(xM,{path:"/permit-drafts"}),o(BF,{path:"/profile"})]})})]})})]})}function WF({}){return o(Jb,{instance:mr,children:o(Q4,{children:o(DE,{children:o(cI,{children:[o(uE,{children:o(YF,{})}),o(G4,{})]})})})})}function zF({children:r}){const{isAuthenticated:e}=vn();return Z(()=>{e||V("/login")},[]),e?o(P,{children:r}):null}!mr.getActiveAccount()&&mr.getAllAccounts().length>0&&mr.setActiveAccount(mr.getAllAccounts()[0]);mr.addEventCallback(r=>{if(r.eventType===ue.LOGIN_SUCCESS&&r.payload.account){const e=r.payload.account;mr.setActiveAccount(e),console.log(e,"this is the account")}});na(o(WF,{instance:mr}),document.getElementById("app"));
